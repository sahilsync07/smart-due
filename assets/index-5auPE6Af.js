(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();/**
* @vue/shared v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Qn(t){const e=Object.create(null);for(const s of t.split(","))e[s]=1;return s=>s in e}const se={},rs=[],ot=()=>{},Ul=()=>!1,jr=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Yn=t=>t.startsWith("onUpdate:"),Oe=Object.assign,Xn=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},Nl=Object.prototype.hasOwnProperty,Y=(t,e)=>Nl.call(t,e),L=Array.isArray,ns=t=>Ks(t)==="[object Map]",hs=t=>Ks(t)==="[object Set]",Oi=t=>Ks(t)==="[object Date]",z=t=>typeof t=="function",fe=t=>typeof t=="string",at=t=>typeof t=="symbol",le=t=>t!==null&&typeof t=="object",Lo=t=>(le(t)||z(t))&&z(t.then)&&z(t.catch),Fo=Object.prototype.toString,Ks=t=>Fo.call(t),$l=t=>Ks(t).slice(8,-1),Mo=t=>Ks(t)==="[object Object]",Zn=t=>fe(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,As=Qn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ir=t=>{const e=Object.create(null);return s=>e[s]||(e[s]=t(s))},Ll=/-(\w)/g,Le=Ir(t=>t.replace(Ll,(e,s)=>s?s.toUpperCase():"")),Fl=/\B([A-Z])/g,Ht=Ir(t=>t.replace(Fl,"-$1").toLowerCase()),Br=Ir(t=>t.charAt(0).toUpperCase()+t.slice(1)),Zr=Ir(t=>t?`on${Br(t)}`:""),$t=(t,e)=>!Object.is(t,e),pr=(t,...e)=>{for(let s=0;s<t.length;s++)t[s](...e)},Sn=(t,e,s,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:s})},vr=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let xi;const Dr=()=>xi||(xi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ei(t){if(L(t)){const e={};for(let s=0;s<t.length;s++){const r=t[s],n=fe(r)?Wl(r):ei(r);if(n)for(const i in n)e[i]=n[i]}return e}else if(fe(t)||le(t))return t}const Ml=/;(?![^(]*\))/g,ql=/:([^]+)/,Hl=/\/\*[^]*?\*\//g;function Wl(t){const e={};return t.replace(Hl,"").split(Ml).forEach(s=>{if(s){const r=s.split(ql);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function it(t){let e="";if(fe(t))e=t;else if(L(t))for(let s=0;s<t.length;s++){const r=it(t[s]);r&&(e+=r+" ")}else if(le(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const Vl="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Kl=Qn(Vl);function qo(t){return!!t||t===""}function zl(t,e){if(t.length!==e.length)return!1;let s=!0;for(let r=0;s&&r<t.length;r++)s=zs(t[r],e[r]);return s}function zs(t,e){if(t===e)return!0;let s=Oi(t),r=Oi(e);if(s||r)return s&&r?t.getTime()===e.getTime():!1;if(s=at(t),r=at(e),s||r)return t===e;if(s=L(t),r=L(e),s||r)return s&&r?zl(t,e):!1;if(s=le(t),r=le(e),s||r){if(!s||!r)return!1;const n=Object.keys(t).length,i=Object.keys(e).length;if(n!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),c=e.hasOwnProperty(o);if(a&&!c||!a&&c||!zs(t[o],e[o]))return!1}}return String(t)===String(e)}function ti(t,e){return t.findIndex(s=>zs(s,e))}const Ho=t=>!!(t&&t.__v_isRef===!0),j=t=>fe(t)?t:t==null?"":L(t)||le(t)&&(t.toString===Fo||!z(t.toString))?Ho(t)?j(t.value):JSON.stringify(t,Wo,2):String(t),Wo=(t,e)=>Ho(e)?Wo(t,e.value):ns(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[r,n],i)=>(s[en(r,i)+" =>"]=n,s),{})}:hs(e)?{[`Set(${e.size})`]:[...e.values()].map(s=>en(s))}:at(e)?en(e):le(e)&&!L(e)&&!Mo(e)?String(e):e,en=(t,e="")=>{var s;return at(t)?`Symbol(${(s=t.description)!=null?s:e})`:t};/**
* @vue/reactivity v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Pe;class Jl{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Pe,!e&&Pe&&(this.index=(Pe.scopes||(Pe.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].pause();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].resume();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].resume()}}run(e){if(this._active){const s=Pe;try{return Pe=this,e()}finally{Pe=s}}}on(){++this._on===1&&(this.prevScope=Pe,Pe=this)}off(){this._on>0&&--this._on===0&&(Pe=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let s,r;for(s=0,r=this.effects.length;s<r;s++)this.effects[s].stop();for(this.effects.length=0,s=0,r=this.cleanups.length;s<r;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,r=this.scopes.length;s<r;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function Gl(){return Pe}let ae;const tn=new WeakSet;class Vo{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Pe&&Pe.active&&Pe.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,tn.has(this)&&(tn.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||zo(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Ci(this),Jo(this);const e=ae,s=He;ae=this,He=!0;try{return this.fn()}finally{Go(this),ae=e,He=s,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)ni(e);this.deps=this.depsTail=void 0,Ci(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?tn.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){En(this)&&this.run()}get dirty(){return En(this)}}let Ko=0,Ps,Rs;function zo(t,e=!1){if(t.flags|=8,e){t.next=Rs,Rs=t;return}t.next=Ps,Ps=t}function si(){Ko++}function ri(){if(--Ko>0)return;if(Rs){let e=Rs;for(Rs=void 0;e;){const s=e.next;e.next=void 0,e.flags&=-9,e=s}}let t;for(;Ps;){let e=Ps;for(Ps=void 0;e;){const s=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=s}}if(t)throw t}function Jo(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Go(t){let e,s=t.depsTail,r=s;for(;r;){const n=r.prevDep;r.version===-1?(r===s&&(s=n),ni(r),Ql(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=n}t.deps=e,t.depsTail=s}function En(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Qo(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Qo(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Ls)||(t.globalVersion=Ls,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!En(t))))return;t.flags|=2;const e=t.dep,s=ae,r=He;ae=t,He=!0;try{Jo(t);const n=t.fn(t._value);(e.version===0||$t(n,t._value))&&(t.flags|=128,t._value=n,e.version++)}catch(n){throw e.version++,n}finally{ae=s,He=r,Go(t),t.flags&=-3}}function ni(t,e=!1){const{dep:s,prevSub:r,nextSub:n}=t;if(r&&(r.nextSub=n,t.prevSub=void 0),n&&(n.prevSub=r,t.nextSub=void 0),s.subs===t&&(s.subs=r,!r&&s.computed)){s.computed.flags&=-5;for(let i=s.computed.deps;i;i=i.nextDep)ni(i,!0)}!e&&!--s.sc&&s.map&&s.map.delete(s.key)}function Ql(t){const{prevDep:e,nextDep:s}=t;e&&(e.nextDep=s,t.prevDep=void 0),s&&(s.prevDep=e,t.nextDep=void 0)}let He=!0;const Yo=[];function bt(){Yo.push(He),He=!1}function wt(){const t=Yo.pop();He=t===void 0?!0:t}function Ci(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const s=ae;ae=void 0;try{e()}finally{ae=s}}}let Ls=0;class Yl{constructor(e,s){this.sub=e,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Xo{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!ae||!He||ae===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==ae)s=this.activeLink=new Yl(ae,this),ae.deps?(s.prevDep=ae.depsTail,ae.depsTail.nextDep=s,ae.depsTail=s):ae.deps=ae.depsTail=s,Zo(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const r=s.nextDep;r.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=r),s.prevDep=ae.depsTail,s.nextDep=void 0,ae.depsTail.nextDep=s,ae.depsTail=s,ae.deps===s&&(ae.deps=r)}return s}trigger(e){this.version++,Ls++,this.notify(e)}notify(e){si();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{ri()}}}function Zo(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)Zo(r)}const s=t.dep.subs;s!==t&&(t.prevSub=s,s&&(s.nextSub=t)),t.dep.subs=t}}const kn=new WeakMap,Lt=Symbol(""),Tn=Symbol(""),Fs=Symbol("");function ye(t,e,s){if(He&&ae){let r=kn.get(t);r||kn.set(t,r=new Map);let n=r.get(s);n||(r.set(s,n=new Xo),n.map=r,n.key=s),n.track()}}function ft(t,e,s,r,n,i){const o=kn.get(t);if(!o){Ls++;return}const a=c=>{c&&c.trigger()};if(si(),e==="clear")o.forEach(a);else{const c=L(t),u=c&&Zn(s);if(c&&s==="length"){const l=Number(r);o.forEach((d,g)=>{(g==="length"||g===Fs||!at(g)&&g>=l)&&a(d)})}else switch((s!==void 0||o.has(void 0))&&a(o.get(s)),u&&a(o.get(Fs)),e){case"add":c?u&&a(o.get("length")):(a(o.get(Lt)),ns(t)&&a(o.get(Tn)));break;case"delete":c||(a(o.get(Lt)),ns(t)&&a(o.get(Tn)));break;case"set":ns(t)&&a(o.get(Lt));break}}ri()}function Jt(t){const e=te(t);return e===t?e:(ye(e,"iterate",Fs),We(t)?e:e.map(Ee))}function Ur(t){return ye(t=te(t),"iterate",Fs),t}const Xl={__proto__:null,[Symbol.iterator](){return sn(this,Symbol.iterator,Ee)},concat(...t){return Jt(this).concat(...t.map(e=>L(e)?Jt(e):e))},entries(){return sn(this,"entries",t=>(t[1]=Ee(t[1]),t))},every(t,e){return ut(this,"every",t,e,void 0,arguments)},filter(t,e){return ut(this,"filter",t,e,s=>s.map(Ee),arguments)},find(t,e){return ut(this,"find",t,e,Ee,arguments)},findIndex(t,e){return ut(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return ut(this,"findLast",t,e,Ee,arguments)},findLastIndex(t,e){return ut(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return ut(this,"forEach",t,e,void 0,arguments)},includes(...t){return rn(this,"includes",t)},indexOf(...t){return rn(this,"indexOf",t)},join(t){return Jt(this).join(t)},lastIndexOf(...t){return rn(this,"lastIndexOf",t)},map(t,e){return ut(this,"map",t,e,void 0,arguments)},pop(){return vs(this,"pop")},push(...t){return vs(this,"push",t)},reduce(t,...e){return Ai(this,"reduce",t,e)},reduceRight(t,...e){return Ai(this,"reduceRight",t,e)},shift(){return vs(this,"shift")},some(t,e){return ut(this,"some",t,e,void 0,arguments)},splice(...t){return vs(this,"splice",t)},toReversed(){return Jt(this).toReversed()},toSorted(t){return Jt(this).toSorted(t)},toSpliced(...t){return Jt(this).toSpliced(...t)},unshift(...t){return vs(this,"unshift",t)},values(){return sn(this,"values",Ee)}};function sn(t,e,s){const r=Ur(t),n=r[e]();return r!==t&&!We(t)&&(n._next=n.next,n.next=()=>{const i=n._next();return i.value&&(i.value=s(i.value)),i}),n}const Zl=Array.prototype;function ut(t,e,s,r,n,i){const o=Ur(t),a=o!==t&&!We(t),c=o[e];if(c!==Zl[e]){const d=c.apply(t,i);return a?Ee(d):d}let u=s;o!==t&&(a?u=function(d,g){return s.call(this,Ee(d),g,t)}:s.length>2&&(u=function(d,g){return s.call(this,d,g,t)}));const l=c.call(o,u,r);return a&&n?n(l):l}function Ai(t,e,s,r){const n=Ur(t);let i=s;return n!==t&&(We(t)?s.length>3&&(i=function(o,a,c){return s.call(this,o,a,c,t)}):i=function(o,a,c){return s.call(this,o,Ee(a),c,t)}),n[e](i,...r)}function rn(t,e,s){const r=te(t);ye(r,"iterate",Fs);const n=r[e](...s);return(n===-1||n===!1)&&li(s[0])?(s[0]=te(s[0]),r[e](...s)):n}function vs(t,e,s=[]){bt(),si();const r=te(t)[e].apply(t,s);return ri(),wt(),r}const ec=Qn("__proto__,__v_isRef,__isVue"),ea=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(at));function tc(t){at(t)||(t=String(t));const e=te(this);return ye(e,"has",t),e.hasOwnProperty(t)}class ta{constructor(e=!1,s=!1){this._isReadonly=e,this._isShallow=s}get(e,s,r){if(s==="__v_skip")return e.__v_skip;const n=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return i;if(s==="__v_raw")return r===(n?i?dc:ia:i?na:ra).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=L(e);if(!n){let c;if(o&&(c=Xl[s]))return c;if(s==="hasOwnProperty")return tc}const a=Reflect.get(e,s,Te(e)?e:r);return(at(s)?ea.has(s):ec(s))||(n||ye(e,"get",s),i)?a:Te(a)?o&&Zn(s)?a:a.value:le(a)?n?oa(a):oi(a):a}}class sa extends ta{constructor(e=!1){super(!1,e)}set(e,s,r,n){let i=e[s];if(!this._isShallow){const c=Mt(i);if(!We(r)&&!Mt(r)&&(i=te(i),r=te(r)),!L(e)&&Te(i)&&!Te(r))return c?!1:(i.value=r,!0)}const o=L(e)&&Zn(s)?Number(s)<e.length:Y(e,s),a=Reflect.set(e,s,r,Te(e)?e:n);return e===te(n)&&(o?$t(r,i)&&ft(e,"set",s,r):ft(e,"add",s,r)),a}deleteProperty(e,s){const r=Y(e,s);e[s];const n=Reflect.deleteProperty(e,s);return n&&r&&ft(e,"delete",s,void 0),n}has(e,s){const r=Reflect.has(e,s);return(!at(s)||!ea.has(s))&&ye(e,"has",s),r}ownKeys(e){return ye(e,"iterate",L(e)?"length":Lt),Reflect.ownKeys(e)}}class sc extends ta{constructor(e=!1){super(!0,e)}set(e,s){return!0}deleteProperty(e,s){return!0}}const rc=new sa,nc=new sc,ic=new sa(!0);const On=t=>t,or=t=>Reflect.getPrototypeOf(t);function oc(t,e,s){return function(...r){const n=this.__v_raw,i=te(n),o=ns(i),a=t==="entries"||t===Symbol.iterator&&o,c=t==="keys"&&o,u=n[t](...r),l=s?On:e?Sr:Ee;return!e&&ye(i,"iterate",c?Tn:Lt),{next(){const{value:d,done:g}=u.next();return g?{value:d,done:g}:{value:a?[l(d[0]),l(d[1])]:l(d),done:g}},[Symbol.iterator](){return this}}}}function ar(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function ac(t,e){const s={get(n){const i=this.__v_raw,o=te(i),a=te(n);t||($t(n,a)&&ye(o,"get",n),ye(o,"get",a));const{has:c}=or(o),u=e?On:t?Sr:Ee;if(c.call(o,n))return u(i.get(n));if(c.call(o,a))return u(i.get(a));i!==o&&i.get(n)},get size(){const n=this.__v_raw;return!t&&ye(te(n),"iterate",Lt),Reflect.get(n,"size",n)},has(n){const i=this.__v_raw,o=te(i),a=te(n);return t||($t(n,a)&&ye(o,"has",n),ye(o,"has",a)),n===a?i.has(n):i.has(n)||i.has(a)},forEach(n,i){const o=this,a=o.__v_raw,c=te(a),u=e?On:t?Sr:Ee;return!t&&ye(c,"iterate",Lt),a.forEach((l,d)=>n.call(i,u(l),u(d),o))}};return Oe(s,t?{add:ar("add"),set:ar("set"),delete:ar("delete"),clear:ar("clear")}:{add(n){!e&&!We(n)&&!Mt(n)&&(n=te(n));const i=te(this);return or(i).has.call(i,n)||(i.add(n),ft(i,"add",n,n)),this},set(n,i){!e&&!We(i)&&!Mt(i)&&(i=te(i));const o=te(this),{has:a,get:c}=or(o);let u=a.call(o,n);u||(n=te(n),u=a.call(o,n));const l=c.call(o,n);return o.set(n,i),u?$t(i,l)&&ft(o,"set",n,i):ft(o,"add",n,i),this},delete(n){const i=te(this),{has:o,get:a}=or(i);let c=o.call(i,n);c||(n=te(n),c=o.call(i,n)),a&&a.call(i,n);const u=i.delete(n);return c&&ft(i,"delete",n,void 0),u},clear(){const n=te(this),i=n.size!==0,o=n.clear();return i&&ft(n,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=oc(n,t,e)}),s}function ii(t,e){const s=ac(t,e);return(r,n,i)=>n==="__v_isReactive"?!t:n==="__v_isReadonly"?t:n==="__v_raw"?r:Reflect.get(Y(s,n)&&n in r?s:r,n,i)}const lc={get:ii(!1,!1)},cc={get:ii(!1,!0)},uc={get:ii(!0,!1)};const ra=new WeakMap,na=new WeakMap,ia=new WeakMap,dc=new WeakMap;function hc(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function fc(t){return t.__v_skip||!Object.isExtensible(t)?0:hc($l(t))}function oi(t){return Mt(t)?t:ai(t,!1,rc,lc,ra)}function pc(t){return ai(t,!1,ic,cc,na)}function oa(t){return ai(t,!0,nc,uc,ia)}function ai(t,e,s,r,n){if(!le(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=fc(t);if(i===0)return t;const o=n.get(t);if(o)return o;const a=new Proxy(t,i===2?r:s);return n.set(t,a),a}function is(t){return Mt(t)?is(t.__v_raw):!!(t&&t.__v_isReactive)}function Mt(t){return!!(t&&t.__v_isReadonly)}function We(t){return!!(t&&t.__v_isShallow)}function li(t){return t?!!t.__v_raw:!1}function te(t){const e=t&&t.__v_raw;return e?te(e):t}function gc(t){return!Y(t,"__v_skip")&&Object.isExtensible(t)&&Sn(t,"__v_skip",!0),t}const Ee=t=>le(t)?oi(t):t,Sr=t=>le(t)?oa(t):t;function Te(t){return t?t.__v_isRef===!0:!1}function mc(t){return Te(t)?t.value:t}const bc={get:(t,e,s)=>e==="__v_raw"?t:mc(Reflect.get(t,e,s)),set:(t,e,s,r)=>{const n=t[e];return Te(n)&&!Te(s)?(n.value=s,!0):Reflect.set(t,e,s,r)}};function aa(t){return is(t)?t:new Proxy(t,bc)}class wc{constructor(e,s,r){this.fn=e,this.setter=s,this._value=void 0,this.dep=new Xo(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ls-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&ae!==this)return zo(this,!0),!0}get value(){const e=this.dep.track();return Qo(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function yc(t,e,s=!1){let r,n;return z(t)?r=t:(r=t.get,n=t.set),new wc(r,n,s)}const lr={},Er=new WeakMap;let Bt;function _c(t,e=!1,s=Bt){if(s){let r=Er.get(s);r||Er.set(s,r=[]),r.push(t)}}function vc(t,e,s=se){const{immediate:r,deep:n,once:i,scheduler:o,augmentJob:a,call:c}=s,u=x=>n?x:We(x)||n===!1||n===0?pt(x,1):pt(x);let l,d,g,b,m=!1,_=!1;if(Te(t)?(d=()=>t.value,m=We(t)):is(t)?(d=()=>u(t),m=!0):L(t)?(_=!0,m=t.some(x=>is(x)||We(x)),d=()=>t.map(x=>{if(Te(x))return x.value;if(is(x))return u(x);if(z(x))return c?c(x,2):x()})):z(t)?e?d=c?()=>c(t,2):t:d=()=>{if(g){bt();try{g()}finally{wt()}}const x=Bt;Bt=l;try{return c?c(t,3,[b]):t(b)}finally{Bt=x}}:d=ot,e&&n){const x=d,F=n===!0?1/0:n;d=()=>pt(x(),F)}const y=Gl(),P=()=>{l.stop(),y&&y.active&&Xn(y.effects,l)};if(i&&e){const x=e;e=(...F)=>{x(...F),P()}}let C=_?new Array(t.length).fill(lr):lr;const S=x=>{if(!(!(l.flags&1)||!l.dirty&&!x))if(e){const F=l.run();if(n||m||(_?F.some((H,W)=>$t(H,C[W])):$t(F,C))){g&&g();const H=Bt;Bt=l;try{const W=[F,C===lr?void 0:_&&C[0]===lr?[]:C,b];C=F,c?c(e,3,W):e(...W)}finally{Bt=H}}}else l.run()};return a&&a(S),l=new Vo(d),l.scheduler=o?()=>o(S,!1):S,b=x=>_c(x,!1,l),g=l.onStop=()=>{const x=Er.get(l);if(x){if(c)c(x,4);else for(const F of x)F();Er.delete(l)}},e?r?S(!0):C=l.run():o?o(S.bind(null,!0),!0):l.run(),P.pause=l.pause.bind(l),P.resume=l.resume.bind(l),P.stop=P,P}function pt(t,e=1/0,s){if(e<=0||!le(t)||t.__v_skip||(s=s||new Set,s.has(t)))return t;if(s.add(t),e--,Te(t))pt(t.value,e,s);else if(L(t))for(let r=0;r<t.length;r++)pt(t[r],e,s);else if(hs(t)||ns(t))t.forEach(r=>{pt(r,e,s)});else if(Mo(t)){for(const r in t)pt(t[r],e,s);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&pt(t[r],e,s)}return t}/**
* @vue/runtime-core v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Js(t,e,s,r){try{return r?t(...r):t()}catch(n){Nr(n,e,s)}}function lt(t,e,s,r){if(z(t)){const n=Js(t,e,s,r);return n&&Lo(n)&&n.catch(i=>{Nr(i,e,s)}),n}if(L(t)){const n=[];for(let i=0;i<t.length;i++)n.push(lt(t[i],e,s,r));return n}}function Nr(t,e,s,r=!0){const n=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||se;if(e){let a=e.parent;const c=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const l=a.ec;if(l){for(let d=0;d<l.length;d++)if(l[d](t,c,u)===!1)return}a=a.parent}if(i){bt(),Js(i,null,10,[t,c,u]),wt();return}}Sc(t,s,n,r,o)}function Sc(t,e,s,r=!0,n=!1){if(n)throw t;console.error(t)}const ke=[];let st=-1;const os=[];let kt=null,es=0;const la=Promise.resolve();let kr=null;function ca(t){const e=kr||la;return t?e.then(this?t.bind(this):t):e}function Ec(t){let e=st+1,s=ke.length;for(;e<s;){const r=e+s>>>1,n=ke[r],i=Ms(n);i<t||i===t&&n.flags&2?e=r+1:s=r}return e}function ci(t){if(!(t.flags&1)){const e=Ms(t),s=ke[ke.length-1];!s||!(t.flags&2)&&e>=Ms(s)?ke.push(t):ke.splice(Ec(e),0,t),t.flags|=1,ua()}}function ua(){kr||(kr=la.then(ha))}function kc(t){L(t)?os.push(...t):kt&&t.id===-1?kt.splice(es+1,0,t):t.flags&1||(os.push(t),t.flags|=1),ua()}function Pi(t,e,s=st+1){for(;s<ke.length;s++){const r=ke[s];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;ke.splice(s,1),s--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function da(t){if(os.length){const e=[...new Set(os)].sort((s,r)=>Ms(s)-Ms(r));if(os.length=0,kt){kt.push(...e);return}for(kt=e,es=0;es<kt.length;es++){const s=kt[es];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}kt=null,es=0}}const Ms=t=>t.id==null?t.flags&2?-1:1/0:t.id;function ha(t){try{for(st=0;st<ke.length;st++){const e=ke[st];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Js(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;st<ke.length;st++){const e=ke[st];e&&(e.flags&=-2)}st=-1,ke.length=0,da(),kr=null,(ke.length||os.length)&&ha()}}let Ue=null,fa=null;function Tr(t){const e=Ue;return Ue=t,fa=t&&t.type.__scopeId||null,e}function Tc(t,e=Ue,s){if(!e||t._n)return t;const r=(...n)=>{r._d&&Fi(-1);const i=Tr(e);let o;try{o=t(...n)}finally{Tr(i),r._d&&Fi(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function ee(t,e){if(Ue===null)return t;const s=Mr(Ue),r=t.dirs||(t.dirs=[]);for(let n=0;n<e.length;n++){let[i,o,a,c=se]=e[n];i&&(z(i)&&(i={mounted:i,updated:i}),i.deep&&pt(o),r.push({dir:i,instance:s,value:o,oldValue:void 0,arg:a,modifiers:c}))}return t}function Pt(t,e,s,r){const n=t.dirs,i=e&&e.dirs;for(let o=0;o<n.length;o++){const a=n[o];i&&(a.oldValue=i[o].value);let c=a.dir[r];c&&(bt(),lt(c,s,8,[t.el,a,t,e]),wt())}}const Oc=Symbol("_vte"),xc=t=>t.__isTeleport;function ui(t,e){t.shapeFlag&6&&t.component?(t.transition=e,ui(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function pa(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function js(t,e,s,r,n=!1){if(L(t)){t.forEach((m,_)=>js(m,e&&(L(e)?e[_]:e),s,r,n));return}if(Is(r)&&!n){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&js(t,e,s,r.component.subTree);return}const i=r.shapeFlag&4?Mr(r.component):r.el,o=n?null:i,{i:a,r:c}=t,u=e&&e.r,l=a.refs===se?a.refs={}:a.refs,d=a.setupState,g=te(d),b=d===se?()=>!1:m=>Y(g,m);if(u!=null&&u!==c&&(fe(u)?(l[u]=null,b(u)&&(d[u]=null)):Te(u)&&(u.value=null)),z(c))Js(c,a,12,[o,l]);else{const m=fe(c),_=Te(c);if(m||_){const y=()=>{if(t.f){const P=m?b(c)?d[c]:l[c]:c.value;n?L(P)&&Xn(P,i):L(P)?P.includes(i)||P.push(i):m?(l[c]=[i],b(c)&&(d[c]=l[c])):(c.value=[i],t.k&&(l[t.k]=c.value))}else m?(l[c]=o,b(c)&&(d[c]=o)):_&&(c.value=o,t.k&&(l[t.k]=o))};o?(y.id=-1,De(y,s)):y()}}}Dr().requestIdleCallback;Dr().cancelIdleCallback;const Is=t=>!!t.type.__asyncLoader,ga=t=>t.type.__isKeepAlive;function Cc(t,e){ma(t,"a",e)}function Ac(t,e){ma(t,"da",e)}function ma(t,e,s=_e){const r=t.__wdc||(t.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return t()});if($r(e,r,s),s){let n=s.parent;for(;n&&n.parent;)ga(n.parent.vnode)&&Pc(r,e,s,n),n=n.parent}}function Pc(t,e,s,r){const n=$r(e,t,r,!0);ba(()=>{Xn(r[e],n)},s)}function $r(t,e,s=_e,r=!1){if(s){const n=s[t]||(s[t]=[]),i=e.__weh||(e.__weh=(...o)=>{bt();const a=Gs(s),c=lt(e,s,t,o);return a(),wt(),c});return r?n.unshift(i):n.push(i),i}}const _t=t=>(e,s=_e)=>{(!Hs||t==="sp")&&$r(t,(...r)=>e(...r),s)},Rc=_t("bm"),jc=_t("m"),Ic=_t("bu"),Bc=_t("u"),Dc=_t("bum"),ba=_t("um"),Uc=_t("sp"),Nc=_t("rtg"),$c=_t("rtc");function Lc(t,e=_e){$r("ec",t,e)}const Fc="components";function cr(t,e){return qc(Fc,t,!0,e)||t}const Mc=Symbol.for("v-ndc");function qc(t,e,s=!0,r=!1){const n=Ue||_e;if(n){const i=n.type;{const a=Pu(i,!1);if(a&&(a===e||a===Le(e)||a===Br(Le(e))))return i}const o=Ri(n[t]||i[t],e)||Ri(n.appContext[t],e);return!o&&r?i:o}}function Ri(t,e){return t&&(t[e]||t[Le(e)]||t[Br(Le(e))])}function yt(t,e,s,r){let n;const i=s,o=L(t);if(o||fe(t)){const a=o&&is(t);let c=!1,u=!1;a&&(c=!We(t),u=Mt(t),t=Ur(t)),n=new Array(t.length);for(let l=0,d=t.length;l<d;l++)n[l]=e(c?u?Sr(Ee(t[l])):Ee(t[l]):t[l],l,void 0,i)}else if(typeof t=="number"){n=new Array(t);for(let a=0;a<t;a++)n[a]=e(a+1,a,void 0,i)}else if(le(t))if(t[Symbol.iterator])n=Array.from(t,(a,c)=>e(a,c,void 0,i));else{const a=Object.keys(t);n=new Array(a.length);for(let c=0,u=a.length;c<u;c++){const l=a[c];n[c]=e(t[l],l,c,i)}}else n=[];return n}const xn=t=>t?$a(t)?Mr(t):xn(t.parent):null,Bs=Oe(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>xn(t.parent),$root:t=>xn(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>ya(t),$forceUpdate:t=>t.f||(t.f=()=>{ci(t.update)}),$nextTick:t=>t.n||(t.n=ca.bind(t.proxy)),$watch:t=>uu.bind(t)}),nn=(t,e)=>t!==se&&!t.__isScriptSetup&&Y(t,e),Hc={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:s,setupState:r,data:n,props:i,accessCache:o,type:a,appContext:c}=t;let u;if(e[0]!=="$"){const b=o[e];if(b!==void 0)switch(b){case 1:return r[e];case 2:return n[e];case 4:return s[e];case 3:return i[e]}else{if(nn(r,e))return o[e]=1,r[e];if(n!==se&&Y(n,e))return o[e]=2,n[e];if((u=t.propsOptions[0])&&Y(u,e))return o[e]=3,i[e];if(s!==se&&Y(s,e))return o[e]=4,s[e];Cn&&(o[e]=0)}}const l=Bs[e];let d,g;if(l)return e==="$attrs"&&ye(t.attrs,"get",""),l(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(s!==se&&Y(s,e))return o[e]=4,s[e];if(g=c.config.globalProperties,Y(g,e))return g[e]},set({_:t},e,s){const{data:r,setupState:n,ctx:i}=t;return nn(n,e)?(n[e]=s,!0):r!==se&&Y(r,e)?(r[e]=s,!0):Y(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:r,appContext:n,propsOptions:i}},o){let a;return!!s[o]||t!==se&&Y(t,o)||nn(e,o)||(a=i[0])&&Y(a,o)||Y(r,o)||Y(Bs,o)||Y(n.config.globalProperties,o)},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:Y(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function ji(t){return L(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}let Cn=!0;function Wc(t){const e=ya(t),s=t.proxy,r=t.ctx;Cn=!1,e.beforeCreate&&Ii(e.beforeCreate,t,"bc");const{data:n,computed:i,methods:o,watch:a,provide:c,inject:u,created:l,beforeMount:d,mounted:g,beforeUpdate:b,updated:m,activated:_,deactivated:y,beforeDestroy:P,beforeUnmount:C,destroyed:S,unmounted:x,render:F,renderTracked:H,renderTriggered:W,errorCaptured:ue,serverPrefetch:pe,expose:Ke,inheritAttrs:vt,components:ct,directives:ze,filters:Me}=e;if(u&&Vc(u,r,null),o)for(const ne in o){const G=o[ne];z(G)&&(r[ne]=G.bind(s))}if(n){const ne=n.call(s,s);le(ne)&&(t.data=oi(ne))}if(Cn=!0,i)for(const ne in i){const G=i[ne],Je=z(G)?G.bind(s,s):z(G.get)?G.get.bind(s,s):ot,Vt=!z(G)&&z(G.set)?G.set.bind(s):ot,we=ju({get:Je,set:Vt});Object.defineProperty(r,ne,{enumerable:!0,configurable:!0,get:()=>we.value,set:be=>we.value=be})}if(a)for(const ne in a)wa(a[ne],r,s,ne);if(c){const ne=z(c)?c.call(s):c;Reflect.ownKeys(ne).forEach(G=>{Yc(G,ne[G])})}l&&Ii(l,t,"c");function re(ne,G){L(G)?G.forEach(Je=>ne(Je.bind(s))):G&&ne(G.bind(s))}if(re(Rc,d),re(jc,g),re(Ic,b),re(Bc,m),re(Cc,_),re(Ac,y),re(Lc,ue),re($c,H),re(Nc,W),re(Dc,C),re(ba,x),re(Uc,pe),L(Ke))if(Ke.length){const ne=t.exposed||(t.exposed={});Ke.forEach(G=>{Object.defineProperty(ne,G,{get:()=>s[G],set:Je=>s[G]=Je,enumerable:!0})})}else t.exposed||(t.exposed={});F&&t.render===ot&&(t.render=F),vt!=null&&(t.inheritAttrs=vt),ct&&(t.components=ct),ze&&(t.directives=ze),pe&&pa(t)}function Vc(t,e,s=ot){L(t)&&(t=An(t));for(const r in t){const n=t[r];let i;le(n)?"default"in n?i=gr(n.from||r,n.default,!0):i=gr(n.from||r):i=gr(n),Te(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function Ii(t,e,s){lt(L(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,s)}function wa(t,e,s,r){let n=r.includes(".")?ja(s,r):()=>s[r];if(fe(t)){const i=e[t];z(i)&&an(n,i)}else if(z(t))an(n,t.bind(s));else if(le(t))if(L(t))t.forEach(i=>wa(i,e,s,r));else{const i=z(t.handler)?t.handler.bind(s):e[t.handler];z(i)&&an(n,i,t)}}function ya(t){const e=t.type,{mixins:s,extends:r}=e,{mixins:n,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let c;return a?c=a:!n.length&&!s&&!r?c=e:(c={},n.length&&n.forEach(u=>Or(c,u,o,!0)),Or(c,e,o)),le(e)&&i.set(e,c),c}function Or(t,e,s,r=!1){const{mixins:n,extends:i}=e;i&&Or(t,i,s,!0),n&&n.forEach(o=>Or(t,o,s,!0));for(const o in e)if(!(r&&o==="expose")){const a=Kc[o]||s&&s[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const Kc={data:Bi,props:Di,emits:Di,methods:Os,computed:Os,beforeCreate:Se,created:Se,beforeMount:Se,mounted:Se,beforeUpdate:Se,updated:Se,beforeDestroy:Se,beforeUnmount:Se,destroyed:Se,unmounted:Se,activated:Se,deactivated:Se,errorCaptured:Se,serverPrefetch:Se,components:Os,directives:Os,watch:Jc,provide:Bi,inject:zc};function Bi(t,e){return e?t?function(){return Oe(z(t)?t.call(this,this):t,z(e)?e.call(this,this):e)}:e:t}function zc(t,e){return Os(An(t),An(e))}function An(t){if(L(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function Se(t,e){return t?[...new Set([].concat(t,e))]:e}function Os(t,e){return t?Oe(Object.create(null),t,e):e}function Di(t,e){return t?L(t)&&L(e)?[...new Set([...t,...e])]:Oe(Object.create(null),ji(t),ji(e??{})):e}function Jc(t,e){if(!t)return e;if(!e)return t;const s=Oe(Object.create(null),t);for(const r in e)s[r]=Se(t[r],e[r]);return s}function _a(){return{app:null,config:{isNativeTag:Ul,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Gc=0;function Qc(t,e){return function(r,n=null){z(r)||(r=Oe({},r)),n!=null&&!le(n)&&(n=null);const i=_a(),o=new WeakSet,a=[];let c=!1;const u=i.app={_uid:Gc++,_component:r,_props:n,_container:null,_context:i,_instance:null,version:Iu,get config(){return i.config},set config(l){},use(l,...d){return o.has(l)||(l&&z(l.install)?(o.add(l),l.install(u,...d)):z(l)&&(o.add(l),l(u,...d))),u},mixin(l){return i.mixins.includes(l)||i.mixins.push(l),u},component(l,d){return d?(i.components[l]=d,u):i.components[l]},directive(l,d){return d?(i.directives[l]=d,u):i.directives[l]},mount(l,d,g){if(!c){const b=u._ceVNode||gt(r,n);return b.appContext=i,g===!0?g="svg":g===!1&&(g=void 0),t(b,l,g),c=!0,u._container=l,l.__vue_app__=u,Mr(b.component)}},onUnmount(l){a.push(l)},unmount(){c&&(lt(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(l,d){return i.provides[l]=d,u},runWithContext(l){const d=as;as=u;try{return l()}finally{as=d}}};return u}}let as=null;function Yc(t,e){if(_e){let s=_e.provides;const r=_e.parent&&_e.parent.provides;r===s&&(s=_e.provides=Object.create(r)),s[t]=e}}function gr(t,e,s=!1){const r=Tu();if(r||as){let n=as?as._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(n&&t in n)return n[t];if(arguments.length>1)return s&&z(e)?e.call(r&&r.proxy):e}}const va={},Sa=()=>Object.create(va),Ea=t=>Object.getPrototypeOf(t)===va;function Xc(t,e,s,r=!1){const n={},i=Sa();t.propsDefaults=Object.create(null),ka(t,e,n,i);for(const o in t.propsOptions[0])o in n||(n[o]=void 0);s?t.props=r?n:pc(n):t.type.props?t.props=n:t.props=i,t.attrs=i}function Zc(t,e,s,r){const{props:n,attrs:i,vnode:{patchFlag:o}}=t,a=te(n),[c]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const l=t.vnode.dynamicProps;for(let d=0;d<l.length;d++){let g=l[d];if(Lr(t.emitsOptions,g))continue;const b=e[g];if(c)if(Y(i,g))b!==i[g]&&(i[g]=b,u=!0);else{const m=Le(g);n[m]=Pn(c,a,m,b,t,!1)}else b!==i[g]&&(i[g]=b,u=!0)}}}else{ka(t,e,n,i)&&(u=!0);let l;for(const d in a)(!e||!Y(e,d)&&((l=Ht(d))===d||!Y(e,l)))&&(c?s&&(s[d]!==void 0||s[l]!==void 0)&&(n[d]=Pn(c,a,d,void 0,t,!0)):delete n[d]);if(i!==a)for(const d in i)(!e||!Y(e,d))&&(delete i[d],u=!0)}u&&ft(t.attrs,"set","")}function ka(t,e,s,r){const[n,i]=t.propsOptions;let o=!1,a;if(e)for(let c in e){if(As(c))continue;const u=e[c];let l;n&&Y(n,l=Le(c))?!i||!i.includes(l)?s[l]=u:(a||(a={}))[l]=u:Lr(t.emitsOptions,c)||(!(c in r)||u!==r[c])&&(r[c]=u,o=!0)}if(i){const c=te(s),u=a||se;for(let l=0;l<i.length;l++){const d=i[l];s[d]=Pn(n,c,d,u[d],t,!Y(u,d))}}return o}function Pn(t,e,s,r,n,i){const o=t[s];if(o!=null){const a=Y(o,"default");if(a&&r===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&z(c)){const{propsDefaults:u}=n;if(s in u)r=u[s];else{const l=Gs(n);r=u[s]=c.call(null,e),l()}}else r=c;n.ce&&n.ce._setProp(s,r)}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===Ht(s))&&(r=!0))}return r}const eu=new WeakMap;function Ta(t,e,s=!1){const r=s?eu:e.propsCache,n=r.get(t);if(n)return n;const i=t.props,o={},a=[];let c=!1;if(!z(t)){const l=d=>{c=!0;const[g,b]=Ta(d,e,!0);Oe(o,g),b&&a.push(...b)};!s&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}if(!i&&!c)return le(t)&&r.set(t,rs),rs;if(L(i))for(let l=0;l<i.length;l++){const d=Le(i[l]);Ui(d)&&(o[d]=se)}else if(i)for(const l in i){const d=Le(l);if(Ui(d)){const g=i[l],b=o[d]=L(g)||z(g)?{type:g}:Oe({},g),m=b.type;let _=!1,y=!0;if(L(m))for(let P=0;P<m.length;++P){const C=m[P],S=z(C)&&C.name;if(S==="Boolean"){_=!0;break}else S==="String"&&(y=!1)}else _=z(m)&&m.name==="Boolean";b[0]=_,b[1]=y,(_||Y(b,"default"))&&a.push(d)}}const u=[o,a];return le(t)&&r.set(t,u),u}function Ui(t){return t[0]!=="$"&&!As(t)}const di=t=>t==="_"||t==="__"||t==="_ctx"||t==="$stable",hi=t=>L(t)?t.map(nt):[nt(t)],tu=(t,e,s)=>{if(e._n)return e;const r=Tc((...n)=>hi(e(...n)),s);return r._c=!1,r},Oa=(t,e,s)=>{const r=t._ctx;for(const n in t){if(di(n))continue;const i=t[n];if(z(i))e[n]=tu(n,i,r);else if(i!=null){const o=hi(i);e[n]=()=>o}}},xa=(t,e)=>{const s=hi(e);t.slots.default=()=>s},Ca=(t,e,s)=>{for(const r in e)(s||!di(r))&&(t[r]=e[r])},su=(t,e,s)=>{const r=t.slots=Sa();if(t.vnode.shapeFlag&32){const n=e.__;n&&Sn(r,"__",n,!0);const i=e._;i?(Ca(r,e,s),s&&Sn(r,"_",i,!0)):Oa(e,r)}else e&&xa(t,e)},ru=(t,e,s)=>{const{vnode:r,slots:n}=t;let i=!0,o=se;if(r.shapeFlag&32){const a=e._;a?s&&a===1?i=!1:Ca(n,e,s):(i=!e.$stable,Oa(e,n)),o=e}else e&&(xa(t,e),o={default:1});if(i)for(const a in n)!di(a)&&o[a]==null&&delete n[a]},De=bu;function nu(t){return iu(t)}function iu(t,e){const s=Dr();s.__VUE__=!0;const{insert:r,remove:n,patchProp:i,createElement:o,createText:a,createComment:c,setText:u,setElementText:l,parentNode:d,nextSibling:g,setScopeId:b=ot,insertStaticContent:m}=t,_=(f,p,v,T=null,E=null,k=null,I=void 0,R=null,A=!!p.dynamicChildren)=>{if(f===p)return;f&&!Ss(f,p)&&(T=ir(f),be(f,E,k,!0),f=null),p.patchFlag===-2&&(A=!1,p.dynamicChildren=null);const{type:O,ref:$,shapeFlag:B}=p;switch(O){case Fr:y(f,p,v,T);break;case Ct:P(f,p,v,T);break;case ln:f==null&&C(p,v,T,I);break;case me:ct(f,p,v,T,E,k,I,R,A);break;default:B&1?F(f,p,v,T,E,k,I,R,A):B&6?ze(f,p,v,T,E,k,I,R,A):(B&64||B&128)&&O.process(f,p,v,T,E,k,I,R,A,ys)}$!=null&&E?js($,f&&f.ref,k,p||f,!p):$==null&&f&&f.ref!=null&&js(f.ref,null,k,f,!0)},y=(f,p,v,T)=>{if(f==null)r(p.el=a(p.children),v,T);else{const E=p.el=f.el;p.children!==f.children&&u(E,p.children)}},P=(f,p,v,T)=>{f==null?r(p.el=c(p.children||""),v,T):p.el=f.el},C=(f,p,v,T)=>{[f.el,f.anchor]=m(f.children,p,v,T,f.el,f.anchor)},S=({el:f,anchor:p},v,T)=>{let E;for(;f&&f!==p;)E=g(f),r(f,v,T),f=E;r(p,v,T)},x=({el:f,anchor:p})=>{let v;for(;f&&f!==p;)v=g(f),n(f),f=v;n(p)},F=(f,p,v,T,E,k,I,R,A)=>{p.type==="svg"?I="svg":p.type==="math"&&(I="mathml"),f==null?H(p,v,T,E,k,I,R,A):pe(f,p,E,k,I,R,A)},H=(f,p,v,T,E,k,I,R)=>{let A,O;const{props:$,shapeFlag:B,transition:N,dirs:M}=f;if(A=f.el=o(f.type,k,$&&$.is,$),B&8?l(A,f.children):B&16&&ue(f.children,A,null,T,E,on(f,k),I,R),M&&Pt(f,null,T,"created"),W(A,f,f.scopeId,I,T),$){for(const ie in $)ie!=="value"&&!As(ie)&&i(A,ie,null,$[ie],k,T);"value"in $&&i(A,"value",null,$.value,k),(O=$.onVnodeBeforeMount)&&Xe(O,T,f)}M&&Pt(f,null,T,"beforeMount");const Q=ou(E,N);Q&&N.beforeEnter(A),r(A,p,v),((O=$&&$.onVnodeMounted)||Q||M)&&De(()=>{O&&Xe(O,T,f),Q&&N.enter(A),M&&Pt(f,null,T,"mounted")},E)},W=(f,p,v,T,E)=>{if(v&&b(f,v),T)for(let k=0;k<T.length;k++)b(f,T[k]);if(E){let k=E.subTree;if(p===k||Ba(k.type)&&(k.ssContent===p||k.ssFallback===p)){const I=E.vnode;W(f,I,I.scopeId,I.slotScopeIds,E.parent)}}},ue=(f,p,v,T,E,k,I,R,A=0)=>{for(let O=A;O<f.length;O++){const $=f[O]=R?Tt(f[O]):nt(f[O]);_(null,$,p,v,T,E,k,I,R)}},pe=(f,p,v,T,E,k,I)=>{const R=p.el=f.el;let{patchFlag:A,dynamicChildren:O,dirs:$}=p;A|=f.patchFlag&16;const B=f.props||se,N=p.props||se;let M;if(v&&Rt(v,!1),(M=N.onVnodeBeforeUpdate)&&Xe(M,v,p,f),$&&Pt(p,f,v,"beforeUpdate"),v&&Rt(v,!0),(B.innerHTML&&N.innerHTML==null||B.textContent&&N.textContent==null)&&l(R,""),O?Ke(f.dynamicChildren,O,R,v,T,on(p,E),k):I||G(f,p,R,null,v,T,on(p,E),k,!1),A>0){if(A&16)vt(R,B,N,v,E);else if(A&2&&B.class!==N.class&&i(R,"class",null,N.class,E),A&4&&i(R,"style",B.style,N.style,E),A&8){const Q=p.dynamicProps;for(let ie=0;ie<Q.length;ie++){const X=Q[ie],xe=B[X],Ce=N[X];(Ce!==xe||X==="value")&&i(R,X,xe,Ce,E,v)}}A&1&&f.children!==p.children&&l(R,p.children)}else!I&&O==null&&vt(R,B,N,v,E);((M=N.onVnodeUpdated)||$)&&De(()=>{M&&Xe(M,v,p,f),$&&Pt(p,f,v,"updated")},T)},Ke=(f,p,v,T,E,k,I)=>{for(let R=0;R<p.length;R++){const A=f[R],O=p[R],$=A.el&&(A.type===me||!Ss(A,O)||A.shapeFlag&198)?d(A.el):v;_(A,O,$,null,T,E,k,I,!0)}},vt=(f,p,v,T,E)=>{if(p!==v){if(p!==se)for(const k in p)!As(k)&&!(k in v)&&i(f,k,p[k],null,E,T);for(const k in v){if(As(k))continue;const I=v[k],R=p[k];I!==R&&k!=="value"&&i(f,k,R,I,E,T)}"value"in v&&i(f,"value",p.value,v.value,E)}},ct=(f,p,v,T,E,k,I,R,A)=>{const O=p.el=f?f.el:a(""),$=p.anchor=f?f.anchor:a("");let{patchFlag:B,dynamicChildren:N,slotScopeIds:M}=p;M&&(R=R?R.concat(M):M),f==null?(r(O,v,T),r($,v,T),ue(p.children||[],v,$,E,k,I,R,A)):B>0&&B&64&&N&&f.dynamicChildren?(Ke(f.dynamicChildren,N,v,E,k,I,R),(p.key!=null||E&&p===E.subTree)&&Aa(f,p,!0)):G(f,p,v,$,E,k,I,R,A)},ze=(f,p,v,T,E,k,I,R,A)=>{p.slotScopeIds=R,f==null?p.shapeFlag&512?E.ctx.activate(p,v,T,I,A):Me(p,v,T,E,k,I,A):bs(f,p,A)},Me=(f,p,v,T,E,k,I)=>{const R=f.component=ku(f,T,E);if(ga(f)&&(R.ctx.renderer=ys),Ou(R,!1,I),R.asyncDep){if(E&&E.registerDep(R,re,I),!f.el){const A=R.subTree=gt(Ct);P(null,A,p,v),f.placeholder=A.el}}else re(R,f,p,v,E,k,I)},bs=(f,p,v)=>{const T=p.component=f.component;if(gu(f,p,v))if(T.asyncDep&&!T.asyncResolved){ne(T,p,v);return}else T.next=p,T.update();else p.el=f.el,T.vnode=p},re=(f,p,v,T,E,k,I)=>{const R=()=>{if(f.isMounted){let{next:B,bu:N,u:M,parent:Q,vnode:ie}=f;{const Qe=Pa(f);if(Qe){B&&(B.el=ie.el,ne(f,B,I)),Qe.asyncDep.then(()=>{f.isUnmounted||R()});return}}let X=B,xe;Rt(f,!1),B?(B.el=ie.el,ne(f,B,I)):B=ie,N&&pr(N),(xe=B.props&&B.props.onVnodeBeforeUpdate)&&Xe(xe,Q,B,ie),Rt(f,!0);const Ce=$i(f),Ge=f.subTree;f.subTree=Ce,_(Ge,Ce,d(Ge.el),ir(Ge),f,E,k),B.el=Ce.el,X===null&&mu(f,Ce.el),M&&De(M,E),(xe=B.props&&B.props.onVnodeUpdated)&&De(()=>Xe(xe,Q,B,ie),E)}else{let B;const{el:N,props:M}=p,{bm:Q,m:ie,parent:X,root:xe,type:Ce}=f,Ge=Is(p);Rt(f,!1),Q&&pr(Q),!Ge&&(B=M&&M.onVnodeBeforeMount)&&Xe(B,X,p),Rt(f,!0);{xe.ce&&xe.ce._def.shadowRoot!==!1&&xe.ce._injectChildStyle(Ce);const Qe=f.subTree=$i(f);_(null,Qe,v,T,f,E,k),p.el=Qe.el}if(ie&&De(ie,E),!Ge&&(B=M&&M.onVnodeMounted)){const Qe=p;De(()=>Xe(B,X,Qe),E)}(p.shapeFlag&256||X&&Is(X.vnode)&&X.vnode.shapeFlag&256)&&f.a&&De(f.a,E),f.isMounted=!0,p=v=T=null}};f.scope.on();const A=f.effect=new Vo(R);f.scope.off();const O=f.update=A.run.bind(A),$=f.job=A.runIfDirty.bind(A);$.i=f,$.id=f.uid,A.scheduler=()=>ci($),Rt(f,!0),O()},ne=(f,p,v)=>{p.component=f;const T=f.vnode.props;f.vnode=p,f.next=null,Zc(f,p.props,T,v),ru(f,p.children,v),bt(),Pi(f),wt()},G=(f,p,v,T,E,k,I,R,A=!1)=>{const O=f&&f.children,$=f?f.shapeFlag:0,B=p.children,{patchFlag:N,shapeFlag:M}=p;if(N>0){if(N&128){Vt(O,B,v,T,E,k,I,R,A);return}else if(N&256){Je(O,B,v,T,E,k,I,R,A);return}}M&8?($&16&&ws(O,E,k),B!==O&&l(v,B)):$&16?M&16?Vt(O,B,v,T,E,k,I,R,A):ws(O,E,k,!0):($&8&&l(v,""),M&16&&ue(B,v,T,E,k,I,R,A))},Je=(f,p,v,T,E,k,I,R,A)=>{f=f||rs,p=p||rs;const O=f.length,$=p.length,B=Math.min(O,$);let N;for(N=0;N<B;N++){const M=p[N]=A?Tt(p[N]):nt(p[N]);_(f[N],M,v,null,E,k,I,R,A)}O>$?ws(f,E,k,!0,!1,B):ue(p,v,T,E,k,I,R,A,B)},Vt=(f,p,v,T,E,k,I,R,A)=>{let O=0;const $=p.length;let B=f.length-1,N=$-1;for(;O<=B&&O<=N;){const M=f[O],Q=p[O]=A?Tt(p[O]):nt(p[O]);if(Ss(M,Q))_(M,Q,v,null,E,k,I,R,A);else break;O++}for(;O<=B&&O<=N;){const M=f[B],Q=p[N]=A?Tt(p[N]):nt(p[N]);if(Ss(M,Q))_(M,Q,v,null,E,k,I,R,A);else break;B--,N--}if(O>B){if(O<=N){const M=N+1,Q=M<$?p[M].el:T;for(;O<=N;)_(null,p[O]=A?Tt(p[O]):nt(p[O]),v,Q,E,k,I,R,A),O++}}else if(O>N)for(;O<=B;)be(f[O],E,k,!0),O++;else{const M=O,Q=O,ie=new Map;for(O=Q;O<=N;O++){const Be=p[O]=A?Tt(p[O]):nt(p[O]);Be.key!=null&&ie.set(Be.key,O)}let X,xe=0;const Ce=N-Q+1;let Ge=!1,Qe=0;const _s=new Array(Ce);for(O=0;O<Ce;O++)_s[O]=0;for(O=M;O<=B;O++){const Be=f[O];if(xe>=Ce){be(Be,E,k,!0);continue}let Ye;if(Be.key!=null)Ye=ie.get(Be.key);else for(X=Q;X<=N;X++)if(_s[X-Q]===0&&Ss(Be,p[X])){Ye=X;break}Ye===void 0?be(Be,E,k,!0):(_s[Ye-Q]=O+1,Ye>=Qe?Qe=Ye:Ge=!0,_(Be,p[Ye],v,null,E,k,I,R,A),xe++)}const Ei=Ge?au(_s):rs;for(X=Ei.length-1,O=Ce-1;O>=0;O--){const Be=Q+O,Ye=p[Be],ki=p[Be+1],Ti=Be+1<$?ki.el||ki.placeholder:T;_s[O]===0?_(null,Ye,v,Ti,E,k,I,R,A):Ge&&(X<0||O!==Ei[X]?we(Ye,v,Ti,2):X--)}}},we=(f,p,v,T,E=null)=>{const{el:k,type:I,transition:R,children:A,shapeFlag:O}=f;if(O&6){we(f.component.subTree,p,v,T);return}if(O&128){f.suspense.move(p,v,T);return}if(O&64){I.move(f,p,v,ys);return}if(I===me){r(k,p,v);for(let B=0;B<A.length;B++)we(A[B],p,v,T);r(f.anchor,p,v);return}if(I===ln){S(f,p,v);return}if(T!==2&&O&1&&R)if(T===0)R.beforeEnter(k),r(k,p,v),De(()=>R.enter(k),E);else{const{leave:B,delayLeave:N,afterLeave:M}=R,Q=()=>{f.ctx.isUnmounted?n(k):r(k,p,v)},ie=()=>{B(k,()=>{Q(),M&&M()})};N?N(k,Q,ie):ie()}else r(k,p,v)},be=(f,p,v,T=!1,E=!1)=>{const{type:k,props:I,ref:R,children:A,dynamicChildren:O,shapeFlag:$,patchFlag:B,dirs:N,cacheIndex:M}=f;if(B===-2&&(E=!1),R!=null&&(bt(),js(R,null,v,f,!0),wt()),M!=null&&(p.renderCache[M]=void 0),$&256){p.ctx.deactivate(f);return}const Q=$&1&&N,ie=!Is(f);let X;if(ie&&(X=I&&I.onVnodeBeforeUnmount)&&Xe(X,p,f),$&6)nr(f.component,v,T);else{if($&128){f.suspense.unmount(v,T);return}Q&&Pt(f,null,p,"beforeUnmount"),$&64?f.type.remove(f,p,v,ys,T):O&&!O.hasOnce&&(k!==me||B>0&&B&64)?ws(O,p,v,!1,!0):(k===me&&B&384||!E&&$&16)&&ws(A,p,v),T&&Kt(f)}(ie&&(X=I&&I.onVnodeUnmounted)||Q)&&De(()=>{X&&Xe(X,p,f),Q&&Pt(f,null,p,"unmounted")},v)},Kt=f=>{const{type:p,el:v,anchor:T,transition:E}=f;if(p===me){zt(v,T);return}if(p===ln){x(f);return}const k=()=>{n(v),E&&!E.persisted&&E.afterLeave&&E.afterLeave()};if(f.shapeFlag&1&&E&&!E.persisted){const{leave:I,delayLeave:R}=E,A=()=>I(v,k);R?R(f.el,k,A):A()}else k()},zt=(f,p)=>{let v;for(;f!==p;)v=g(f),n(f),f=v;n(p)},nr=(f,p,v)=>{const{bum:T,scope:E,job:k,subTree:I,um:R,m:A,a:O,parent:$,slots:{__:B}}=f;Ni(A),Ni(O),T&&pr(T),$&&L(B)&&B.forEach(N=>{$.renderCache[N]=void 0}),E.stop(),k&&(k.flags|=8,be(I,f,p,v)),R&&De(R,p),De(()=>{f.isUnmounted=!0},p),p&&p.pendingBranch&&!p.isUnmounted&&f.asyncDep&&!f.asyncResolved&&f.suspenseId===p.pendingId&&(p.deps--,p.deps===0&&p.resolve())},ws=(f,p,v,T=!1,E=!1,k=0)=>{for(let I=k;I<f.length;I++)be(f[I],p,v,T,E)},ir=f=>{if(f.shapeFlag&6)return ir(f.component.subTree);if(f.shapeFlag&128)return f.suspense.next();const p=g(f.anchor||f.el),v=p&&p[Oc];return v?g(v):p};let Xr=!1;const Si=(f,p,v)=>{f==null?p._vnode&&be(p._vnode,null,null,!0):_(p._vnode||null,f,p,null,null,null,v),p._vnode=f,Xr||(Xr=!0,Pi(),da(),Xr=!1)},ys={p:_,um:be,m:we,r:Kt,mt:Me,mc:ue,pc:G,pbc:Ke,n:ir,o:t};return{render:Si,hydrate:void 0,createApp:Qc(Si)}}function on({type:t,props:e},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function Rt({effect:t,job:e},s){s?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function ou(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Aa(t,e,s=!1){const r=t.children,n=e.children;if(L(r)&&L(n))for(let i=0;i<r.length;i++){const o=r[i];let a=n[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[i]=Tt(n[i]),a.el=o.el),!s&&a.patchFlag!==-2&&Aa(o,a)),a.type===Fr&&(a.el=o.el),a.type===Ct&&!a.el&&(a.el=o.el)}}function au(t){const e=t.slice(),s=[0];let r,n,i,o,a;const c=t.length;for(r=0;r<c;r++){const u=t[r];if(u!==0){if(n=s[s.length-1],t[n]<u){e[r]=n,s.push(r);continue}for(i=0,o=s.length-1;i<o;)a=i+o>>1,t[s[a]]<u?i=a+1:o=a;u<t[s[i]]&&(i>0&&(e[r]=s[i-1]),s[i]=r)}}for(i=s.length,o=s[i-1];i-- >0;)s[i]=o,o=e[o];return s}function Pa(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Pa(e)}function Ni(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const lu=Symbol.for("v-scx"),cu=()=>gr(lu);function an(t,e,s){return Ra(t,e,s)}function Ra(t,e,s=se){const{immediate:r,deep:n,flush:i,once:o}=s,a=Oe({},s),c=e&&r||!e&&i!=="post";let u;if(Hs){if(i==="sync"){const b=cu();u=b.__watcherHandles||(b.__watcherHandles=[])}else if(!c){const b=()=>{};return b.stop=ot,b.resume=ot,b.pause=ot,b}}const l=_e;a.call=(b,m,_)=>lt(b,l,m,_);let d=!1;i==="post"?a.scheduler=b=>{De(b,l&&l.suspense)}:i!=="sync"&&(d=!0,a.scheduler=(b,m)=>{m?b():ci(b)}),a.augmentJob=b=>{e&&(b.flags|=4),d&&(b.flags|=2,l&&(b.id=l.uid,b.i=l))};const g=vc(t,e,a);return Hs&&(u?u.push(g):c&&g()),g}function uu(t,e,s){const r=this.proxy,n=fe(t)?t.includes(".")?ja(r,t):()=>r[t]:t.bind(r,r);let i;z(e)?i=e:(i=e.handler,s=e);const o=Gs(this),a=Ra(n,i.bind(r),s);return o(),a}function ja(t,e){const s=e.split(".");return()=>{let r=t;for(let n=0;n<s.length&&r;n++)r=r[s[n]];return r}}const du=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Le(e)}Modifiers`]||t[`${Ht(e)}Modifiers`];function hu(t,e,...s){if(t.isUnmounted)return;const r=t.vnode.props||se;let n=s;const i=e.startsWith("update:"),o=i&&du(r,e.slice(7));o&&(o.trim&&(n=s.map(l=>fe(l)?l.trim():l)),o.number&&(n=s.map(vr)));let a,c=r[a=Zr(e)]||r[a=Zr(Le(e))];!c&&i&&(c=r[a=Zr(Ht(e))]),c&&lt(c,t,6,n);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,lt(u,t,6,n)}}function Ia(t,e,s=!1){const r=e.emitsCache,n=r.get(t);if(n!==void 0)return n;const i=t.emits;let o={},a=!1;if(!z(t)){const c=u=>{const l=Ia(u,e,!0);l&&(a=!0,Oe(o,l))};!s&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!i&&!a?(le(t)&&r.set(t,null),null):(L(i)?i.forEach(c=>o[c]=null):Oe(o,i),le(t)&&r.set(t,o),o)}function Lr(t,e){return!t||!jr(e)?!1:(e=e.slice(2).replace(/Once$/,""),Y(t,e[0].toLowerCase()+e.slice(1))||Y(t,Ht(e))||Y(t,e))}function $i(t){const{type:e,vnode:s,proxy:r,withProxy:n,propsOptions:[i],slots:o,attrs:a,emit:c,render:u,renderCache:l,props:d,data:g,setupState:b,ctx:m,inheritAttrs:_}=t,y=Tr(t);let P,C;try{if(s.shapeFlag&4){const x=n||r,F=x;P=nt(u.call(F,x,l,d,b,g,m)),C=a}else{const x=e;P=nt(x.length>1?x(d,{attrs:a,slots:o,emit:c}):x(d,null)),C=e.props?a:fu(a)}}catch(x){Ds.length=0,Nr(x,t,1),P=gt(Ct)}let S=P;if(C&&_!==!1){const x=Object.keys(C),{shapeFlag:F}=S;x.length&&F&7&&(i&&x.some(Yn)&&(C=pu(C,i)),S=ls(S,C,!1,!0))}return s.dirs&&(S=ls(S,null,!1,!0),S.dirs=S.dirs?S.dirs.concat(s.dirs):s.dirs),s.transition&&ui(S,s.transition),P=S,Tr(y),P}const fu=t=>{let e;for(const s in t)(s==="class"||s==="style"||jr(s))&&((e||(e={}))[s]=t[s]);return e},pu=(t,e)=>{const s={};for(const r in t)(!Yn(r)||!(r.slice(9)in e))&&(s[r]=t[r]);return s};function gu(t,e,s){const{props:r,children:n,component:i}=t,{props:o,children:a,patchFlag:c}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&c>=0){if(c&1024)return!0;if(c&16)return r?Li(r,o,u):!!o;if(c&8){const l=e.dynamicProps;for(let d=0;d<l.length;d++){const g=l[d];if(o[g]!==r[g]&&!Lr(u,g))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Li(r,o,u):!0:!!o;return!1}function Li(t,e,s){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let n=0;n<r.length;n++){const i=r[n];if(e[i]!==t[i]&&!Lr(s,i))return!0}return!1}function mu({vnode:t,parent:e},s){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=s,e=e.parent;else break}}const Ba=t=>t.__isSuspense;function bu(t,e){e&&e.pendingBranch?L(t)?e.effects.push(...t):e.effects.push(t):kc(t)}const me=Symbol.for("v-fgt"),Fr=Symbol.for("v-txt"),Ct=Symbol.for("v-cmt"),ln=Symbol.for("v-stc"),Ds=[];let Ne=null;function D(t=!1){Ds.push(Ne=t?null:[])}function wu(){Ds.pop(),Ne=Ds[Ds.length-1]||null}let qs=1;function Fi(t,e=!1){qs+=t,t<0&&Ne&&e&&(Ne.hasOnce=!0)}function Da(t){return t.dynamicChildren=qs>0?Ne||rs:null,wu(),qs>0&&Ne&&Ne.push(t),t}function U(t,e,s,r,n,i){return Da(h(t,e,s,r,n,i,!0))}function xs(t,e,s,r,n){return Da(gt(t,e,s,r,n,!0))}function Ua(t){return t?t.__v_isVNode===!0:!1}function Ss(t,e){return t.type===e.type&&t.key===e.key}const Na=({key:t})=>t??null,mr=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?fe(t)||Te(t)||z(t)?{i:Ue,r:t,k:e,f:!!s}:t:null);function h(t,e=null,s=null,r=0,n=null,i=t===me?0:1,o=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Na(e),ref:e&&mr(e),scopeId:fa,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:Ue};return a?(fi(c,s),i&128&&t.normalize(c)):s&&(c.shapeFlag|=fe(s)?8:16),qs>0&&!o&&Ne&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&Ne.push(c),c}const gt=yu;function yu(t,e=null,s=null,r=0,n=null,i=!1){if((!t||t===Mc)&&(t=Ct),Ua(t)){const a=ls(t,e,!0);return s&&fi(a,s),qs>0&&!i&&Ne&&(a.shapeFlag&6?Ne[Ne.indexOf(t)]=a:Ne.push(a)),a.patchFlag=-2,a}if(Ru(t)&&(t=t.__vccOpts),e){e=_u(e);let{class:a,style:c}=e;a&&!fe(a)&&(e.class=it(a)),le(c)&&(li(c)&&!L(c)&&(c=Oe({},c)),e.style=ei(c))}const o=fe(t)?1:Ba(t)?128:xc(t)?64:le(t)?4:z(t)?2:0;return h(t,e,s,r,n,o,i,!0)}function _u(t){return t?li(t)||Ea(t)?Oe({},t):t:null}function ls(t,e,s=!1,r=!1){const{props:n,ref:i,patchFlag:o,children:a,transition:c}=t,u=e?vu(n||{},e):n,l={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&Na(u),ref:e&&e.ref?s&&i?L(i)?i.concat(mr(e)):[i,mr(e)]:mr(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==me?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:c,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&ls(t.ssContent),ssFallback:t.ssFallback&&ls(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return c&&r&&ui(l,c.clone(l)),l}function Z(t=" ",e=0){return gt(Fr,null,t,e)}function q(t="",e=!1){return e?(D(),xs(Ct,null,t)):gt(Ct,null,t)}function nt(t){return t==null||typeof t=="boolean"?gt(Ct):L(t)?gt(me,null,t.slice()):Ua(t)?Tt(t):gt(Fr,null,String(t))}function Tt(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:ls(t)}function fi(t,e){let s=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(L(e))s=16;else if(typeof e=="object")if(r&65){const n=e.default;n&&(n._c&&(n._d=!1),fi(t,n()),n._c&&(n._d=!0));return}else{s=32;const n=e._;!n&&!Ea(e)?e._ctx=Ue:n===3&&Ue&&(Ue.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else z(e)?(e={default:e,_ctx:Ue},s=32):(e=String(e),r&64?(s=16,e=[Z(e)]):s=8);t.children=e,t.shapeFlag|=s}function vu(...t){const e={};for(let s=0;s<t.length;s++){const r=t[s];for(const n in r)if(n==="class")e.class!==r.class&&(e.class=it([e.class,r.class]));else if(n==="style")e.style=ei([e.style,r.style]);else if(jr(n)){const i=e[n],o=r[n];o&&i!==o&&!(L(i)&&i.includes(o))&&(e[n]=i?[].concat(i,o):o)}else n!==""&&(e[n]=r[n])}return e}function Xe(t,e,s,r=null){lt(t,e,7,[s,r])}const Su=_a();let Eu=0;function ku(t,e,s){const r=t.type,n=(e?e.appContext:t.appContext)||Su,i={uid:Eu++,vnode:t,type:r,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Jl(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ta(r,n),emitsOptions:Ia(r,n),emit:null,emitted:null,propsDefaults:se,inheritAttrs:r.inheritAttrs,ctx:se,data:se,props:se,attrs:se,slots:se,refs:se,setupState:se,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=hu.bind(null,i),t.ce&&t.ce(i),i}let _e=null;const Tu=()=>_e||Ue;let xr,Rn;{const t=Dr(),e=(s,r)=>{let n;return(n=t[s])||(n=t[s]=[]),n.push(r),i=>{n.length>1?n.forEach(o=>o(i)):n[0](i)}};xr=e("__VUE_INSTANCE_SETTERS__",s=>_e=s),Rn=e("__VUE_SSR_SETTERS__",s=>Hs=s)}const Gs=t=>{const e=_e;return xr(t),t.scope.on(),()=>{t.scope.off(),xr(e)}},Mi=()=>{_e&&_e.scope.off(),xr(null)};function $a(t){return t.vnode.shapeFlag&4}let Hs=!1;function Ou(t,e=!1,s=!1){e&&Rn(e);const{props:r,children:n}=t.vnode,i=$a(t);Xc(t,r,i,e),su(t,n,s||e);const o=i?xu(t,e):void 0;return e&&Rn(!1),o}function xu(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Hc);const{setup:r}=s;if(r){bt();const n=t.setupContext=r.length>1?Au(t):null,i=Gs(t),o=Js(r,t,0,[t.props,n]),a=Lo(o);if(wt(),i(),(a||t.sp)&&!Is(t)&&pa(t),a){if(o.then(Mi,Mi),e)return o.then(c=>{qi(t,c)}).catch(c=>{Nr(c,t,0)});t.asyncDep=o}else qi(t,o)}else La(t)}function qi(t,e,s){z(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:le(e)&&(t.setupState=aa(e)),La(t)}function La(t,e,s){const r=t.type;t.render||(t.render=r.render||ot);{const n=Gs(t);bt();try{Wc(t)}finally{wt(),n()}}}const Cu={get(t,e){return ye(t,"get",""),t[e]}};function Au(t){const e=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,Cu),slots:t.slots,emit:t.emit,expose:e}}function Mr(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(aa(gc(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in Bs)return Bs[s](t)},has(e,s){return s in e||s in Bs}})):t.proxy}function Pu(t,e=!0){return z(t)?t.displayName||t.name:t.name||e&&t.__name}function Ru(t){return z(t)&&"__vccOpts"in t}const ju=(t,e)=>yc(t,e,Hs),Iu="3.5.18";/**
* @vue/runtime-dom v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let jn;const Hi=typeof window<"u"&&window.trustedTypes;if(Hi)try{jn=Hi.createPolicy("vue",{createHTML:t=>t})}catch{}const Fa=jn?t=>jn.createHTML(t):t=>t,Bu="http://www.w3.org/2000/svg",Du="http://www.w3.org/1998/Math/MathML",dt=typeof document<"u"?document:null,Wi=dt&&dt.createElement("template"),Uu={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,r)=>{const n=e==="svg"?dt.createElementNS(Bu,t):e==="mathml"?dt.createElementNS(Du,t):s?dt.createElement(t,{is:s}):dt.createElement(t);return t==="select"&&r&&r.multiple!=null&&n.setAttribute("multiple",r.multiple),n},createText:t=>dt.createTextNode(t),createComment:t=>dt.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>dt.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,r,n,i){const o=s?s.previousSibling:e.lastChild;if(n&&(n===i||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),s),!(n===i||!(n=n.nextSibling)););else{Wi.innerHTML=Fa(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=Wi.content;if(r==="svg"||r==="mathml"){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}e.insertBefore(a,s)}return[o?o.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},Nu=Symbol("_vtc");function $u(t,e,s){const r=t[Nu];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const Vi=Symbol("_vod"),Lu=Symbol("_vsh"),Fu=Symbol(""),Mu=/(^|;)\s*display\s*:/;function qu(t,e,s){const r=t.style,n=fe(s);let i=!1;if(s&&!n){if(e)if(fe(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();s[a]==null&&br(r,a,"")}else for(const o in e)s[o]==null&&br(r,o,"");for(const o in s)o==="display"&&(i=!0),br(r,o,s[o])}else if(n){if(e!==s){const o=r[Fu];o&&(s+=";"+o),r.cssText=s,i=Mu.test(s)}}else e&&t.removeAttribute("style");Vi in t&&(t[Vi]=i?r.display:"",t[Lu]&&(r.display="none"))}const Ki=/\s*!important$/;function br(t,e,s){if(L(s))s.forEach(r=>br(t,e,r));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const r=Hu(t,e);Ki.test(s)?t.setProperty(Ht(r),s.replace(Ki,""),"important"):t[r]=s}}const zi=["Webkit","Moz","ms"],cn={};function Hu(t,e){const s=cn[e];if(s)return s;let r=Le(e);if(r!=="filter"&&r in t)return cn[e]=r;r=Br(r);for(let n=0;n<zi.length;n++){const i=zi[n]+r;if(i in t)return cn[e]=i}return e}const Ji="http://www.w3.org/1999/xlink";function Gi(t,e,s,r,n,i=Kl(e)){r&&e.startsWith("xlink:")?s==null?t.removeAttributeNS(Ji,e.slice(6,e.length)):t.setAttributeNS(Ji,e,s):s==null||i&&!qo(s)?t.removeAttribute(e):t.setAttribute(e,i?"":at(s)?String(s):s)}function Qi(t,e,s,r,n){if(e==="innerHTML"||e==="textContent"){s!=null&&(t[e]=e==="innerHTML"?Fa(s):s);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,c=s==null?t.type==="checkbox"?"on":"":String(s);(a!==c||!("_value"in t))&&(t.value=c),s==null&&t.removeAttribute(e),t._value=s;return}let o=!1;if(s===""||s==null){const a=typeof t[e];a==="boolean"?s=qo(s):s==null&&a==="string"?(s="",o=!0):a==="number"&&(s=0,o=!0)}try{t[e]=s}catch{}o&&t.removeAttribute(n||e)}function Ot(t,e,s,r){t.addEventListener(e,s,r)}function Wu(t,e,s,r){t.removeEventListener(e,s,r)}const Yi=Symbol("_vei");function Vu(t,e,s,r,n=null){const i=t[Yi]||(t[Yi]={}),o=i[e];if(r&&o)o.value=r;else{const[a,c]=Ku(e);if(r){const u=i[e]=Gu(r,n);Ot(t,a,u,c)}else o&&(Wu(t,a,o,c),i[e]=void 0)}}const Xi=/(?:Once|Passive|Capture)$/;function Ku(t){let e;if(Xi.test(t)){e={};let r;for(;r=t.match(Xi);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Ht(t.slice(2)),e]}let un=0;const zu=Promise.resolve(),Ju=()=>un||(zu.then(()=>un=0),un=Date.now());function Gu(t,e){const s=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=s.attached)return;lt(Qu(r,s.value),e,5,[r])};return s.value=t,s.attached=Ju(),s}function Qu(t,e){if(L(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(r=>n=>!n._stopped&&r&&r(n))}else return e}const Zi=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Yu=(t,e,s,r,n,i)=>{const o=n==="svg";e==="class"?$u(t,r,o):e==="style"?qu(t,s,r):jr(e)?Yn(e)||Vu(t,e,s,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Xu(t,e,r,o))?(Qi(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Gi(t,e,r,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!fe(r))?Qi(t,Le(e),r,i,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Gi(t,e,r,o))};function Xu(t,e,s,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&Zi(e)&&z(s));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const n=t.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return Zi(e)&&fe(s)?!1:e in t}const cs=t=>{const e=t.props["onUpdate:modelValue"]||!1;return L(e)?s=>pr(e,s):e};function Zu(t){t.target.composing=!0}function eo(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const mt=Symbol("_assign"),de={created(t,{modifiers:{lazy:e,trim:s,number:r}},n){t[mt]=cs(n);const i=r||n.props&&n.props.type==="number";Ot(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;s&&(a=a.trim()),i&&(a=vr(a)),t[mt](a)}),s&&Ot(t,"change",()=>{t.value=t.value.trim()}),e||(Ot(t,"compositionstart",Zu),Ot(t,"compositionend",eo),Ot(t,"change",eo))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:s,modifiers:{lazy:r,trim:n,number:i}},o){if(t[mt]=cs(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?vr(t.value):t.value,c=e??"";a!==c&&(document.activeElement===t&&t.type!=="range"&&(r&&e===s||n&&t.value.trim()===c)||(t.value=c))}},Cr={deep:!0,created(t,e,s){t[mt]=cs(s),Ot(t,"change",()=>{const r=t._modelValue,n=Ws(t),i=t.checked,o=t[mt];if(L(r)){const a=ti(r,n),c=a!==-1;if(i&&!c)o(r.concat(n));else if(!i&&c){const u=[...r];u.splice(a,1),o(u)}}else if(hs(r)){const a=new Set(r);i?a.add(n):a.delete(n),o(a)}else o(Ma(t,i))})},mounted:to,beforeUpdate(t,e,s){t[mt]=cs(s),to(t,e,s)}};function to(t,{value:e,oldValue:s},r){t._modelValue=e;let n;if(L(e))n=ti(e,r.props.value)>-1;else if(hs(e))n=e.has(r.props.value);else{if(e===s)return;n=zs(e,Ma(t,!0))}t.checked!==n&&(t.checked=n)}const In={deep:!0,created(t,{value:e,modifiers:{number:s}},r){const n=hs(e);Ot(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>s?vr(Ws(o)):Ws(o));t[mt](t.multiple?n?new Set(i):i:i[0]),t._assigning=!0,ca(()=>{t._assigning=!1})}),t[mt]=cs(r)},mounted(t,{value:e}){so(t,e)},beforeUpdate(t,e,s){t[mt]=cs(s)},updated(t,{value:e}){t._assigning||so(t,e)}};function so(t,e){const s=t.multiple,r=L(e);if(!(s&&!r&&!hs(e))){for(let n=0,i=t.options.length;n<i;n++){const o=t.options[n],a=Ws(o);if(s)if(r){const c=typeof a;c==="string"||c==="number"?o.selected=e.some(u=>String(u)===String(a)):o.selected=ti(e,a)>-1}else o.selected=e.has(a);else if(zs(Ws(o),e)){t.selectedIndex!==n&&(t.selectedIndex=n);return}}!s&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Ws(t){return"_value"in t?t._value:t.value}function Ma(t,e){const s=e?"_trueValue":"_falseValue";return s in t?t[s]:e}const ed=Oe({patchProp:Yu},Uu);let ro;function td(){return ro||(ro=nu(ed))}const sd=(...t)=>{const e=td().createApp(...t),{mount:s}=e;return e.mount=r=>{const n=nd(r);if(!n)return;const i=e._component;!z(i)&&!i.render&&!i.template&&(i.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const o=s(n,!1,rd(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},e};function rd(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function nd(t){return fe(t)?document.querySelector(t):t}const id="modulepreload",od=function(t){return"/smart-due/"+t},no={},Qs=function(e,s,r){let n=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));n=Promise.allSettled(s.map(c=>{if(c=od(c),c in no)return;no[c]=!0;const u=c.endsWith(".css"),l=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${l}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":id,u||(d.as="script"),d.crossOrigin="",d.href=c,a&&d.setAttribute("nonce",a),document.head.appendChild(d),u)return new Promise((g,b)=>{d.addEventListener("load",g),d.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return n.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},ad=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Qs(async()=>{const{default:r}=await Promise.resolve().then(()=>fs);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)};class pi extends Error{constructor(e,s="FunctionsError",r){super(e),this.name=s,this.context=r}}class io extends pi{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class oo extends pi{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class ao extends pi{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Bn;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Bn||(Bn={}));var ld=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):n(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})};class cd{constructor(e,{headers:s={},customFetch:r,region:n=Bn.Any}={}){this.url=e,this.headers=s,this.region=n,this.fetch=ad(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,s={}){var r;return ld(this,void 0,void 0,function*(){try{const{headers:n,method:i,body:o,signal:a}=s;let c={},{region:u}=s;u||(u=this.region);const l=new URL(`${this.url}/${e}`);u&&u!=="any"&&(c["x-region"]=u,l.searchParams.set("forceFunctionRegion",u));let d;o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(c["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(c["Content-Type"]="application/json",d=JSON.stringify(o)));const g=yield this.fetch(l.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),n),body:d,signal:a}).catch(y=>{throw y.name==="AbortError"?y:new io(y)}),b=g.headers.get("x-relay-error");if(b&&b==="true")throw new oo(g);if(!g.ok)throw new ao(g);let m=((r=g.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),_;return m==="application/json"?_=yield g.json():m==="application/octet-stream"?_=yield g.blob():m==="text/event-stream"?_=g:m==="multipart/form-data"?_=yield g.formData():_=yield g.text(),{data:_,error:null,response:g}}catch(n){return n instanceof Error&&n.name==="AbortError"?{data:null,error:new io(n)}:{data:null,error:n,response:n instanceof ao||n instanceof oo?n.context:void 0}}})}}var Fe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ud(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var s=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(s,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}),s}var Re={},gi={},qr={},Ys={},Hr={},Wr={},dd=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},us=dd();const hd=us.fetch,qa=us.fetch.bind(us),Ha=us.Headers,fd=us.Request,pd=us.Response,fs=Object.freeze(Object.defineProperty({__proto__:null,Headers:Ha,Request:fd,Response:pd,default:qa,fetch:hd},Symbol.toStringTag,{value:"Module"})),gd=ud(fs);var Vr={};Object.defineProperty(Vr,"__esModule",{value:!0});let md=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Vr.default=md;var Wa=Fe&&Fe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Wr,"__esModule",{value:!0});const bd=Wa(gd),wd=Wa(Vr);let yd=class{constructor(e){var s,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(s=e.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=bd.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,s){return this.headers=new Headers(this.headers),this.headers.set(e,s),this}then(e,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let n=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,c,u;let l=null,d=null,g=null,b=i.status,m=i.statusText;if(i.ok){if(this.method!=="HEAD"){const C=await i.text();C===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?d=C:d=JSON.parse(C))}const y=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),P=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");y&&P&&P.length>1&&(g=parseInt(P[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(l={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,g=null,b=406,m="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const y=await i.text();try{l=JSON.parse(y),Array.isArray(l)&&i.status===404&&(d=[],l=null,b=200,m="OK")}catch{i.status===404&&y===""?(b=204,m="No Content"):l={message:y}}if(l&&this.isMaybeSingle&&(!((u=l==null?void 0:l.details)===null||u===void 0)&&u.includes("0 rows"))&&(l=null,b=200,m="OK"),l&&this.shouldThrowOnError)throw new wd.default(l)}return{error:l,data:d,count:g,status:b,statusText:m}});return this.shouldThrowOnError||(n=n.catch(i=>{var o,a,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),n.then(e,s)}returns(){return this}overrideTypes(){return this}};Wr.default=yd;var _d=Fe&&Fe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Hr,"__esModule",{value:!0});const vd=_d(Wr);let Sd=class extends vd.default{select(e){let s=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!s?"":(n==='"'&&(s=!s),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:s=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${s?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:s,referencedTable:r=s}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,s,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"offset":`${n}.offset`,o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${s-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:s=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:o="text"}={}){var a;const c=[e?"analyze":null,s?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Hr.default=Sd;var Ed=Fe&&Fe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ys,"__esModule",{value:!0});const kd=Ed(Hr);let Td=class extends kd.default{eq(e,s){return this.url.searchParams.append(e,`eq.${s}`),this}neq(e,s){return this.url.searchParams.append(e,`neq.${s}`),this}gt(e,s){return this.url.searchParams.append(e,`gt.${s}`),this}gte(e,s){return this.url.searchParams.append(e,`gte.${s}`),this}lt(e,s){return this.url.searchParams.append(e,`lt.${s}`),this}lte(e,s){return this.url.searchParams.append(e,`lte.${s}`),this}like(e,s){return this.url.searchParams.append(e,`like.${s}`),this}likeAllOf(e,s){return this.url.searchParams.append(e,`like(all).{${s.join(",")}}`),this}likeAnyOf(e,s){return this.url.searchParams.append(e,`like(any).{${s.join(",")}}`),this}ilike(e,s){return this.url.searchParams.append(e,`ilike.${s}`),this}ilikeAllOf(e,s){return this.url.searchParams.append(e,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(e,s){return this.url.searchParams.append(e,`ilike(any).{${s.join(",")}}`),this}is(e,s){return this.url.searchParams.append(e,`is.${s}`),this}in(e,s){const r=Array.from(new Set(s)).map(n=>typeof n=="string"&&new RegExp("[,()]").test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cs.{${s.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(s)}`),this}containedBy(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cd.{${s.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(s)}`),this}rangeGt(e,s){return this.url.searchParams.append(e,`sr.${s}`),this}rangeGte(e,s){return this.url.searchParams.append(e,`nxl.${s}`),this}rangeLt(e,s){return this.url.searchParams.append(e,`sl.${s}`),this}rangeLte(e,s){return this.url.searchParams.append(e,`nxr.${s}`),this}rangeAdjacent(e,s){return this.url.searchParams.append(e,`adj.${s}`),this}overlaps(e,s){return typeof s=="string"?this.url.searchParams.append(e,`ov.${s}`):this.url.searchParams.append(e,`ov.{${s.join(",")}}`),this}textSearch(e,s,{config:r,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${s}`),this}match(e){return Object.entries(e).forEach(([s,r])=>{this.url.searchParams.append(s,`eq.${r}`)}),this}not(e,s,r){return this.url.searchParams.append(e,`not.${s}.${r}`),this}or(e,{foreignTable:s,referencedTable:r=s}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,s,r){return this.url.searchParams.append(e,`${s}.${r}`),this}};Ys.default=Td;var Od=Fe&&Fe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(qr,"__esModule",{value:!0});const Es=Od(Ys);let xd=class{constructor(e,{headers:s={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(s),this.schema=r,this.fetch=n}select(e,{head:s=!1,count:r}={}){const n=s?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&this.headers.append("Prefer",`count=${r}`),new Es.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:s,defaultToNull:r=!0}={}){var n;const i="POST";if(s&&this.headers.append("Prefer",`count=${s}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(o.length>0){const a=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new Es.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:s,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}={}){var o;const a="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),n&&this.headers.append("Prefer",`count=${n}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((u,l)=>u.concat(Object.keys(l)),[]);if(c.length>0){const u=[...new Set(c)].map(l=>`"${l}"`);this.url.searchParams.set("columns",u.join(","))}}return new Es.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:s}={}){var r;const n="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new Es.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var s;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new Es.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};qr.default=xd;var Va=Fe&&Fe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(gi,"__esModule",{value:!0});const Cd=Va(qr),Ad=Va(Ys);let Pd=class Ka{constructor(e,{headers:s={},schema:r,fetch:n}={}){this.url=e,this.headers=new Headers(s),this.schemaName=r,this.fetch=n}from(e){const s=new URL(`${this.url}/${e}`);return new Cd.default(s,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Ka(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,s={},{head:r=!1,get:n=!1,count:i}={}){var o;let a;const c=new URL(`${this.url}/rpc/${e}`);let u;r||n?(a=r?"HEAD":"GET",Object.entries(s).filter(([d,g])=>g!==void 0).map(([d,g])=>[d,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([d,g])=>{c.searchParams.append(d,g)})):(a="POST",u=s);const l=new Headers(this.headers);return i&&l.set("Prefer",`count=${i}`),new Ad.default({method:a,url:c,headers:l,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};gi.default=Pd;var ps=Fe&&Fe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Re,"__esModule",{value:!0});Re.PostgrestError=Re.PostgrestBuilder=Re.PostgrestTransformBuilder=Re.PostgrestFilterBuilder=Re.PostgrestQueryBuilder=Re.PostgrestClient=void 0;const za=ps(gi);Re.PostgrestClient=za.default;const Ja=ps(qr);Re.PostgrestQueryBuilder=Ja.default;const Ga=ps(Ys);Re.PostgrestFilterBuilder=Ga.default;const Qa=ps(Hr);Re.PostgrestTransformBuilder=Qa.default;const Ya=ps(Wr);Re.PostgrestBuilder=Ya.default;const Xa=ps(Vr);Re.PostgrestError=Xa.default;var Rd=Re.default={PostgrestClient:za.default,PostgrestQueryBuilder:Ja.default,PostgrestFilterBuilder:Ga.default,PostgrestTransformBuilder:Qa.default,PostgrestBuilder:Ya.default,PostgrestError:Xa.default};const{PostgrestClient:jd,PostgrestQueryBuilder:Nb,PostgrestFilterBuilder:$b,PostgrestTransformBuilder:Lb,PostgrestBuilder:Fb,PostgrestError:Mb}=Rd;class Id{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const r=s.node,n=parseInt(r.replace(/^v/,"").split(".")[0]);return n>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let s=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(s+=`

Suggested solution: ${e.workaround}`),new Error(s)}static createWebSocket(e,s){const r=this.getWebSocketConstructor();return new r(e,s)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Bd="2.15.5",Dd=`realtime-js/${Bd}`,Ud="1.0.0",Dn=1e4,Nd=1e3,$d=100;var Us;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Us||(Us={}));var ge;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ge||(ge={}));var qe;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(qe||(qe={}));var Un;(function(t){t.websocket="websocket"})(Un||(Un={}));var Ut;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ut||(Ut={}));class Ld{constructor(){this.HEADER_LENGTH=1}decode(e,s){return e.constructor===ArrayBuffer?s(this._binaryDecode(e)):s(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const s=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,s,r)}_decodeBroadcast(e,s,r){const n=s.getUint8(1),i=s.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+n));o=o+n;const c=r.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:c,payload:u}}}class Za{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var oe;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(oe||(oe={}));const lo=(t,e,s={})=>{var r;const n=(r=s.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=Fd(o,t,e,n),i),{})},Fd=(t,e,s,r)=>{const n=e.find(a=>a.name===t),i=n==null?void 0:n.type,o=s[t];return i&&!r.includes(i)?el(i,o):Nn(o)},el=(t,e)=>{if(t.charAt(0)==="_"){const s=t.slice(1,t.length);return Wd(e,s)}switch(t){case oe.bool:return Md(e);case oe.float4:case oe.float8:case oe.int2:case oe.int4:case oe.int8:case oe.numeric:case oe.oid:return qd(e);case oe.json:case oe.jsonb:return Hd(e);case oe.timestamp:return Vd(e);case oe.abstime:case oe.date:case oe.daterange:case oe.int4range:case oe.int8range:case oe.money:case oe.reltime:case oe.text:case oe.time:case oe.timestamptz:case oe.timetz:case oe.tsrange:case oe.tstzrange:return Nn(e);default:return Nn(e)}},Nn=t=>t,Md=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},qd=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Hd=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Wd=(t,e)=>{if(typeof t!="string")return t;const s=t.length-1,r=t[s];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,s);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>el(e,a))}return t},Vd=t=>typeof t=="string"?t.replace(" ","T"):t,tl=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class dn{constructor(e,s,r={},n=Dn){this.channel=e,this.event=s,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var r;return this._hasReceived(e)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var co;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(co||(co={}));class Ns{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ns.syncState(this.state,n,i,o),this.pendingDiffs.forEach(c=>{this.state=Ns.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=Ns.syncDiff(this.state,n,i,o),a())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,r,n){const i=this.cloneDeep(e),o=this.transformState(s),a={},c={};return this.map(i,(u,l)=>{o[u]||(c[u]=l)}),this.map(o,(u,l)=>{const d=i[u];if(d){const g=l.map(y=>y.presence_ref),b=d.map(y=>y.presence_ref),m=l.filter(y=>b.indexOf(y.presence_ref)<0),_=d.filter(y=>g.indexOf(y.presence_ref)<0);m.length>0&&(a[u]=m),_.length>0&&(c[u]=_)}else a[u]=l}),this.syncDiff(i,{joins:a,leaves:c},r,n)}static syncDiff(e,s,r,n){const{joins:i,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(i,(a,c)=>{var u;const l=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(c),l.length>0){const d=e[a].map(b=>b.presence_ref),g=l.filter(b=>d.indexOf(b.presence_ref)<0);e[a].unshift(...g)}r(a,l,c)}),this.map(o,(a,c)=>{let u=e[a];if(!u)return;const l=c.map(d=>d.presence_ref);u=u.filter(d=>l.indexOf(d.presence_ref)<0),e[a]=u,n(a,u,c),u.length===0&&delete e[a]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(r=>s(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,r)=>{const n=e[r];return"metas"in n?s[r]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[r]=n,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var uo;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(uo||(uo={}));var $s;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})($s||($s={}));var ht;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ht||(ht={}));class mi{constructor(e,s={config:{}},r){this.topic=e,this.params=s,this.socket=r,this.bindings={},this.state=ge.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new dn(this,qe.join,this.params,this.timeout),this.rejoinTimer=new Za(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ge.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ge.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=ge.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ge.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=ge.errored,this.rejoinTimer.scheduleTimeout())}),this._on(qe.reply,{},(n,i)=>{this._trigger(this._replyEventName(i),n)}),this.presence=new Ns(this),this.broadcastEndpointURL=tl(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,s=this.timeout){var r,n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ge.closed){const{config:{broadcast:o,presence:a,private:c}}=this.params,u=(n=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(b=>b.filter))!==null&&n!==void 0?n:[],l=!!this.bindings[$s.PRESENCE]&&this.bindings[$s.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,d={},g={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:l}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(b=>e==null?void 0:e(ht.CHANNEL_ERROR,b)),this._onClose(()=>e==null?void 0:e(ht.CLOSED)),this.updateJoinPayload(Object.assign({config:g},d)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:b})=>{var m;if(this.socket.setAuth(),b===void 0){e==null||e(ht.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,y=(m=_==null?void 0:_.length)!==null&&m!==void 0?m:0,P=[];for(let C=0;C<y;C++){const S=_[C],{filter:{event:x,schema:F,table:H,filter:W}}=S,ue=b&&b[C];if(ue&&ue.event===x&&ue.schema===F&&ue.table===H&&ue.filter===W)P.push(Object.assign(Object.assign({},S),{id:ue.id}));else{this.unsubscribe(),this.state=ge.errored,e==null||e(ht.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=P,e&&e(ht.SUBSCRIBED);return}}).receive("error",b=>{this.state=ge.errored,e==null||e(ht.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ht.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,r){return this.state===ge.joined&&e===$s.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,s,r)}async send(e,s={}){var r,n;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((n=u.body)===null||n===void 0?void 0:n.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,c;const u=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ge.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(qe.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(n=>{r=new dn(this,qe.leave,{},e),r.receive("ok",()=>{s(),n("ok")}).receive("timeout",()=>{s(),n("timed out")}).receive("error",()=>{n("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ge.closed,this.bindings={}}async _fetchWithTimeout(e,s,r){const n=new AbortController,i=setTimeout(()=>n.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:n.signal}));return clearTimeout(i),o}_push(e,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new dn(this,e,s,r);return this._canPush()?n.send():this._addToPushBuffer(n),n}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>$d){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(e,s,r){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,r){var n,i;const o=e.toLocaleLowerCase(),{close:a,error:c,leave:u,join:l}=qe;if(r&&[a,c,u,l].indexOf(o)>=0&&r!==this._joinRef())return;let g=this._onMessage(o,s,r);if(s&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(b=>{var m,_,y;return((m=b.filter)===null||m===void 0?void 0:m.event)==="*"||((y=(_=b.filter)===null||_===void 0?void 0:_.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(b=>b.callback(g,r)):(i=this.bindings[o])===null||i===void 0||i.filter(b=>{var m,_,y,P,C,S;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in b){const x=b.id,F=(m=b.filter)===null||m===void 0?void 0:m.event;return x&&((_=s.ids)===null||_===void 0?void 0:_.includes(x))&&(F==="*"||(F==null?void 0:F.toLocaleLowerCase())===((y=s.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const x=(C=(P=b==null?void 0:b.filter)===null||P===void 0?void 0:P.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return x==="*"||x===((S=s==null?void 0:s.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===o}).map(b=>{if(typeof g=="object"&&"ids"in g){const m=g.data,{schema:_,table:y,commit_timestamp:P,type:C,errors:S}=m;g=Object.assign(Object.assign({},{schema:_,table:y,commit_timestamp:P,eventType:C,new:{},old:{},errors:S}),this._getPayloadRecords(m))}b.callback(g,r)})}_isClosed(){return this.state===ge.closed}_isJoined(){return this.state===ge.joined}_isJoining(){return this.state===ge.joining}_isLeaving(){return this.state===ge.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,r){const n=e.toLocaleLowerCase(),i={type:n,filter:s,callback:r};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(e,s){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&mi.isEqual(n.filter,s))})),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const r in e)if(e[r]!==s[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(qe.close,{},e)}_onError(e){this._on(qe.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ge.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=lo(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=lo(e.columns,e.old_record)),s}}const hn=()=>{},ur={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Kd=[1e3,2e3,5e3,1e4],zd=1e4,Jd=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Gd{constructor(e,s){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Dn,this.transport=null,this.heartbeatIntervalMs=ur.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=hn,this.ref=0,this.reconnectTimer=null,this.logger=hn,this.conn=null,this.sendBuffer=[],this.serializer=new Ld,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=n=>{let i;return n?i=n:typeof fetch>"u"?i=(...o)=>Qs(async()=>{const{default:a}=await Promise.resolve().then(()=>fs);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((r=s==null?void 0:s.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${e}/${Un.websocket}`,this.httpEndpoint=tl(e),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s==null?void 0:s.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Id.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const s=e.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Ud}))}disconnect(e,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,s??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,s,r){this.logger(e,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Us.connecting:return Ut.Connecting;case Us.open:return Ut.Open;case Us.closing:return Ut.Closing;default:return Ut.Closed}}isConnected(){return this.connectionState()===Ut.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,s={config:{}}){const r=`realtime:${e}`,n=this.getChannels().find(i=>i.topic===r);if(n)return n;{const i=new mi(`realtime:${e}`,s,this);return this.channels.push(i),i}}push(e){const{topic:s,event:r,payload:n,ref:i}=e,o=()=>{this.encode(e,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${s} ${r} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Nd,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},ur.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:n,payload:i,ref:o}=s,a=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${r} ${n} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(n,i,o)),this._triggerStateCallbacks("message",s)})}_clearTimer(e){var s;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var s;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(qe.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const r=e.match(/\?/)?"&":"?",n=new URLSearchParams(s);return`${e}${r}${n}`}_workerObjectUrl(e){let s;if(e)s=e;else{const r=new Blob([Jd],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}_setConnectionState(e,s=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(e=null){let s;e?s=e:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(r=>{const n={access_token:s,version:Dd};s&&r.updateJoinPayload(n),r.joinedOnce&&r._isJoined()&&r._push(qe.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${e}`,s)})}_triggerStateCallbacks(e,s){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(s)}catch(n){this.log("error",`error in ${e} callback`,n)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Za(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ur.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var s,r,n,i,o,a,c,u,l;if(this.transport=(s=e==null?void 0:e.transport)!==null&&s!==void 0?s:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:Dn,this.heartbeatIntervalMs=(n=e==null?void 0:e.heartbeatIntervalMs)!==null&&n!==void 0?n:ur.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:hn,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:d=>Kd[d-1]||zd,this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(d,g)=>g(JSON.stringify(d)),this.decode=(l=e==null?void 0:e.decode)!==null&&l!==void 0?l:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class bi extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function he(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Qd extends bi{constructor(e,s,r){super(e),this.name="StorageApiError",this.status=s,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class $n extends bi{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}var Yd=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):n(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})};const sl=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Qs(async()=>{const{default:r}=await Promise.resolve().then(()=>fs);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},Xd=()=>Yd(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Qs(()=>Promise.resolve().then(()=>fs),void 0)).Response:Response}),Ln=t=>{if(Array.isArray(t))return t.map(s=>Ln(s));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([s,r])=>{const n=s.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[n]=Ln(r)}),e},Zd=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Wt=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):n(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})};const fn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),eh=(t,e,s)=>Wt(void 0,void 0,void 0,function*(){const r=yield Xd();t instanceof r&&!(s!=null&&s.noResolveJson)?t.json().then(n=>{const i=t.status||500,o=(n==null?void 0:n.statusCode)||i+"";e(new Qd(fn(n),i,o))}).catch(n=>{e(new $n(fn(n),n))}):e(new $n(fn(t),t))}),th=(t,e,s,r)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?n:(Zd(r)?(n.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n.body=JSON.stringify(r)):n.body=r,e!=null&&e.duplex&&(n.duplex=e.duplex),Object.assign(Object.assign({},n),s))};function Xs(t,e,s,r,n,i){return Wt(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(s,th(e,r,n,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>eh(c,a,r))})})}function Ar(t,e,s,r){return Wt(this,void 0,void 0,function*(){return Xs(t,"GET",e,s,r)})}function rt(t,e,s,r,n){return Wt(this,void 0,void 0,function*(){return Xs(t,"POST",e,r,n,s)})}function Fn(t,e,s,r,n){return Wt(this,void 0,void 0,function*(){return Xs(t,"PUT",e,r,n,s)})}function sh(t,e,s,r){return Wt(this,void 0,void 0,function*(){return Xs(t,"HEAD",e,Object.assign(Object.assign({},s),{noResolveJson:!0}),r)})}function rl(t,e,s,r,n){return Wt(this,void 0,void 0,function*(){return Xs(t,"DELETE",e,r,n,s)})}var rh=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):n(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})};class nh{constructor(e,s){this.downloadFn=e,this.shouldThrowOnError=s}then(e,s){return this.execute().then(e,s)}execute(){return rh(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(he(e))return{data:null,error:e};throw e}})}}var ih=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):n(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})};class oh{constructor(e,s){this.downloadFn=e,this.shouldThrowOnError=s}asStream(){return new nh(this.downloadFn,this.shouldThrowOnError)}then(e,s){return this.execute().then(e,s)}execute(){return ih(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(he(e))return{data:null,error:e};throw e}})}}var Ae=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):n(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})};const ah={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ho={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class lh{constructor(e,s={},r,n){this.shouldThrowOnError=!1,this.url=e,this.headers=s,this.bucketId=r,this.fetch=sl(n)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,s,r,n){return Ae(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},ho),n);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),n!=null&&n.headers&&(a=Object.assign(Object.assign({},a),n.headers));const u=this._removeEmptyFolders(s),l=this._getFinalPath(u),d=yield(e=="PUT"?Fn:rt)(this.fetch,`${this.url}/object/${l}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(he(i))return{data:null,error:i};throw i}})}upload(e,s,r){return Ae(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,r)})}uploadToSignedUrl(e,s,r,n){return Ae(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",s);try{let c;const u=Object.assign({upsert:ho.upsert},n),l=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,l["cache-control"]=`max-age=${u.cacheControl}`,l["content-type"]=u.contentType);const d=yield Fn(this.fetch,a.toString(),c,{headers:l});return{data:{path:i,fullPath:d.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(he(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,s){return Ae(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const n=Object.assign({},this.headers);s!=null&&s.upsert&&(n["x-upsert"]="true");const i=yield rt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:n}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new bi("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(he(r))return{data:null,error:r};throw r}})}update(e,s,r){return Ae(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,r)})}move(e,s,r){return Ae(this,void 0,void 0,function*(){try{return{data:yield rt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(he(n))return{data:null,error:n};throw n}})}copy(e,s,r){return Ae(this,void 0,void 0,function*(){try{return{data:{path:(yield rt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(he(n))return{data:null,error:n};throw n}})}createSignedUrl(e,s,r){return Ae(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),i=yield rt(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:s},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(he(n))return{data:null,error:n};throw n}})}createSignedUrls(e,s,r){return Ae(this,void 0,void 0,function*(){try{const n=yield rt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(he(n))return{data:null,error:n};throw n}})}download(e,s){const n=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=i?`?${i}`:"",a=this._getFinalPath(e),c=()=>Ar(this.fetch,`${this.url}/${n}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new oh(c,this.shouldThrowOnError)}info(e){return Ae(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{const r=yield Ar(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Ln(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(he(r))return{data:null,error:r};throw r}})}exists(e){return Ae(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{return yield sh(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(he(r)&&r instanceof $n){const n=r.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,s){const r=this._getFinalPath(e),n=[],i=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";i!==""&&n.push(i);const a=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});c!==""&&n.push(c);let u=n.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(e){return Ae(this,void 0,void 0,function*(){try{return{data:yield rl(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(he(s))return{data:null,error:s};throw s}})}list(e,s,r){return Ae(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},ah),s),{prefix:e||""});return{data:yield rt(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(he(n))return{data:null,error:n};throw n}})}listV2(e,s){return Ae(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield rt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},s),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(he(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const ch="2.12.2",uh={"X-Client-Info":`storage-js/${ch}`};var Gt=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):n(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})};class dh{constructor(e,s={},r,n){this.shouldThrowOnError=!1;const i=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},uh),s),this.fetch=sl(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Gt(this,void 0,void 0,function*(){try{return{data:yield Ar(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(he(e))return{data:null,error:e};throw e}})}getBucket(e){return Gt(this,void 0,void 0,function*(){try{return{data:yield Ar(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(he(s))return{data:null,error:s};throw s}})}createBucket(e,s={public:!1}){return Gt(this,void 0,void 0,function*(){try{return{data:yield rt(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(he(r))return{data:null,error:r};throw r}})}updateBucket(e,s){return Gt(this,void 0,void 0,function*(){try{return{data:yield Fn(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(he(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Gt(this,void 0,void 0,function*(){try{return{data:yield rt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(he(s))return{data:null,error:s};throw s}})}deleteBucket(e){return Gt(this,void 0,void 0,function*(){try{return{data:yield rl(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(he(s))return{data:null,error:s};throw s}})}}class hh extends dh{constructor(e,s={},r,n){super(e,s,r,n)}from(e){return new lh(this.url,this.headers,e,this.fetch)}}const fh="2.58.0";let Cs="";typeof Deno<"u"?Cs="deno":typeof document<"u"?Cs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Cs="react-native":Cs="node";const ph={"X-Client-Info":`supabase-js-${Cs}/${fh}`},gh={headers:ph},mh={schema:"public"},bh={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},wh={};var yh=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):n(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})};const _h=t=>{let e;return t?e=t:typeof fetch>"u"?e=qa:e=fetch,(...s)=>e(...s)},vh=()=>typeof Headers>"u"?Ha:Headers,Sh=(t,e,s)=>{const r=_h(s),n=vh();return(i,o)=>yh(void 0,void 0,void 0,function*(){var a;const c=(a=yield e())!==null&&a!==void 0?a:t;let u=new n(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var Eh=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):n(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})};function kh(t){return t.endsWith("/")?t:t+"/"}function Th(t,e){var s,r;const{db:n,auth:i,realtime:o,global:a}=t,{db:c,auth:u,realtime:l,global:d}=e,g={db:Object.assign(Object.assign({},c),n),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},l),o),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(s=d==null?void 0:d.headers)!==null&&s!==void 0?s:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>Eh(this,void 0,void 0,function*(){return""})};return t.accessToken?g.accessToken=t.accessToken:delete g.accessToken,g}function Oh(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(kh(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const nl="2.72.0",ts=30*1e3,Mn=3,pn=Mn*ts,xh="http://localhost:9999",Ch="supabase.auth.token",Ah={"X-Client-Info":`gotrue-js/${nl}`},qn="X-Supabase-Api-Version",il={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Ph=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Rh=10*60*1e3;class wi extends Error{constructor(e,s,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function V(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class jh extends wi{constructor(e,s,r){super(e,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function Ih(t){return V(t)&&t.name==="AuthApiError"}class ol extends wi{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class At extends wi{constructor(e,s,r,n){super(e,r,n),this.name=s,this.status=r}}class Et extends At{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Bh(t){return V(t)&&t.name==="AuthSessionMissingError"}class ks extends At{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class dr extends At{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class hr extends At{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Dh(t){return V(t)&&t.name==="AuthImplicitGrantRedirectError"}class fo extends At{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Hn extends At{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function gn(t){return V(t)&&t.name==="AuthRetryableFetchError"}class po extends At{constructor(e,s,r){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}class Wn extends At{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Pr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),go=` 	
\r=`.split(""),Uh=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<go.length;e+=1)t[go[e].charCodeAt(0)]=-2;for(let e=0;e<Pr.length;e+=1)t[Pr[e].charCodeAt(0)]=e;return t})();function mo(t,e,s){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;s(Pr[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;s(Pr[r]),e.queuedBits-=6}}function al(t,e,s){const r=Uh[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)s(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function bo(t){const e=[],s=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},i=o=>{Lh(o,r,s)};for(let o=0;o<t.length;o+=1)al(t.charCodeAt(o),n,i);return e.join("")}function Nh(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function $h(t,e){for(let s=0;s<t.length;s+=1){let r=t.charCodeAt(s);if(r>55295&&r<=56319){const n=(r-55296)*1024&65535;r=(t.charCodeAt(s+1)-56320&65535|n)+65536,s+=1}Nh(r,e)}}function Lh(t,e,s){if(e.utf8seq===0){if(t<=127){s(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&s(e.codepoint)}}function Fh(t){const e=[],s={queue:0,queuedBits:0},r=n=>{e.push(n)};for(let n=0;n<t.length;n+=1)al(t.charCodeAt(n),s,r);return new Uint8Array(e)}function Mh(t){const e=[];return $h(t,s=>e.push(s)),new Uint8Array(e)}function qh(t){const e=[],s={queue:0,queuedBits:0},r=n=>{e.push(n)};return t.forEach(n=>mo(n,s,r)),mo(null,s,r),e.join("")}function Hh(t){return Math.round(Date.now()/1e3)+t}function Wh(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const $e=()=>typeof window<"u"&&typeof document<"u",jt={tested:!1,writable:!1},ll=()=>{if(!$e())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(jt.tested)return jt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),jt.tested=!0,jt.writable=!0}catch{jt.tested=!0,jt.writable=!1}return jt.writable};function Vh(t){const e={},s=new URL(t);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((n,i)=>{e[i]=n})}catch{}return s.searchParams.forEach((r,n)=>{e[n]=r}),e}const cl=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Qs(async()=>{const{default:r}=await Promise.resolve().then(()=>fs);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},Kh=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ss=async(t,e,s)=>{await t.setItem(e,JSON.stringify(s))},It=async(t,e)=>{const s=await t.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},St=async(t,e)=>{await t.removeItem(e)};class Kr{constructor(){this.promise=new Kr.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}Kr.promiseConstructor=Promise;function mn(t){const e=t.split(".");if(e.length!==3)throw new Wn("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!Ph.test(e[r]))throw new Wn("JWT not in base64url format");return{header:JSON.parse(bo(e[0])),payload:JSON.parse(bo(e[1])),signature:Fh(e[2]),raw:{header:e[0],payload:e[1]}}}async function zh(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Jh(t,e){return new Promise((r,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){n(o);return}}})()})}function Gh(t){return("0"+t.toString(16)).substr(-2)}function Qh(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let n="";for(let i=0;i<56;i++)n+=s.charAt(Math.floor(Math.random()*r));return n}return crypto.getRandomValues(e),Array.from(e,Gh).join("")}async function Yh(t){const s=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",s),n=new Uint8Array(r);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}async function Xh(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const s=await Yh(t);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Qt(t,e,s=!1){const r=Qh();let n=r;s&&(n+="/PASSWORD_RECOVERY"),await ss(t,`${e}-code-verifier`,n);const i=await Xh(r);return[i,r===i?"plain":"s256"]}const Zh=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ef(t){const e=t.headers.get(qn);if(!e||!e.match(Zh))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function tf(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function sf(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const rf=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Yt(t){if(!rf.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function bn(){const t={};return new Proxy(t,{get:(e,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const r=s.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function wo(t){return JSON.parse(JSON.stringify(t))}var nf=function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};const Dt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),of=[502,503,504];async function yo(t){var e;if(!Kh(t))throw new Hn(Dt(t),0);if(of.includes(t.status))throw new Hn(Dt(t),t.status);let s;try{s=await t.json()}catch(i){throw new ol(Dt(i),i)}let r;const n=ef(t);if(n&&n.getTime()>=il["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new po(Dt(s),t.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Et}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new po(Dt(s),t.status,s.weak_password.reasons);throw new jh(Dt(s),t.status||500,r)}const af=(t,e,s,r)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),n.body=JSON.stringify(r),Object.assign(Object.assign({},n),s))};async function J(t,e,s,r){var n;const i=Object.assign({},r==null?void 0:r.headers);i[qn]||(i[qn]=il["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(n=r==null?void 0:r.query)!==null&&n!==void 0?n:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await lf(t,e,s+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function lf(t,e,s,r,n,i){const o=af(e,r,n,i);let a;try{a=await t(s,Object.assign({},o))}catch(c){throw console.error(c),new Hn(Dt(c),0)}if(a.ok||await yo(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(c){await yo(c)}}function tt(t){var e;let s=null;hf(t)&&(s=Object.assign({},t),t.expires_at||(s.expires_at=Hh(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:s,user:r},error:null}}function _o(t){const e=tt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function xt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function cf(t){return{data:t,error:null}}function uf(t){const{action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i}=t,o=nf(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i},c=Object.assign({},o);return{data:{properties:a,user:c},error:null}}function df(t){return t}function hf(t){return t.access_token&&t.refresh_token&&t.expires_in}const wn=["global","local","others"];var ff=function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};class pf{constructor({url:e="",headers:s={},fetch:r}){this.url=e,this.headers=s,this.fetch=cl(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,s=wn[0]){if(wn.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${wn.join(", ")}`);try{return await J(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(V(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,s={}){try{return await J(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:xt})}catch(r){if(V(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:s}=e,r=ff(e,["options"]),n=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(n.new_email=r==null?void 0:r.newEmail,delete n.newEmail),await J(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:uf,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(V(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await J(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:xt})}catch(s){if(V(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,r,n,i,o,a,c;try{const u={nextPage:null,lastPage:0,total:0},l=await J(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(i=(n=e==null?void 0:e.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:df});if(l.error)throw l.error;const d=await l.json(),g=(o=l.headers.get("x-total-count"))!==null&&o!==void 0?o:0,b=(c=(a=l.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return b.length>0&&(b.forEach(m=>{const _=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(m.split(";")[1].split("=")[1]);u[`${y}Page`]=_}),u.total=parseInt(g)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(V(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Yt(e);try{return await J(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:xt})}catch(s){if(V(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){Yt(e);try{return await J(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:xt})}catch(r){if(V(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,s=!1){Yt(e);try{return await J(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:xt})}catch(r){if(V(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Yt(e.userId);try{const{data:s,error:r}=await J(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:s,error:r}}catch(s){if(V(s))return{data:null,error:s};throw s}}async _deleteFactor(e){Yt(e.userId),Yt(e.id);try{return{data:await J(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(V(s))return{data:null,error:s};throw s}}}function vo(t={}){return{getItem:e=>t[e]||null,setItem:(e,s)=>{t[e]=s},removeItem:e=>{delete t[e]}}}function gf(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Xt={debug:!!(globalThis&&ll()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ul extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class mf extends ul{}async function bf(t,e,s){Xt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Xt.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async n=>{if(n){Xt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,n.name);try{return await s()}finally{Xt.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,n.name)}}else{if(e===0)throw Xt.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new mf(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Xt.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function dl(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function wf(t){return parseInt(t,16)}function yf(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function _f(t){var e;const{chainId:s,domain:r,expirationTime:n,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:c,resources:u,scheme:l,uri:d,version:g}=t;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(g!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${g}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const b=dl(t.address),m=l?`${l}://${r}`:r,_=t.statement?`${t.statement}
`:"",y=`${m} wants you to sign in with your Ethereum account:
${b}

${_}`;let P=`URI: ${d}
Version: ${g}
Chain ID: ${s}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(n&&(P+=`
Expiration Time: ${n.toISOString()}`),a&&(P+=`
Not Before: ${a.toISOString()}`),c&&(P+=`
Request ID: ${c}`),u){let C=`
Resources:`;for(const S of u){if(!S||typeof S!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${S}`);C+=`
- ${S}`}P+=C}return`${y}
${P}`}gf();const vf={url:xh,storageKey:Ch,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ah,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function So(t,e,s){return await s()}const Zt={};class Vs{constructor(e){var s,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Vs.nextInstanceID,Vs.nextInstanceID+=1,this.instanceID>0&&$e()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},vf),e);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new pf({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=cl(n.fetch),this.lock=n.lock||So,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:$e()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=bf:this.lock=So,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(n.storage?this.storage=n.storage:ll()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=vo(this.memoryStorage)),n.userStorage&&(this.userStorage=n.userStorage)):(this.memoryStorage={},this.storage=vo(this.memoryStorage)),$e()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,s;return(s=(e=Zt[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(e){Zt[this.storageKey]=Object.assign(Object.assign({},Zt[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,s;return(s=(e=Zt[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Zt[this.storageKey]=Object.assign(Object.assign({},Zt[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${nl}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const s=Vh(window.location.href);let r="none";if(this._isImplicitGrantCallback(s)?r="implicit":await this._isPKCECallback(s)&&(r="pkce"),$e()&&this.detectSessionInUrl&&r!=="none"){const{data:n,error:i}=await this._getSessionFromURL(s,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Dh(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return V(s)?{error:s}:{error:new ol("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,r,n;try{const i=await J(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.captchaToken}},xform:tt}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(V(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var s,r,n;try{let i;if("email"in e){const{email:l,password:d,options:g}=e;let b=null,m=null;this.flowType==="pkce"&&([b,m]=await Qt(this.storage,this.storageKey)),i=await J(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:l,password:d,data:(s=g==null?void 0:g.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:b,code_challenge_method:m},xform:tt})}else if("phone"in e){const{phone:l,password:d,options:g}=e;i=await J(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:l,password:d,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},channel:(n=g==null?void 0:g.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:tt})}else throw new dr("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(V(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let s;if("email"in e){const{email:i,password:o,options:a}=e;s=await J(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:_o})}else if("phone"in e){const{phone:i,password:o,options:a}=e;s=await J(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:_o})}else throw new dr("You must provide either an email or phone number and a password");const{data:r,error:n}=s;return n?{data:{user:null,session:null},error:n}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new ks}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n})}catch(s){if(V(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(e){var s,r,n,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:s}=e;switch(s){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(e){var s,r,n,i,o,a,c,u,l,d,g;let b,m;if("message"in e)b=e.message,m=e.signature;else{const{chain:_,wallet:y,statement:P,options:C}=e;let S;if($e())if(typeof y=="object")S=y;else{const pe=window;if("ethereum"in pe&&typeof pe.ethereum=="object"&&"request"in pe.ethereum&&typeof pe.ethereum.request=="function")S=pe.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(C!=null&&C.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=y}const x=new URL((s=C==null?void 0:C.url)!==null&&s!==void 0?s:window.location.href),F=await S.request({method:"eth_requestAccounts"}).then(pe=>pe).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!F||F.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const H=dl(F[0]);let W=(r=C==null?void 0:C.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!W){const pe=await S.request({method:"eth_chainId"});W=wf(pe)}const ue={domain:x.host,address:H,statement:P,uri:x.href,version:"1",chainId:W,nonce:(n=C==null?void 0:C.signInWithEthereum)===null||n===void 0?void 0:n.nonce,issuedAt:(o=(i=C==null?void 0:C.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=C==null?void 0:C.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(c=C==null?void 0:C.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=C==null?void 0:C.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(l=C==null?void 0:C.signInWithEthereum)===null||l===void 0?void 0:l.resources};b=_f(ue),m=await S.request({method:"personal_sign",params:[yf(b),H]})}try{const{data:_,error:y}=await J(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:m},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:tt});if(y)throw y;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new ks}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:y})}catch(_){if(V(_))return{data:{user:null,session:null},error:_};throw _}}async signInWithSolana(e){var s,r,n,i,o,a,c,u,l,d,g,b;let m,_;if("message"in e)m=e.message,_=e.signature;else{const{chain:y,wallet:P,statement:C,options:S}=e;let x;if($e())if(typeof P=="object")x=P;else{const H=window;if("solana"in H&&typeof H.solana=="object"&&("signIn"in H.solana&&typeof H.solana.signIn=="function"||"signMessage"in H.solana&&typeof H.solana.signMessage=="function"))x=H.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof P!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=P}const F=new URL((s=S==null?void 0:S.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in x&&x.signIn){const H=await x.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S==null?void 0:S.signInWithSolana),{version:"1",domain:F.host,uri:F.href}),C?{statement:C}:null));let W;if(Array.isArray(H)&&H[0]&&typeof H[0]=="object")W=H[0];else if(H&&typeof H=="object"&&"signedMessage"in H&&"signature"in H)W=H;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in W&&"signature"in W&&(typeof W.signedMessage=="string"||W.signedMessage instanceof Uint8Array)&&W.signature instanceof Uint8Array)m=typeof W.signedMessage=="string"?W.signedMessage:new TextDecoder().decode(W.signedMessage),_=W.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in x)||typeof x.signMessage!="function"||!("publicKey"in x)||typeof x!="object"||!x.publicKey||!("toBase58"in x.publicKey)||typeof x.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${F.host} wants you to sign in with your Solana account:`,x.publicKey.toBase58(),...C?["",C,""]:[""],"Version: 1",`URI: ${F.href}`,`Issued At: ${(n=(r=S==null?void 0:S.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&n!==void 0?n:new Date().toISOString()}`,...!((i=S==null?void 0:S.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((o=S==null?void 0:S.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((a=S==null?void 0:S.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((c=S==null?void 0:S.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((u=S==null?void 0:S.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((d=(l=S==null?void 0:S.signInWithSolana)===null||l===void 0?void 0:l.resources)===null||d===void 0)&&d.length?["Resources",...S.signInWithSolana.resources.map(W=>`- ${W}`)]:[]].join(`
`);const H=await x.signMessage(new TextEncoder().encode(m),"utf8");if(!H||!(H instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=H}}try{const{data:y,error:P}=await J(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:qh(_)},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:tt});if(P)throw P;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new ks}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:P})}catch(y){if(V(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(e){const s=await It(this.storage,`${this.storageKey}-code-verifier`),[r,n]=(s??"").split("/");try{const{data:i,error:o}=await J(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:tt});if(await St(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new ks}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:o})}catch(i){if(V(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:s,provider:r,token:n,access_token:i,nonce:o}=e,a=await J(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:tt}),{data:c,error:u}=a;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new ks}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(s){if(V(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(e){var s,r,n,i,o;try{if("email"in e){const{email:a,options:c}=e;let u=null,l=null;this.flowType==="pkce"&&([u,l]=await Qt(this.storage,this.storageKey));const{error:d}=await J(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:l},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:c}=e,{data:u,error:l}=await J(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:l}}throw new dr("You must provide either an email or phone number.")}catch(a){if(V(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var s,r;try{let n,i;"options"in e&&(n=(s=e.options)===null||s===void 0?void 0:s.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await J(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:tt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(n){if(V(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(e){var s,r,n;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Qt(this.storage,this.storageKey)),await J(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((n=e==null?void 0:e.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:cf})}catch(i){if(V(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:r}=e;if(r)throw r;if(!s)throw new Et;const{error:n}=await J(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:n}})}catch(e){if(V(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:r,type:n,options:i}=e,{error:o}=await J(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:n,options:i}=e,{data:o,error:a}=await J(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new dr("You must provide either an email or phone number and a type")}catch(s){if(V(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await It(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<pn:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await It(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=bn()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,u,l)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,l))})}return{data:{session:e},error:null}}const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await J(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:xt}):await this._useSession(async s=>{var r,n,i;const{data:o,error:a}=s;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Et}:await J(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:xt})})}catch(s){if(V(s))return Bh(s)&&(await this._removeSession(),await St(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async r=>{const{data:n,error:i}=r;if(i)throw i;if(!n.session)throw new Et;const o=n.session;let a=null,c=null;this.flowType==="pkce"&&e.email!=null&&([a,c]=await Qt(this.storage,this.storageKey));const{data:u,error:l}=await J(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:c}),jwt:o.access_token,xform:xt});if(l)throw l;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(V(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Et;const s=Date.now()/1e3;let r=s,n=!0,i=null;const{payload:o}=mn(e.access_token);if(o.exp&&(r=o.exp,n=r<=s),n){const{session:a,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(s){if(V(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var r;if(!e){const{data:o,error:a}=s;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Et;const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(V(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(e,s){try{if(!$e())throw new hr("No browser detected.");if(e.error||e.error_description||e.error_code)throw new hr(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new fo("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new hr("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new fo("No code detected.");const{data:C,error:S}=await this._exchangeCodeForSession(e.code);if(S)throw S;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:C.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:a,expires_at:c,token_type:u}=e;if(!i||!a||!o||!u)throw new hr("No session defined in URL");const l=Math.round(Date.now()/1e3),d=parseInt(a);let g=l+d;c&&(g=parseInt(c));const b=g-l;b*1e3<=ts&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${d}s`);const m=g-d;l-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,g,l):l-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,g,l);const{data:_,error:y}=await this._getUser(i);if(y)throw y;const P={provider_token:r,provider_refresh_token:n,access_token:i,expires_in:d,expires_at:g,refresh_token:o,token_type:u,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:P,redirectType:e.type},error:null}}catch(r){if(V(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await It(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{error:i};const o=(r=n.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Ih(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await St(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const s=Wh(),r={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async s=>{var r,n;try{const{data:{session:i},error:o}=s;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,s={}){let r=null,n=null;this.flowType==="pkce"&&([r,n]=await Qt(this.storage,this.storageKey,!0));try{return await J(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(V(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(s){if(V(s))return{data:null,error:s};throw s}}async linkIdentity(e){var s;try{const{data:r,error:n}=await this._useSession(async i=>{var o,a,c,u,l;const{data:d,error:g}=i;if(g)throw g;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await J(this.fetch,"GET",b,{headers:this.headers,jwt:(l=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&l!==void 0?l:void 0})});if(n)throw n;return $e()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(V(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)throw o;return await J(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:void 0})})}catch(s){if(V(s))return{data:null,error:s};throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await Jh(async n=>(n>0&&await zh(200*Math.pow(2,n-1)),this._debug(s,"refreshing attempt",n),await J(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:tt})),(n,i)=>{const o=200*Math.pow(2,n);return i&&gn(i)&&Date.now()+o-r<ts})}catch(r){if(this._debug(s,"error",r),V(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",r),$e()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,s;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await It(this.storage,this.storageKey);if(n&&this.userStorage){let o=await It(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:n.user},await ss(this.userStorage,this.storageKey+"-user",o)),n.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:bn()}else if(n&&!n.user&&!n.user){const o=await It(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(n.user=o.user,await St(this.storage,this.storageKey+"-user"),await ss(this.storage,this.storageKey,n)):n.user=bn()}if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const i=((s=n.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<pn;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${pn}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),gn(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(n.user&&n.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(n.access_token);!a&&(o!=null&&o.user)?(n.user=o.user,await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var s,r;if(!e)throw new Et;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new Kr;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Et;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(n,"error",i),V(i)){const o={session:null,error:i};return gn(i)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,s,r=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:s});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,s)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const s=Object.assign({},e),r=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&s.user&&await ss(this.userStorage,this.storageKey+"-user",{user:s.user});const n=Object.assign({},s);delete n.user;const i=wo(n);await ss(this.storage,this.storageKey,i)}else{const n=wo(s);await ss(this.storage,this.storageKey,n)}}async _removeSession(){this._debug("#_removeSession()"),await St(this.storage,this.storageKey),await St(this.storage,this.storageKey+"-code-verifier"),await St(this.storage,this.storageKey+"-user"),this.userStorage&&await St(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&$e()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ts);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((r.expires_at*1e3-e)/ts);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${ts}ms, refresh threshold is ${Mn} ticks`),n<=Mn&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof ul)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!$e()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,r){const n=[`provider=${encodeURIComponent(s)}`];if(r!=null&&r.redirectTo&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Qt(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);n.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&n.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await J(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(V(s))return{data:null,error:s};throw s}}async _enroll(e){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:u}=await J(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((n=c==null?void 0:c.totp)===null||n===void 0)&&n.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(s){if(V(s))return{data:null,error:s};throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{data:null,error:i};const{data:o,error:a}=await J(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(s){if(V(s))return{data:null,error:s};throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await J(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(V(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(e){const{data:s,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){const{data:{user:e},error:s}=await this.getUser();if(s)return{data:null,error:s};const r=(e==null?void 0:e.factors)||[],n=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:n,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var s,r;const{data:{session:n},error:i}=e;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=mn(n.access_token);let a=null;o.aal&&(a=o.aal);let c=a;((r=(s=n.user.factors)===null||s===void 0?void 0:s.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const l=o.amr||[];return{data:{currentLevel:a,nextLevel:c,currentAuthenticationMethods:l},error:null}}))}async fetchJwk(e,s={keys:[]}){let r=s.keys.find(a=>a.kid===e);if(r)return r;const n=Date.now();if(r=this.jwks.keys.find(a=>a.kid===e),r&&this.jwks_cached_at+Rh>n)return r;const{data:i,error:o}=await J(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=n,r=i.keys.find(a=>a.kid===e),!r)?null:r}async getClaims(e,s={}){try{let r=e;if(!r){const{data:b,error:m}=await this.getSession();if(m||!b.session)return{data:null,error:m};r=b.session.access_token}const{header:n,payload:i,signature:o,raw:{header:a,payload:c}}=mn(r);s!=null&&s.allowExpired||tf(i.exp);const u=!n.alg||n.alg.startsWith("HS")||!n.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(n.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!u){const{error:b}=await this.getUser(r);if(b)throw b;return{data:{claims:i,header:n,signature:o},error:null}}const l=sf(n.alg),d=await crypto.subtle.importKey("jwk",u,l,!0,["verify"]);if(!await crypto.subtle.verify(l,d,o,Mh(`${a}.${c}`)))throw new Wn("Invalid JWT signature");return{data:{claims:i,header:n,signature:o},error:null}}catch(r){if(V(r))return{data:null,error:r};throw r}}}Vs.nextInstanceID=0;const Sf=Vs;class Ef extends Sf{constructor(e){super(e)}}var kf=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):n(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})};class Tf{constructor(e,s,r){var n,i,o;this.supabaseUrl=e,this.supabaseKey=s;const a=Oh(e);if(!s)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const c=`sb-${a.hostname.split(".")[0]}-auth-token`,u={db:mh,realtime:wh,auth:Object.assign(Object.assign({},bh),{storageKey:c}),global:gh},l=Th(r??{},u);this.storageKey=(n=l.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=l.global.headers)!==null&&i!==void 0?i:{},l.accessToken?(this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(d,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=l.auth)!==null&&o!==void 0?o:{},this.headers,l.global.fetch),this.fetch=Sh(s,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.rest=new jd(new URL("rest/v1",a).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new hh(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new cd(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},r={}){return this.rest.rpc(e,s,r)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,s;return kf(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(s=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,userStorage:i,storageKey:o,flowType:a,lock:c,debug:u},l,d){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ef({url:this.authUrl.href,headers:Object.assign(Object.assign({},g),l),storageKey:o,autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,userStorage:i,flowType:a,lock:c,debug:u,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Gd(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,s,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Of=(t,e,s)=>new Tf(t,e,s);function xf(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}xf()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Cf="https://ebmkmuonozapdzabtgjv.supabase.co",Af="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVibWttdW9ub3phcGR6YWJ0Z2p2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY0NzM5NDksImV4cCI6MjA3MjA0OTk0OX0.Mng3s3ngE72GKYCFBLgs2JthbTRzgtjOOUrtLdTfevU",Ze=Of(Cf,Af);function hl(t,e){return function(){return t.apply(e,arguments)}}const{toString:Pf}=Object.prototype,{getPrototypeOf:yi}=Object,{iterator:zr,toStringTag:fl}=Symbol,Jr=(t=>e=>{const s=Pf.call(e);return t[s]||(t[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),Ve=t=>(t=t.toLowerCase(),e=>Jr(e)===t),Gr=t=>e=>typeof e===t,{isArray:gs}=Array,ds=Gr("undefined");function Zs(t){return t!==null&&!ds(t)&&t.constructor!==null&&!ds(t.constructor)&&je(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const pl=Ve("ArrayBuffer");function Rf(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&pl(t.buffer),e}const jf=Gr("string"),je=Gr("function"),gl=Gr("number"),er=t=>t!==null&&typeof t=="object",If=t=>t===!0||t===!1,wr=t=>{if(Jr(t)!=="object")return!1;const e=yi(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(fl in t)&&!(zr in t)},Bf=t=>{if(!er(t)||Zs(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},Df=Ve("Date"),Uf=Ve("File"),Nf=Ve("Blob"),$f=Ve("FileList"),Lf=t=>er(t)&&je(t.pipe),Ff=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||je(t.append)&&((e=Jr(t))==="formdata"||e==="object"&&je(t.toString)&&t.toString()==="[object FormData]"))},Mf=Ve("URLSearchParams"),[qf,Hf,Wf,Vf]=["ReadableStream","Request","Response","Headers"].map(Ve),Kf=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function tr(t,e,{allOwnKeys:s=!1}={}){if(t===null||typeof t>"u")return;let r,n;if(typeof t!="object"&&(t=[t]),gs(t))for(r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else{if(Zs(t))return;const i=s?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let a;for(r=0;r<o;r++)a=i[r],e.call(null,t[a],a,t)}}function ml(t,e){if(Zs(t))return null;e=e.toLowerCase();const s=Object.keys(t);let r=s.length,n;for(;r-- >0;)if(n=s[r],e===n.toLowerCase())return n;return null}const Nt=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,bl=t=>!ds(t)&&t!==Nt;function Vn(){const{caseless:t,skipUndefined:e}=bl(this)&&this||{},s={},r=(n,i)=>{const o=t&&ml(s,i)||i;wr(s[o])&&wr(n)?s[o]=Vn(s[o],n):wr(n)?s[o]=Vn({},n):gs(n)?s[o]=n.slice():(!e||!ds(n))&&(s[o]=n)};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&tr(arguments[n],r);return s}const zf=(t,e,s,{allOwnKeys:r}={})=>(tr(e,(n,i)=>{s&&je(n)?t[i]=hl(n,s):t[i]=n},{allOwnKeys:r}),t),Jf=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Gf=(t,e,s,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),s&&Object.assign(t.prototype,s)},Qf=(t,e,s,r)=>{let n,i,o;const a={};if(e=e||{},t==null)return e;do{for(n=Object.getOwnPropertyNames(t),i=n.length;i-- >0;)o=n[i],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=s!==!1&&yi(t)}while(t&&(!s||s(t,e))&&t!==Object.prototype);return e},Yf=(t,e,s)=>{t=String(t),(s===void 0||s>t.length)&&(s=t.length),s-=e.length;const r=t.indexOf(e,s);return r!==-1&&r===s},Xf=t=>{if(!t)return null;if(gs(t))return t;let e=t.length;if(!gl(e))return null;const s=new Array(e);for(;e-- >0;)s[e]=t[e];return s},Zf=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&yi(Uint8Array)),ep=(t,e)=>{const r=(t&&t[zr]).call(t);let n;for(;(n=r.next())&&!n.done;){const i=n.value;e.call(t,i[0],i[1])}},tp=(t,e)=>{let s;const r=[];for(;(s=t.exec(e))!==null;)r.push(s);return r},sp=Ve("HTMLFormElement"),rp=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,r,n){return r.toUpperCase()+n}),Eo=(({hasOwnProperty:t})=>(e,s)=>t.call(e,s))(Object.prototype),np=Ve("RegExp"),wl=(t,e)=>{const s=Object.getOwnPropertyDescriptors(t),r={};tr(s,(n,i)=>{let o;(o=e(n,i,t))!==!1&&(r[i]=o||n)}),Object.defineProperties(t,r)},ip=t=>{wl(t,(e,s)=>{if(je(t)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const r=t[s];if(je(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},op=(t,e)=>{const s={},r=n=>{n.forEach(i=>{s[i]=!0})};return gs(t)?r(t):r(String(t).split(e)),s},ap=()=>{},lp=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function cp(t){return!!(t&&je(t.append)&&t[fl]==="FormData"&&t[zr])}const up=t=>{const e=new Array(10),s=(r,n)=>{if(er(r)){if(e.indexOf(r)>=0)return;if(Zs(r))return r;if(!("toJSON"in r)){e[n]=r;const i=gs(r)?[]:{};return tr(r,(o,a)=>{const c=s(o,n+1);!ds(c)&&(i[a]=c)}),e[n]=void 0,i}}return r};return s(t,0)},dp=Ve("AsyncFunction"),hp=t=>t&&(er(t)||je(t))&&je(t.then)&&je(t.catch),yl=((t,e)=>t?setImmediate:e?((s,r)=>(Nt.addEventListener("message",({source:n,data:i})=>{n===Nt&&i===s&&r.length&&r.shift()()},!1),n=>{r.push(n),Nt.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",je(Nt.postMessage)),fp=typeof queueMicrotask<"u"?queueMicrotask.bind(Nt):typeof process<"u"&&process.nextTick||yl,pp=t=>t!=null&&je(t[zr]),w={isArray:gs,isArrayBuffer:pl,isBuffer:Zs,isFormData:Ff,isArrayBufferView:Rf,isString:jf,isNumber:gl,isBoolean:If,isObject:er,isPlainObject:wr,isEmptyObject:Bf,isReadableStream:qf,isRequest:Hf,isResponse:Wf,isHeaders:Vf,isUndefined:ds,isDate:Df,isFile:Uf,isBlob:Nf,isRegExp:np,isFunction:je,isStream:Lf,isURLSearchParams:Mf,isTypedArray:Zf,isFileList:$f,forEach:tr,merge:Vn,extend:zf,trim:Kf,stripBOM:Jf,inherits:Gf,toFlatObject:Qf,kindOf:Jr,kindOfTest:Ve,endsWith:Yf,toArray:Xf,forEachEntry:ep,matchAll:tp,isHTMLForm:sp,hasOwnProperty:Eo,hasOwnProp:Eo,reduceDescriptors:wl,freezeMethods:ip,toObjectSet:op,toCamelCase:rp,noop:ap,toFiniteNumber:lp,findKey:ml,global:Nt,isContextDefined:bl,isSpecCompliantForm:cp,toJSONObject:up,isAsyncFn:dp,isThenable:hp,setImmediate:yl,asap:fp,isIterable:pp};function K(t,e,s,r,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),s&&(this.config=s),r&&(this.request=r),n&&(this.response=n,this.status=n.status?n.status:null)}w.inherits(K,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:w.toJSONObject(this.config),code:this.code,status:this.status}}});const _l=K.prototype,vl={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{vl[t]={value:t}});Object.defineProperties(K,vl);Object.defineProperty(_l,"isAxiosError",{value:!0});K.from=(t,e,s,r,n,i)=>{const o=Object.create(_l);w.toFlatObject(t,o,function(l){return l!==Error.prototype},u=>u!=="isAxiosError");const a=t&&t.message?t.message:"Error",c=e==null&&t?t.code:e;return K.call(o,a,c,s,r,n),t&&o.cause==null&&Object.defineProperty(o,"cause",{value:t,configurable:!0}),o.name=t&&t.name||"Error",i&&Object.assign(o,i),o};const gp=null;function Kn(t){return w.isPlainObject(t)||w.isArray(t)}function Sl(t){return w.endsWith(t,"[]")?t.slice(0,-2):t}function ko(t,e,s){return t?t.concat(e).map(function(n,i){return n=Sl(n),!s&&i?"["+n+"]":n}).join(s?".":""):e}function mp(t){return w.isArray(t)&&!t.some(Kn)}const bp=w.toFlatObject(w,{},null,function(e){return/^is[A-Z]/.test(e)});function Qr(t,e,s){if(!w.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,s=w.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,y){return!w.isUndefined(y[_])});const r=s.metaTokens,n=s.visitor||l,i=s.dots,o=s.indexes,c=(s.Blob||typeof Blob<"u"&&Blob)&&w.isSpecCompliantForm(e);if(!w.isFunction(n))throw new TypeError("visitor must be a function");function u(m){if(m===null)return"";if(w.isDate(m))return m.toISOString();if(w.isBoolean(m))return m.toString();if(!c&&w.isBlob(m))throw new K("Blob is not supported. Use a Buffer instead.");return w.isArrayBuffer(m)||w.isTypedArray(m)?c&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function l(m,_,y){let P=m;if(m&&!y&&typeof m=="object"){if(w.endsWith(_,"{}"))_=r?_:_.slice(0,-2),m=JSON.stringify(m);else if(w.isArray(m)&&mp(m)||(w.isFileList(m)||w.endsWith(_,"[]"))&&(P=w.toArray(m)))return _=Sl(_),P.forEach(function(S,x){!(w.isUndefined(S)||S===null)&&e.append(o===!0?ko([_],x,i):o===null?_:_+"[]",u(S))}),!1}return Kn(m)?!0:(e.append(ko(y,_,i),u(m)),!1)}const d=[],g=Object.assign(bp,{defaultVisitor:l,convertValue:u,isVisitable:Kn});function b(m,_){if(!w.isUndefined(m)){if(d.indexOf(m)!==-1)throw Error("Circular reference detected in "+_.join("."));d.push(m),w.forEach(m,function(P,C){(!(w.isUndefined(P)||P===null)&&n.call(e,P,w.isString(C)?C.trim():C,_,g))===!0&&b(P,_?_.concat(C):[C])}),d.pop()}}if(!w.isObject(t))throw new TypeError("data must be an object");return b(t),e}function To(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function _i(t,e){this._pairs=[],t&&Qr(t,this,e)}const El=_i.prototype;El.append=function(e,s){this._pairs.push([e,s])};El.toString=function(e){const s=e?function(r){return e.call(this,r,To)}:To;return this._pairs.map(function(n){return s(n[0])+"="+s(n[1])},"").join("&")};function wp(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function kl(t,e,s){if(!e)return t;const r=s&&s.encode||wp;w.isFunction(s)&&(s={serialize:s});const n=s&&s.serialize;let i;if(n?i=n(e,s):i=w.isURLSearchParams(e)?e.toString():new _i(e,s).toString(r),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class Oo{constructor(){this.handlers=[]}use(e,s,r){return this.handlers.push({fulfilled:e,rejected:s,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){w.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Tl={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},yp=typeof URLSearchParams<"u"?URLSearchParams:_i,_p=typeof FormData<"u"?FormData:null,vp=typeof Blob<"u"?Blob:null,Sp={isBrowser:!0,classes:{URLSearchParams:yp,FormData:_p,Blob:vp},protocols:["http","https","file","blob","url","data"]},vi=typeof window<"u"&&typeof document<"u",zn=typeof navigator=="object"&&navigator||void 0,Ep=vi&&(!zn||["ReactNative","NativeScript","NS"].indexOf(zn.product)<0),kp=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Tp=vi&&window.location.href||"http://localhost",Op=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:vi,hasStandardBrowserEnv:Ep,hasStandardBrowserWebWorkerEnv:kp,navigator:zn,origin:Tp},Symbol.toStringTag,{value:"Module"})),ve={...Op,...Sp};function xp(t,e){return Qr(t,new ve.classes.URLSearchParams,{visitor:function(s,r,n,i){return ve.isNode&&w.isBuffer(s)?(this.append(r,s.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...e})}function Cp(t){return w.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Ap(t){const e={},s=Object.keys(t);let r;const n=s.length;let i;for(r=0;r<n;r++)i=s[r],e[i]=t[i];return e}function Ol(t){function e(s,r,n,i){let o=s[i++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),c=i>=s.length;return o=!o&&w.isArray(n)?n.length:o,c?(w.hasOwnProp(n,o)?n[o]=[n[o],r]:n[o]=r,!a):((!n[o]||!w.isObject(n[o]))&&(n[o]=[]),e(s,r,n[o],i)&&w.isArray(n[o])&&(n[o]=Ap(n[o])),!a)}if(w.isFormData(t)&&w.isFunction(t.entries)){const s={};return w.forEachEntry(t,(r,n)=>{e(Cp(r),n,s,0)}),s}return null}function Pp(t,e,s){if(w.isString(t))try{return(e||JSON.parse)(t),w.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(s||JSON.stringify)(t)}const sr={transitional:Tl,adapter:["xhr","http","fetch"],transformRequest:[function(e,s){const r=s.getContentType()||"",n=r.indexOf("application/json")>-1,i=w.isObject(e);if(i&&w.isHTMLForm(e)&&(e=new FormData(e)),w.isFormData(e))return n?JSON.stringify(Ol(e)):e;if(w.isArrayBuffer(e)||w.isBuffer(e)||w.isStream(e)||w.isFile(e)||w.isBlob(e)||w.isReadableStream(e))return e;if(w.isArrayBufferView(e))return e.buffer;if(w.isURLSearchParams(e))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return xp(e,this.formSerializer).toString();if((a=w.isFileList(e))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Qr(a?{"files[]":e}:e,c&&new c,this.formSerializer)}}return i||n?(s.setContentType("application/json",!1),Pp(e)):e}],transformResponse:[function(e){const s=this.transitional||sr.transitional,r=s&&s.forcedJSONParsing,n=this.responseType==="json";if(w.isResponse(e)||w.isReadableStream(e))return e;if(e&&w.isString(e)&&(r&&!this.responseType||n)){const o=!(s&&s.silentJSONParsing)&&n;try{return JSON.parse(e,this.parseReviver)}catch(a){if(o)throw a.name==="SyntaxError"?K.from(a,K.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ve.classes.FormData,Blob:ve.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};w.forEach(["delete","get","head","post","put","patch"],t=>{sr.headers[t]={}});const Rp=w.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),jp=t=>{const e={};let s,r,n;return t&&t.split(`
`).forEach(function(o){n=o.indexOf(":"),s=o.substring(0,n).trim().toLowerCase(),r=o.substring(n+1).trim(),!(!s||e[s]&&Rp[s])&&(s==="set-cookie"?e[s]?e[s].push(r):e[s]=[r]:e[s]=e[s]?e[s]+", "+r:r)}),e},xo=Symbol("internals");function Ts(t){return t&&String(t).trim().toLowerCase()}function yr(t){return t===!1||t==null?t:w.isArray(t)?t.map(yr):String(t)}function Ip(t){const e=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=s.exec(t);)e[r[1]]=r[2];return e}const Bp=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function yn(t,e,s,r,n){if(w.isFunction(r))return r.call(this,e,s);if(n&&(e=s),!!w.isString(e)){if(w.isString(r))return e.indexOf(r)!==-1;if(w.isRegExp(r))return r.test(e)}}function Dp(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,s,r)=>s.toUpperCase()+r)}function Up(t,e){const s=w.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+s,{value:function(n,i,o){return this[r].call(this,e,n,i,o)},configurable:!0})})}let Ie=class{constructor(e){e&&this.set(e)}set(e,s,r){const n=this;function i(a,c,u){const l=Ts(c);if(!l)throw new Error("header name must be a non-empty string");const d=w.findKey(n,l);(!d||n[d]===void 0||u===!0||u===void 0&&n[d]!==!1)&&(n[d||c]=yr(a))}const o=(a,c)=>w.forEach(a,(u,l)=>i(u,l,c));if(w.isPlainObject(e)||e instanceof this.constructor)o(e,s);else if(w.isString(e)&&(e=e.trim())&&!Bp(e))o(jp(e),s);else if(w.isObject(e)&&w.isIterable(e)){let a={},c,u;for(const l of e){if(!w.isArray(l))throw TypeError("Object iterator must return a key-value pair");a[u=l[0]]=(c=a[u])?w.isArray(c)?[...c,l[1]]:[c,l[1]]:l[1]}o(a,s)}else e!=null&&i(s,e,r);return this}get(e,s){if(e=Ts(e),e){const r=w.findKey(this,e);if(r){const n=this[r];if(!s)return n;if(s===!0)return Ip(n);if(w.isFunction(s))return s.call(this,n,r);if(w.isRegExp(s))return s.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,s){if(e=Ts(e),e){const r=w.findKey(this,e);return!!(r&&this[r]!==void 0&&(!s||yn(this,this[r],r,s)))}return!1}delete(e,s){const r=this;let n=!1;function i(o){if(o=Ts(o),o){const a=w.findKey(r,o);a&&(!s||yn(r,r[a],a,s))&&(delete r[a],n=!0)}}return w.isArray(e)?e.forEach(i):i(e),n}clear(e){const s=Object.keys(this);let r=s.length,n=!1;for(;r--;){const i=s[r];(!e||yn(this,this[i],i,e,!0))&&(delete this[i],n=!0)}return n}normalize(e){const s=this,r={};return w.forEach(this,(n,i)=>{const o=w.findKey(r,i);if(o){s[o]=yr(n),delete s[i];return}const a=e?Dp(i):String(i).trim();a!==i&&delete s[i],s[a]=yr(n),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const s=Object.create(null);return w.forEach(this,(r,n)=>{r!=null&&r!==!1&&(s[n]=e&&w.isArray(r)?r.join(", "):r)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,s])=>e+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...s){const r=new this(e);return s.forEach(n=>r.set(n)),r}static accessor(e){const r=(this[xo]=this[xo]={accessors:{}}).accessors,n=this.prototype;function i(o){const a=Ts(o);r[a]||(Up(n,o),r[a]=!0)}return w.isArray(e)?e.forEach(i):i(e),this}};Ie.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);w.reduceDescriptors(Ie.prototype,({value:t},e)=>{let s=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[s]=r}}});w.freezeMethods(Ie);function _n(t,e){const s=this||sr,r=e||s,n=Ie.from(r.headers);let i=r.data;return w.forEach(t,function(a){i=a.call(s,i,n.normalize(),e?e.status:void 0)}),n.normalize(),i}function xl(t){return!!(t&&t.__CANCEL__)}function ms(t,e,s){K.call(this,t??"canceled",K.ERR_CANCELED,e,s),this.name="CanceledError"}w.inherits(ms,K,{__CANCEL__:!0});function Cl(t,e,s){const r=s.config.validateStatus;!s.status||!r||r(s.status)?t(s):e(new K("Request failed with status code "+s.status,[K.ERR_BAD_REQUEST,K.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function Np(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function $p(t,e){t=t||10;const s=new Array(t),r=new Array(t);let n=0,i=0,o;return e=e!==void 0?e:1e3,function(c){const u=Date.now(),l=r[i];o||(o=u),s[n]=c,r[n]=u;let d=i,g=0;for(;d!==n;)g+=s[d++],d=d%t;if(n=(n+1)%t,n===i&&(i=(i+1)%t),u-o<e)return;const b=l&&u-l;return b?Math.round(g*1e3/b):void 0}}function Lp(t,e){let s=0,r=1e3/e,n,i;const o=(u,l=Date.now())=>{s=l,n=null,i&&(clearTimeout(i),i=null),t(...u)};return[(...u)=>{const l=Date.now(),d=l-s;d>=r?o(u,l):(n=u,i||(i=setTimeout(()=>{i=null,o(n)},r-d)))},()=>n&&o(n)]}const Rr=(t,e,s=3)=>{let r=0;const n=$p(50,250);return Lp(i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,c=o-r,u=n(c),l=o<=a;r=o;const d={loaded:o,total:a,progress:a?o/a:void 0,bytes:c,rate:u||void 0,estimated:u&&a&&l?(a-o)/u:void 0,event:i,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(d)},s)},Co=(t,e)=>{const s=t!=null;return[r=>e[0]({lengthComputable:s,total:t,loaded:r}),e[1]]},Ao=t=>(...e)=>w.asap(()=>t(...e)),Fp=ve.hasStandardBrowserEnv?((t,e)=>s=>(s=new URL(s,ve.origin),t.protocol===s.protocol&&t.host===s.host&&(e||t.port===s.port)))(new URL(ve.origin),ve.navigator&&/(msie|trident)/i.test(ve.navigator.userAgent)):()=>!0,Mp=ve.hasStandardBrowserEnv?{write(t,e,s,r,n,i){const o=[t+"="+encodeURIComponent(e)];w.isNumber(s)&&o.push("expires="+new Date(s).toGMTString()),w.isString(r)&&o.push("path="+r),w.isString(n)&&o.push("domain="+n),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function qp(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Hp(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Al(t,e,s){let r=!qp(e);return t&&(r||s==!1)?Hp(t,e):e}const Po=t=>t instanceof Ie?{...t}:t;function qt(t,e){e=e||{};const s={};function r(u,l,d,g){return w.isPlainObject(u)&&w.isPlainObject(l)?w.merge.call({caseless:g},u,l):w.isPlainObject(l)?w.merge({},l):w.isArray(l)?l.slice():l}function n(u,l,d,g){if(w.isUndefined(l)){if(!w.isUndefined(u))return r(void 0,u,d,g)}else return r(u,l,d,g)}function i(u,l){if(!w.isUndefined(l))return r(void 0,l)}function o(u,l){if(w.isUndefined(l)){if(!w.isUndefined(u))return r(void 0,u)}else return r(void 0,l)}function a(u,l,d){if(d in e)return r(u,l);if(d in t)return r(void 0,u)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,l,d)=>n(Po(u),Po(l),d,!0)};return w.forEach(Object.keys({...t,...e}),function(l){const d=c[l]||n,g=d(t[l],e[l],l);w.isUndefined(g)&&d!==a||(s[l]=g)}),s}const Pl=t=>{const e=qt({},t);let{data:s,withXSRFToken:r,xsrfHeaderName:n,xsrfCookieName:i,headers:o,auth:a}=e;if(e.headers=o=Ie.from(o),e.url=kl(Al(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),w.isFormData(s)){if(ve.hasStandardBrowserEnv||ve.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(w.isFunction(s.getHeaders)){const c=s.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([l,d])=>{u.includes(l.toLowerCase())&&o.set(l,d)})}}if(ve.hasStandardBrowserEnv&&(r&&w.isFunction(r)&&(r=r(e)),r||r!==!1&&Fp(e.url))){const c=n&&i&&Mp.read(i);c&&o.set(n,c)}return e},Wp=typeof XMLHttpRequest<"u",Vp=Wp&&function(t){return new Promise(function(s,r){const n=Pl(t);let i=n.data;const o=Ie.from(n.headers).normalize();let{responseType:a,onUploadProgress:c,onDownloadProgress:u}=n,l,d,g,b,m;function _(){b&&b(),m&&m(),n.cancelToken&&n.cancelToken.unsubscribe(l),n.signal&&n.signal.removeEventListener("abort",l)}let y=new XMLHttpRequest;y.open(n.method.toUpperCase(),n.url,!0),y.timeout=n.timeout;function P(){if(!y)return;const S=Ie.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),F={data:!a||a==="text"||a==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:S,config:t,request:y};Cl(function(W){s(W),_()},function(W){r(W),_()},F),y=null}"onloadend"in y?y.onloadend=P:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(P)},y.onabort=function(){y&&(r(new K("Request aborted",K.ECONNABORTED,t,y)),y=null)},y.onerror=function(x){const F=x&&x.message?x.message:"Network Error",H=new K(F,K.ERR_NETWORK,t,y);H.event=x||null,r(H),y=null},y.ontimeout=function(){let x=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const F=n.transitional||Tl;n.timeoutErrorMessage&&(x=n.timeoutErrorMessage),r(new K(x,F.clarifyTimeoutError?K.ETIMEDOUT:K.ECONNABORTED,t,y)),y=null},i===void 0&&o.setContentType(null),"setRequestHeader"in y&&w.forEach(o.toJSON(),function(x,F){y.setRequestHeader(F,x)}),w.isUndefined(n.withCredentials)||(y.withCredentials=!!n.withCredentials),a&&a!=="json"&&(y.responseType=n.responseType),u&&([g,m]=Rr(u,!0),y.addEventListener("progress",g)),c&&y.upload&&([d,b]=Rr(c),y.upload.addEventListener("progress",d),y.upload.addEventListener("loadend",b)),(n.cancelToken||n.signal)&&(l=S=>{y&&(r(!S||S.type?new ms(null,t,y):S),y.abort(),y=null)},n.cancelToken&&n.cancelToken.subscribe(l),n.signal&&(n.signal.aborted?l():n.signal.addEventListener("abort",l)));const C=Np(n.url);if(C&&ve.protocols.indexOf(C)===-1){r(new K("Unsupported protocol "+C+":",K.ERR_BAD_REQUEST,t));return}y.send(i||null)})},Kp=(t,e)=>{const{length:s}=t=t?t.filter(Boolean):[];if(e||s){let r=new AbortController,n;const i=function(u){if(!n){n=!0,a();const l=u instanceof Error?u:this.reason;r.abort(l instanceof K?l:new ms(l instanceof Error?l.message:l))}};let o=e&&setTimeout(()=>{o=null,i(new K(`timeout ${e} of ms exceeded`,K.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),t=null)};t.forEach(u=>u.addEventListener("abort",i));const{signal:c}=r;return c.unsubscribe=()=>w.asap(a),c}},zp=function*(t,e){let s=t.byteLength;if(s<e){yield t;return}let r=0,n;for(;r<s;)n=r+e,yield t.slice(r,n),r=n},Jp=async function*(t,e){for await(const s of Gp(t))yield*zp(s,e)},Gp=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:s,value:r}=await e.read();if(s)break;yield r}}finally{await e.cancel()}},Ro=(t,e,s,r)=>{const n=Jp(t,e);let i=0,o,a=c=>{o||(o=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:u,value:l}=await n.next();if(u){a(),c.close();return}let d=l.byteLength;if(s){let g=i+=d;s(g)}c.enqueue(new Uint8Array(l))}catch(u){throw a(u),u}},cancel(c){return a(c),n.return()}},{highWaterMark:2})},jo=64*1024,{isFunction:fr}=w,Qp=(({Request:t,Response:e})=>({Request:t,Response:e}))(w.global),{ReadableStream:Io,TextEncoder:Bo}=w.global,Do=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Yp=t=>{t=w.merge.call({skipUndefined:!0},Qp,t);const{fetch:e,Request:s,Response:r}=t,n=e?fr(e):typeof fetch=="function",i=fr(s),o=fr(r);if(!n)return!1;const a=n&&fr(Io),c=n&&(typeof Bo=="function"?(m=>_=>m.encode(_))(new Bo):async m=>new Uint8Array(await new s(m).arrayBuffer())),u=i&&a&&Do(()=>{let m=!1;const _=new s(ve.origin,{body:new Io,method:"POST",get duplex(){return m=!0,"half"}}).headers.has("Content-Type");return m&&!_}),l=o&&a&&Do(()=>w.isReadableStream(new r("").body)),d={stream:l&&(m=>m.body)};n&&["text","arrayBuffer","blob","formData","stream"].forEach(m=>{!d[m]&&(d[m]=(_,y)=>{let P=_&&_[m];if(P)return P.call(_);throw new K(`Response type '${m}' is not supported`,K.ERR_NOT_SUPPORT,y)})});const g=async m=>{if(m==null)return 0;if(w.isBlob(m))return m.size;if(w.isSpecCompliantForm(m))return(await new s(ve.origin,{method:"POST",body:m}).arrayBuffer()).byteLength;if(w.isArrayBufferView(m)||w.isArrayBuffer(m))return m.byteLength;if(w.isURLSearchParams(m)&&(m=m+""),w.isString(m))return(await c(m)).byteLength},b=async(m,_)=>{const y=w.toFiniteNumber(m.getContentLength());return y??g(_)};return async m=>{let{url:_,method:y,data:P,signal:C,cancelToken:S,timeout:x,onDownloadProgress:F,onUploadProgress:H,responseType:W,headers:ue,withCredentials:pe="same-origin",fetchOptions:Ke}=Pl(m),vt=e||fetch;W=W?(W+"").toLowerCase():"text";let ct=Kp([C,S&&S.toAbortSignal()],x),ze=null;const Me=ct&&ct.unsubscribe&&(()=>{ct.unsubscribe()});let bs;try{if(H&&u&&y!=="get"&&y!=="head"&&(bs=await b(ue,P))!==0){let we=new s(_,{method:"POST",body:P,duplex:"half"}),be;if(w.isFormData(P)&&(be=we.headers.get("content-type"))&&ue.setContentType(be),we.body){const[Kt,zt]=Co(bs,Rr(Ao(H)));P=Ro(we.body,jo,Kt,zt)}}w.isString(pe)||(pe=pe?"include":"omit");const re=i&&"credentials"in s.prototype,ne={...Ke,signal:ct,method:y.toUpperCase(),headers:ue.normalize().toJSON(),body:P,duplex:"half",credentials:re?pe:void 0};ze=i&&new s(_,ne);let G=await(i?vt(ze,Ke):vt(_,ne));const Je=l&&(W==="stream"||W==="response");if(l&&(F||Je&&Me)){const we={};["status","statusText","headers"].forEach(nr=>{we[nr]=G[nr]});const be=w.toFiniteNumber(G.headers.get("content-length")),[Kt,zt]=F&&Co(be,Rr(Ao(F),!0))||[];G=new r(Ro(G.body,jo,Kt,()=>{zt&&zt(),Me&&Me()}),we)}W=W||"text";let Vt=await d[w.findKey(d,W)||"text"](G,m);return!Je&&Me&&Me(),await new Promise((we,be)=>{Cl(we,be,{data:Vt,headers:Ie.from(G.headers),status:G.status,statusText:G.statusText,config:m,request:ze})})}catch(re){throw Me&&Me(),re&&re.name==="TypeError"&&/Load failed|fetch/i.test(re.message)?Object.assign(new K("Network Error",K.ERR_NETWORK,m,ze),{cause:re.cause||re}):K.from(re,re&&re.code,m,ze)}}},Xp=new Map,Rl=t=>{let e=t?t.env:{};const{fetch:s,Request:r,Response:n}=e,i=[r,n,s];let o=i.length,a=o,c,u,l=Xp;for(;a--;)c=i[a],u=l.get(c),u===void 0&&l.set(c,u=a?new Map:Yp(e)),l=u;return u};Rl();const Jn={http:gp,xhr:Vp,fetch:{get:Rl}};w.forEach(Jn,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Uo=t=>`- ${t}`,Zp=t=>w.isFunction(t)||t===null||t===!1,jl={getAdapter:(t,e)=>{t=w.isArray(t)?t:[t];const{length:s}=t;let r,n;const i={};for(let o=0;o<s;o++){r=t[o];let a;if(n=r,!Zp(r)&&(n=Jn[(a=String(r)).toLowerCase()],n===void 0))throw new K(`Unknown adapter '${a}'`);if(n&&(w.isFunction(n)||(n=n.get(e))))break;i[a||"#"+o]=n}if(!n){const o=Object.entries(i).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let a=s?o.length>1?`since :
`+o.map(Uo).join(`
`):" "+Uo(o[0]):"as no adapter specified";throw new K("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return n},adapters:Jn};function vn(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ms(null,t)}function No(t){return vn(t),t.headers=Ie.from(t.headers),t.data=_n.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),jl.getAdapter(t.adapter||sr.adapter,t)(t).then(function(r){return vn(t),r.data=_n.call(t,t.transformResponse,r),r.headers=Ie.from(r.headers),r},function(r){return xl(r)||(vn(t),r&&r.response&&(r.response.data=_n.call(t,t.transformResponse,r.response),r.response.headers=Ie.from(r.response.headers))),Promise.reject(r)})}const Il="1.12.2",Yr={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Yr[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const $o={};Yr.transitional=function(e,s,r){function n(i,o){return"[Axios v"+Il+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,a)=>{if(e===!1)throw new K(n(o," has been removed"+(s?" in "+s:"")),K.ERR_DEPRECATED);return s&&!$o[o]&&($o[o]=!0,console.warn(n(o," has been deprecated since v"+s+" and will be removed in the near future"))),e?e(i,o,a):!0}};Yr.spelling=function(e){return(s,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function eg(t,e,s){if(typeof t!="object")throw new K("options must be an object",K.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let n=r.length;for(;n-- >0;){const i=r[n],o=e[i];if(o){const a=t[i],c=a===void 0||o(a,i,t);if(c!==!0)throw new K("option "+i+" must be "+c,K.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new K("Unknown option "+i,K.ERR_BAD_OPTION)}}const _r={assertOptions:eg,validators:Yr},et=_r.validators;let Ft=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Oo,response:new Oo}}async request(e,s){try{return await this._request(e,s)}catch(r){if(r instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const i=n.stack?n.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(e,s){typeof e=="string"?(s=s||{},s.url=e):s=e||{},s=qt(this.defaults,s);const{transitional:r,paramsSerializer:n,headers:i}=s;r!==void 0&&_r.assertOptions(r,{silentJSONParsing:et.transitional(et.boolean),forcedJSONParsing:et.transitional(et.boolean),clarifyTimeoutError:et.transitional(et.boolean)},!1),n!=null&&(w.isFunction(n)?s.paramsSerializer={serialize:n}:_r.assertOptions(n,{encode:et.function,serialize:et.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),_r.assertOptions(s,{baseUrl:et.spelling("baseURL"),withXsrfToken:et.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let o=i&&w.merge(i.common,i[s.method]);i&&w.forEach(["delete","get","head","post","put","patch","common"],m=>{delete i[m]}),s.headers=Ie.concat(o,i);const a=[];let c=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(s)===!1||(c=c&&_.synchronous,a.unshift(_.fulfilled,_.rejected))});const u=[];this.interceptors.response.forEach(function(_){u.push(_.fulfilled,_.rejected)});let l,d=0,g;if(!c){const m=[No.bind(this),void 0];for(m.unshift(...a),m.push(...u),g=m.length,l=Promise.resolve(s);d<g;)l=l.then(m[d++],m[d++]);return l}g=a.length;let b=s;for(;d<g;){const m=a[d++],_=a[d++];try{b=m(b)}catch(y){_.call(this,y);break}}try{l=No.call(this,b)}catch(m){return Promise.reject(m)}for(d=0,g=u.length;d<g;)l=l.then(u[d++],u[d++]);return l}getUri(e){e=qt(this.defaults,e);const s=Al(e.baseURL,e.url,e.allowAbsoluteUrls);return kl(s,e.params,e.paramsSerializer)}};w.forEach(["delete","get","head","options"],function(e){Ft.prototype[e]=function(s,r){return this.request(qt(r||{},{method:e,url:s,data:(r||{}).data}))}});w.forEach(["post","put","patch"],function(e){function s(r){return function(i,o,a){return this.request(qt(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Ft.prototype[e]=s(),Ft.prototype[e+"Form"]=s(!0)});let tg=class Bl{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(i){s=i});const r=this;this.promise.then(n=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](n);r._listeners=null}),this.promise.then=n=>{let i;const o=new Promise(a=>{r.subscribe(a),i=a}).then(n);return o.cancel=function(){r.unsubscribe(i)},o},e(function(i,o,a){r.reason||(r.reason=new ms(i,o,a),s(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const s=this._listeners.indexOf(e);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const e=new AbortController,s=r=>{e.abort(r)};return this.subscribe(s),e.signal.unsubscribe=()=>this.unsubscribe(s),e.signal}static source(){let e;return{token:new Bl(function(n){e=n}),cancel:e}}};function sg(t){return function(s){return t.apply(null,s)}}function rg(t){return w.isObject(t)&&t.isAxiosError===!0}const Gn={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Gn).forEach(([t,e])=>{Gn[e]=t});function Dl(t){const e=new Ft(t),s=hl(Ft.prototype.request,e);return w.extend(s,Ft.prototype,e,{allOwnKeys:!0}),w.extend(s,e,null,{allOwnKeys:!0}),s.create=function(n){return Dl(qt(t,n))},s}const ce=Dl(sr);ce.Axios=Ft;ce.CanceledError=ms;ce.CancelToken=tg;ce.isCancel=xl;ce.VERSION=Il;ce.toFormData=Qr;ce.AxiosError=K;ce.Cancel=ce.CanceledError;ce.all=function(e){return Promise.all(e)};ce.spread=sg;ce.isAxiosError=rg;ce.mergeConfig=qt;ce.AxiosHeaders=Ie;ce.formToJSON=t=>Ol(w.isHTMLForm(t)?new FormData(t):t);ce.getAdapter=jl.getAdapter;ce.HttpStatusCode=Gn;ce.default=ce;const{Axios:Wb,AxiosError:Vb,CanceledError:Kb,isCancel:zb,CancelToken:Jb,VERSION:Gb,all:Qb,Cancel:Yb,isAxiosError:Xb,spread:Zb,toFormData:ew,AxiosHeaders:tw,HttpStatusCode:sw,formToJSON:rw,getAdapter:nw,mergeConfig:iw}=ce,rr=(t,e)=>{const s=t.__vccOpts||t;for(const[r,n]of e)s[r]=n;return s},ng={props:{bills:Array,billers:Array,isMobile:Boolean},data(){return{fromDate:"",toDate:"",searchQuery:"",sortColumn:"due_date",sortDirection:"asc",showPaid:!1,showUnpaid:!0}},computed:{filteredBills(){let t=this.bills;if(this.showPaid&&!this.showUnpaid?t=t.filter(e=>e.is_paid):this.showUnpaid&&!this.showPaid?t=t.filter(e=>!e.is_paid):!this.showPaid&&!this.showUnpaid&&(t=[]),this.searchQuery){const e=this.searchQuery.toLowerCase();t=t.filter(s=>Object.values(s).some(r=>r&&r.toString().toLowerCase().includes(e)))}return this.fromDate&&(t=t.filter(e=>new Date(e.billing_date)>=new Date(this.fromDate))),this.toDate&&(t=t.filter(e=>new Date(e.billing_date)<=new Date(this.toDate))),t.sort((e,s)=>{let r=e[this.sortColumn],n=s[this.sortColumn];return this.sortColumn==="amount"?(r=parseFloat(r),n=parseFloat(n)):(r=new Date(r),n=new Date(n)),this.sortDirection==="asc"?r-n:n-r})}},methods:{sortBy(t){this.sortColumn===t?this.sortDirection=this.sortDirection==="asc"?"desc":"asc":(this.sortColumn=t,this.sortDirection="asc")},formatIndianDate(t){const e=new Date(t),s=e.getDate().toString().padStart(2,"0"),r=(e.getMonth()+1).toString().padStart(2,"0"),n=e.getFullYear();return`${s}/${r}/${n}`},formatIndianCurrency(t){return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(t)},getDueInDays(t){if(t.is_paid)return`Paid on ${this.formatIndianDate(t.paid_on)}`;const e=new Date(t.due_date),r=Math.ceil((e-new Date)/(1e3*60*60*24));return r>0?`${r} days`:`${Math.abs(r)} days overdue`},getStatus(t){if(t.is_paid)return"Paid";const e=Math.ceil((new Date(t.due_date)-new Date)/(1e3*60*60*24));return e<0?"Overdue":e<=7?"Due Soon":"Pending"}}},ig={class:"tab-panel"},og={class:"controls-container"},ag={class:"date-filter-group"},lg={class:"status-filter-group"},cg={class:"checkbox-label"},ug={class:"checkbox-label"},dg={key:0,class:"mobile-sort-buttons"},hg={class:"table-responsive"},fg={class:"desktop-view"},pg={key:0},gg={key:0},mg={key:0},bg={class:"biller"},wg={class:"action-cell"},yg={class:"action-buttons"},_g=["onClick"],vg=["onClick"],Sg=["onClick"],Eg=["onClick"],kg={class:"mobile-view"},Tg={class:"action-buttons"},Og=["onClick"],xg=["onClick"],Cg=["onClick"],Ag=["onClick"];function Pg(t,e,s,r,n,i){return D(),U("div",ig,[h("div",og,[h("div",ag,[ee(h("input",{type:"date","onUpdate:modelValue":e[0]||(e[0]=o=>n.fromDate=o),placeholder:"From"},null,512),[[de,n.fromDate]]),e[11]||(e[11]=h("span",null,"to",-1)),ee(h("input",{type:"date","onUpdate:modelValue":e[1]||(e[1]=o=>n.toDate=o),placeholder:"To"},null,512),[[de,n.toDate]])]),h("div",lg,[h("label",cg,[ee(h("input",{type:"checkbox","onUpdate:modelValue":e[2]||(e[2]=o=>n.showUnpaid=o)},null,512),[[Cr,n.showUnpaid]]),e[12]||(e[12]=Z(" Show Unpaid ",-1))]),h("label",ug,[ee(h("input",{type:"checkbox","onUpdate:modelValue":e[3]||(e[3]=o=>n.showPaid=o)},null,512),[[Cr,n.showPaid]]),e[13]||(e[13]=Z(" Show Paid ",-1))])]),ee(h("input",{type:"text","onUpdate:modelValue":e[4]||(e[4]=o=>n.searchQuery=o),placeholder:"Search",class:"search-bar"},null,512),[[de,n.searchQuery]])]),s.isMobile?(D(),U("div",dg,[h("button",{onClick:e[5]||(e[5]=o=>i.sortBy("billing_date"))}," Bill "+j(n.sortColumn==="billing_date"?n.sortDirection==="asc"?"↑":"↓":""),1),h("button",{onClick:e[6]||(e[6]=o=>i.sortBy("amount"))}," Amount "+j(n.sortColumn==="amount"?n.sortDirection==="asc"?"↑":"↓":""),1),h("button",{onClick:e[7]||(e[7]=o=>i.sortBy("due_date"))}," Due "+j(n.sortColumn==="due_date"?n.sortDirection==="asc"?"↑":"↓":""),1)])):q("",!0),h("div",hg,[h("div",fg,[h("table",null,[h("thead",null,[h("tr",null,[e[17]||(e[17]=h("th",{class:"biller"},"Biller",-1)),h("th",{onClick:e[8]||(e[8]=o=>i.sortBy("billing_date"))},[e[14]||(e[14]=Z(" Billing Date ",-1)),n.sortColumn==="billing_date"?(D(),U("span",pg,j(n.sortDirection==="asc"?"↑":"↓"),1)):q("",!0)]),h("th",{onClick:e[9]||(e[9]=o=>i.sortBy("amount"))},[e[15]||(e[15]=Z(" Amount ",-1)),n.sortColumn==="amount"?(D(),U("span",gg,j(n.sortDirection==="asc"?"↑":"↓"),1)):q("",!0)]),h("th",{onClick:e[10]||(e[10]=o=>i.sortBy("due_date"))},[e[16]||(e[16]=Z(" Due Date ",-1)),n.sortColumn==="due_date"?(D(),U("span",mg,j(n.sortDirection==="asc"?"↑":"↓"),1)):q("",!0)]),e[18]||(e[18]=h("th",null,"Due In",-1)),e[19]||(e[19]=h("th",null,"Status",-1)),e[20]||(e[20]=h("th",null,"Executive",-1)),e[21]||(e[21]=h("th",null,"Action",-1))])]),h("tbody",null,[(D(!0),U(me,null,yt(i.filteredBills,o=>(D(),U("tr",{key:o.id,class:it({"paid-row":o.is_paid})},[h("td",bg,j(o.biller),1),h("td",null,j(i.formatIndianDate(o.billing_date)),1),h("td",null,j(i.formatIndianCurrency(o.amount)),1),h("td",null,j(i.formatIndianDate(o.due_date)),1),h("td",null,j(i.getDueInDays(o)),1),h("td",null,j(i.getStatus(o)),1),h("td",null,j(o.executive),1),h("td",wg,[h("div",yg,[h("button",{class:"action-button",onClick:a=>t.$emit("edit-bill",o)}," Edit Bill ",8,_g),o.is_paid?q("",!0):(D(),U("button",{key:0,class:"action-button",onClick:a=>t.$emit("mark-paid",o)}," Mark Paid ",8,vg)),o.is_paid?(D(),U("button",{key:1,class:"action-button",onClick:a=>t.$emit("mark-unpaid",o)}," Mark Unpaid ",8,Sg)):q("",!0),h("button",{class:"action-button",onClick:a=>t.$emit("show-bank-info",o)}," Bank Info ",8,Eg)])])],2))),128))])])])]),h("div",kg,[(D(!0),U(me,null,yt(i.filteredBills,o=>(D(),U("div",{key:o.id,class:it(["card",{"paid-card":o.is_paid}])},[h("h3",null,j(o.biller),1),h("p",null,[e[22]||(e[22]=h("strong",null,"Billing Date:",-1)),Z(" "+j(i.formatIndianDate(o.billing_date)),1)]),h("p",null,[e[23]||(e[23]=h("strong",null,"Amount:",-1)),Z(" "+j(i.formatIndianCurrency(o.amount)),1)]),h("p",null,[e[24]||(e[24]=h("strong",null,"Due Date:",-1)),Z(" "+j(i.formatIndianDate(o.due_date)),1)]),h("p",null,[e[25]||(e[25]=h("strong",null,"Due In:",-1)),Z(" "+j(i.getDueInDays(o)),1)]),h("p",null,[e[26]||(e[26]=h("strong",null,"Status:",-1)),Z(" "+j(i.getStatus(o)),1)]),h("p",null,[e[27]||(e[27]=h("strong",null,"Executive:",-1)),Z(" "+j(o.executive),1)]),h("div",Tg,[h("button",{class:"action-button",onClick:a=>t.$emit("edit-bill",o)}," Edit Bill ",8,Og),o.is_paid?q("",!0):(D(),U("button",{key:0,class:"action-button",onClick:a=>t.$emit("mark-paid",o)}," Mark Paid ",8,xg)),o.is_paid?(D(),U("button",{key:1,class:"action-button",onClick:a=>t.$emit("mark-unpaid",o)}," Mark Unpaid ",8,Cg)):q("",!0),h("button",{class:"action-button",onClick:a=>t.$emit("show-bank-info",o)}," Bank Info ",8,Ag)])],2))),128))])])}const Rg=rr(ng,[["render",Pg],["__scopeId","data-v-5b88ac9c"]]),jg={props:{orders:Array,isMobile:Boolean},methods:{formatIndianDate(t){const e=new Date(t),s=e.getDate().toString().padStart(2,"0"),r=(e.getMonth()+1).toString().padStart(2,"0"),n=e.getFullYear();return`${s}/${r}/${n}`}}},Ig={class:"tab-panel"},Bg={class:"table-responsive"},Dg={class:"desktop-view"},Ug={class:"biller"},Ng=["href"],$g=["onClick"],Lg={class:"mobile-view"},Fg=["href"],Mg=["onClick"];function qg(t,e,s,r,n,i){return D(),U("div",Ig,[h("div",Bg,[h("div",Dg,[h("table",null,[e[1]||(e[1]=h("thead",null,[h("tr",null,[h("th",{class:"biller"},"Biller"),h("th",null,"Order Placed On"),h("th",null,"Order Items"),h("th",null,"Transport"),h("th",null,"Drive Link"),h("th",null,"Executive")])],-1)),h("tbody",null,[(D(!0),U(me,null,yt(s.orders,o=>(D(),U("tr",{key:o.id},[h("td",Ug,j(o.biller),1),h("td",null,j(i.formatIndianDate(o.order_placed_on)),1),h("td",null,j(o.order_items),1),h("td",null,j(o.transport),1),h("td",null,[h("a",{href:o.drive_link,target:"_blank"},e[0]||(e[0]=[h("button",{class:"copy-button"},"Open Link",-1)]),8,Ng),h("button",{class:"copy-button",onClick:a=>t.$emit("copy-link",o.drive_link)}," Copy Link ",8,$g)]),h("td",null,j(o.executive),1)]))),128))])])])]),h("div",Lg,[(D(!0),U(me,null,yt(s.orders,o=>(D(),U("div",{key:o.id,class:"card"},[h("h3",null,j(o.biller),1),h("p",null,[e[2]||(e[2]=h("strong",null,"Order Placed On:",-1)),Z(" "+j(i.formatIndianDate(o.order_placed_on)),1)]),h("p",null,[e[3]||(e[3]=h("strong",null,"Order Items:",-1)),Z(" "+j(o.order_items),1)]),h("p",null,[e[4]||(e[4]=h("strong",null,"Transport:",-1)),Z(" "+j(o.transport),1)]),h("p",null,[e[5]||(e[5]=h("strong",null,"Drive Link:",-1)),h("a",{href:o.drive_link,target:"_blank"},"Open",8,Fg),e[6]||(e[6]=Z(" | ",-1)),h("button",{onClick:a=>t.$emit("copy-link",o.drive_link)},"Copy",8,Mg)]),h("p",null,[e[7]||(e[7]=h("strong",null,"Executive:",-1)),Z(" "+j(o.executive),1)])]))),128))])])}const Hg=rr(jg,[["render",qg],["__scopeId","data-v-53753cd8"]]),Wg={props:{billers:Array,isMobile:Boolean}},Vg={class:"tab-panel"},Kg={class:"table-responsive"},zg={class:"desktop-view"},Jg={class:"action-cell"},Gg=["onClick"],Qg={class:"mobile-view"},Yg={class:"action-buttons"},Xg=["onClick"];function Zg(t,e,s,r,n,i){return D(),U("div",Vg,[h("div",Kg,[h("div",zg,[h("table",null,[e[0]||(e[0]=h("thead",null,[h("tr",null,[h("th",null,"Name"),h("th",null,"Credit Duration"),h("th",null,"Account No"),h("th",null,"IFSC"),h("th",null,"Bank Name"),h("th",null,"Branch"),h("th",null,"Executive"),h("th",null,"Action")])],-1)),h("tbody",null,[(D(!0),U(me,null,yt(s.billers,o=>(D(),U("tr",{key:o.id},[h("td",null,j(o.name),1),h("td",null,j(o.creditDuration),1),h("td",null,j(o.accountNo),1),h("td",null,j(o.ifsc),1),h("td",null,j(o.bankName),1),h("td",null,j(o.branch),1),h("td",null,j(o.executive),1),h("td",Jg,[h("button",{class:"action-button",onClick:a=>t.$emit("edit-biller",o)}," Edit Biller ",8,Gg)])]))),128))])])])]),h("div",Qg,[(D(!0),U(me,null,yt(s.billers,o=>(D(),U("div",{key:o.id,class:"card"},[h("h3",null,j(o.name),1),h("p",null,[e[1]||(e[1]=h("strong",null,"Credit Duration:",-1)),Z(" "+j(o.creditDuration),1)]),h("p",null,[e[2]||(e[2]=h("strong",null,"Account No:",-1)),Z(" "+j(o.accountNo),1)]),h("p",null,[e[3]||(e[3]=h("strong",null,"IFSC:",-1)),Z(" "+j(o.ifsc),1)]),h("p",null,[e[4]||(e[4]=h("strong",null,"Bank Name:",-1)),Z(" "+j(o.bankName),1)]),h("p",null,[e[5]||(e[5]=h("strong",null,"Branch:",-1)),Z(" "+j(o.branch),1)]),h("p",null,[e[6]||(e[6]=h("strong",null,"Executive:",-1)),Z(" "+j(o.executive),1)]),h("div",Yg,[h("button",{class:"action-button",onClick:a=>t.$emit("edit-biller",o)}," Edit Biller ",8,Xg)])]))),128))])])}const em=rr(Wg,[["render",Zg],["__scopeId","data-v-75deaba1"]]),tm={props:{brands:Array,isLoading:Boolean},data(){return{selectedBrands:[],onlyWithPhotos:!0,minQtyEnabled:!1,minQty:6}},methods:{getPayload(){return{brands:this.selectedBrands,onlyWithPhotos:this.onlyWithPhotos,minQty:this.minQtyEnabled?this.minQty:-1}}}},sm={class:"tab-panel"},rm={class:"pdf-container"},nm={key:0,class:"saving-overlay"},im={class:"card"},om=["value"],am={class:"card"},lm={class:"checkbox-label"},cm={class:"card"},um={class:"checkbox-label"},dm={class:"flex items-center mt-2 gap-2"},hm=["disabled"],fm=["disabled"];function pm(t,e,s,r,n,i){return D(),U("div",sm,[h("div",rm,[s.isLoading?(D(),U("div",nm,e[5]||(e[5]=[h("div",{class:"loader"},null,-1),Z(" Generating PDF... ",-1)]))):q("",!0),e[10]||(e[10]=h("h2",{class:"pdf-title"},"PDF Generator",-1)),h("div",im,[e[6]||(e[6]=h("label",{class:"form-label"},"Select Brands",-1)),ee(h("select",{multiple:"","onUpdate:modelValue":e[0]||(e[0]=o=>n.selectedBrands=o),class:"form-select"},[(D(!0),U(me,null,yt(s.brands,o=>(D(),U("option",{key:o,value:o},j(o),9,om))),128))],512),[[In,n.selectedBrands]])]),h("div",am,[h("label",lm,[ee(h("input",{type:"checkbox","onUpdate:modelValue":e[1]||(e[1]=o=>n.onlyWithPhotos=o)},null,512),[[Cr,n.onlyWithPhotos]]),e[7]||(e[7]=Z(" Only include products with photos ",-1))])]),h("div",cm,[h("label",um,[ee(h("input",{type:"checkbox","onUpdate:modelValue":e[2]||(e[2]=o=>n.minQtyEnabled=o)},null,512),[[Cr,n.minQtyEnabled]]),e[8]||(e[8]=Z(" Only include articles with more than ",-1))]),h("div",dm,[ee(h("input",{type:"number","onUpdate:modelValue":e[3]||(e[3]=o=>n.minQty=o),disabled:!n.minQtyEnabled,class:"form-input",min:"0"},null,8,hm),[[de,n.minQty]]),e[9]||(e[9]=h("span",{class:"text-sm font-medium"},"quantity",-1))])]),h("button",{onClick:e[4]||(e[4]=o=>t.$emit("generate-pdf")),class:"action-button w-full",disabled:s.isLoading}," Generate PDF ",8,fm)])])}const gm=rr(tm,[["render",pm],["__scopeId","data-v-e2c80b71"]]),mm={components:{Dues:Rg,Orders:Hg,Billers:em,PdfGenerator:gm},data(){return{activeTab:"dues",bills:[],orders:[],billers:[],brands:[],isLoading:!1,showBillPopup:!1,showOrderPopup:!1,showConfirmPopup:!1,showBankPopup:!1,showBillerPopup:!1,editBillMode:!1,editBillerMode:!1,saving:!1,newBill:{biller:"",billing_date:"",amount:"",due_date:"",executive:"",remarks:""},newOrder:{biller:"",order_placed_on:"",order_items:"",transport:"",drive_link:"",executive:""},newBiller:{name:"",creditDuration:"",accountNo:"",ifsc:"",bankName:"",branch:"",executive:""},reenterAccountNo:"",selectedBill:null,selectedBiller:null,confirmActionCallback:null,isMobile:window.innerWidth<=900,errors:{},toast:{message:"",type:""}}},watch:{"newBill.biller"(t){const e=this.billers.find(s=>s.name===t);e&&(this.newBill.executive=e.executive,this.calculateDueDate())},"newBill.billing_date"(){this.calculateDueDate()}},async mounted(){await this.fetchData(),window.addEventListener("resize",this.handleResize)},methods:{handleResize(){this.isMobile=window.innerWidth<=900},calculateDueDate(){if(this.newBill.billing_date&&this.newBill.biller){const t=this.billers.find(e=>e.name===this.newBill.biller);if(t&&t.creditDuration){const e=new Date(this.newBill.billing_date);e.setDate(e.getDate()+parseInt(t.creditDuration)),this.newBill.due_date=e.toISOString().split("T")[0]}}},async fetchData(){await Promise.all([this.fetchBills(),this.fetchOrders(),this.fetchBillers(),this.fetchBrands()])},async fetchBills(){const{data:t,error:e}=await Ze.from("dues").select("*");if(e){this.showToast("Error fetching bills","error"),console.error("Error fetching bills:",e);return}this.bills=t},async fetchOrders(){const{data:t,error:e}=await Ze.from("orders").select("*");if(e){this.showToast("Error fetching orders","error"),console.error("Error fetching orders:",e);return}this.orders=t},async fetchBillers(){const{data:t,error:e}=await Ze.from("billers").select("*");if(e){this.showToast("Error fetching billers","error"),console.error("Error fetching billers:",e);return}this.billers=t},async fetchBrands(){try{const e=await ce.get("https://raw.githubusercontent.com/sahilsync07/sbe/main/frontend/public/assets/stock-data.json");this.brands=[...new Set(e.data.map(s=>s.groupName))]}catch(t){this.showToast("Error fetching brands","error"),console.error("Error fetching brands:",t)}},async generatePdf(){var e;const t=(e=this.$refs.pdfGenerator)==null?void 0:e.getPayload();if(!t||t.brands.length===0){this.showToast("Please select at least one brand","error");return}this.isLoading=!0;try{const s=await ce.post("http://localhost:3001/generate-pdf",t,{responseType:"blob"}),r=window.URL.createObjectURL(new Blob([s.data])),n=document.createElement("a");n.href=r,n.setAttribute("download","products.pdf"),document.body.appendChild(n),n.click(),n.remove(),this.showToast("PDF generated successfully","success")}catch(s){this.showToast("Failed to generate PDF","error"),console.error("Error generating PDF:",s)}finally{this.isLoading=!1}},openBillPopup(){this.editBillMode=!1,this.newBill={biller:"",billing_date:"",amount:"",due_date:"",executive:"",remarks:""},this.errors={},this.showBillPopup=!0},closeBillPopup(){this.showBillPopup=!1,this.errors={}},validateAndSaveBill(){this.errors={},this.newBill.biller||(this.errors.biller="Biller is required"),this.newBill.billing_date||(this.errors.billing_date="Billing date is required"),(!this.newBill.amount||this.newBill.amount<=0)&&(this.errors.amount="Valid amount is required"),this.newBill.due_date||(this.errors.due_date="Due date is required"),Object.keys(this.errors).length===0&&this.saveBill()},async saveBill(){this.saving=!0;let t;if(this.editBillMode?{error:t}=await Ze.from("dues").update(this.newBill).eq("id",this.newBill.id):{error:t}=await Ze.from("dues").insert(this.newBill),this.saving=!1,t){this.showToast("Error saving bill","error"),console.error("Error saving bill:",t);return}this.showToast("Bill saved successfully","success"),this.closeBillPopup(),await this.fetchBills()},editBill(t){this.editBillMode=!0,this.newBill={...t},this.errors={},this.showBillPopup=!0},async markPaid(t){const e=new Date().toISOString().split("T")[0],{error:s}=await Ze.from("dues").update({is_paid:!0,paid_on:e}).eq("id",t.id);if(s){this.showToast("Error marking as paid","error"),console.error("Error marking paid:",s);return}this.showToast("Marked as paid","success"),await this.fetchBills()},async markUnpaid(t){const{error:e}=await Ze.from("dues").update({is_paid:!1,paid_on:null}).eq("id",t.id);if(e){this.showToast("Error marking as unpaid","error"),console.error("Error marking unpaid:",e);return}this.showToast("Marked as unpaid","success"),await this.fetchBills()},showBankInfo(t){this.selectedBill=t,this.selectedBiller=this.billers.find(e=>e.name===t.biller),this.showBankPopup=!0},closeBankPopup(){this.showBankPopup=!1},copyText(t){navigator.clipboard.writeText(t),this.showToast("Copied to clipboard","success")},openOrderPopup(){this.newOrder={biller:"",order_placed_on:"",order_items:"",transport:"",drive_link:"",executive:""},this.errors={},this.showOrderPopup=!0},closeOrderPopup(){this.showOrderPopup=!1,this.errors={}},validateAndSaveOrder(){this.errors={},this.newOrder.biller||(this.errors.biller="Biller is required"),this.newOrder.order_placed_on||(this.errors.order_placed_on="Order placed on date is required"),this.newOrder.order_items||(this.errors.order_items="Order items are required"),Object.keys(this.errors).length===0&&this.saveOrder()},async saveOrder(){this.saving=!0;const{error:t}=await Ze.from("orders").insert(this.newOrder);if(this.saving=!1,t){this.showToast("Error saving order","error"),console.error("Error saving order:",t);return}this.showToast("Order saved successfully","success"),this.closeOrderPopup(),await this.fetchOrders()},copyLink(t){navigator.clipboard.writeText(t),this.showToast("Link copied to clipboard","success")},openBillerPopup(){this.editBillerMode=!1,this.newBiller={name:"",creditDuration:"",accountNo:"",ifsc:"",bankName:"",branch:"",executive:""},this.reenterAccountNo="",this.errors={},this.showBillerPopup=!0},closeBillerPopup(){this.showBillerPopup=!1,this.errors={}},validateAndSaveBiller(){this.errors={},this.newBiller.name||(this.errors.name="Name is required"),(!this.newBiller.creditDuration||this.newBiller.creditDuration<=0)&&(this.errors.creditDuration="Valid credit duration is required"),this.newBiller.accountNo!==this.reenterAccountNo&&(this.errors.reenterAccountNo="Account numbers do not match"),this.newBiller.ifsc||(this.errors.ifsc="IFSC code is required"),this.newBiller.bankName||(this.errors.bankName="Bank name is required"),this.newBiller.branch||(this.errors.branch="Branch is required"),this.newBiller.executive||(this.errors.executive="Executive is required"),Object.keys(this.errors).length===0&&this.saveBiller()},async saveBiller(){this.saving=!0;let t;if(this.editBillerMode?{error:t}=await Ze.from("billers").update(this.newBiller).eq("id",this.newBiller.id):{error:t}=await Ze.from("billers").insert(this.newBiller),this.saving=!1,t){this.showToast("Error saving biller","error"),console.error("Error saving biller:",t);return}this.showToast("Biller saved successfully","success"),this.closeBillerPopup(),await this.fetchBillers()},editBiller(t){this.editBillerMode=!0,this.newBiller={...t},this.reenterAccountNo=t.accountNo,this.errors={},this.showBillerPopup=!0},closeConfirmPopup(){this.showConfirmPopup=!1},confirmAction(){this.confirmActionCallback(),this.closeConfirmPopup()},showToast(t,e="success"){this.toast={message:t,type:e},setTimeout(()=>{this.toast={message:"",type:""}},3e3)}}},bm={class:"container"},wm={class:"tab-container"},ym={class:"tab-buttons"},_m={class:"tab-content"},vm={key:0,class:"popup"},Sm={key:0,class:"saving-overlay"},Em={class:"form-group"},km=["value"],Tm={key:0,class:"error-message"},Om={class:"form-group"},xm={key:0,class:"error-message"},Cm={class:"form-group"},Am={key:0,class:"error-message"},Pm={class:"form-group"},Rm={key:0,class:"error-message"},jm={class:"form-group"},Im={key:0,class:"error-message"},Bm={class:"button-group"},Dm={key:1,class:"popup"},Um={key:0,class:"saving-overlay"},Nm={class:"form-group"},$m=["value"],Lm={key:0,class:"error-message"},Fm={class:"form-group"},Mm={key:0,class:"error-message"},qm={class:"form-group"},Hm={key:0,class:"error-message"},Wm={class:"form-group"},Vm={key:0,class:"error-message"},Km={class:"form-group"},zm={key:0,class:"error-message"},Jm={class:"form-group"},Gm={key:0,class:"error-message"},Qm={class:"button-group"},Ym={key:2,class:"popup"},Xm={class:"button-group"},Zm={key:3,class:"popup"},eb={class:"bank-details-table"},tb={class:"value"},sb={class:"copy"},rb={class:"value"},nb={class:"copy"},ib={class:"value"},ob={class:"copy"},ab={class:"value"},lb={class:"copy"},cb={class:"button-group"},ub={key:4,class:"popup"},db={key:0,class:"saving-overlay"},hb={class:"form-group"},fb={key:0,class:"error-message"},pb={class:"form-group"},gb={key:0,class:"error-message"},mb={class:"form-group"},bb={key:0,class:"error-message"},wb={class:"form-group"},yb={key:0,class:"error-message"},_b={class:"form-group"},vb={key:0,class:"error-message"},Sb={class:"form-group"},Eb={key:0,class:"error-message"},kb={class:"form-group"},Tb={key:0,class:"error-message"},Ob={class:"form-group"},xb={key:0,class:"error-message"},Cb={class:"button-group"};function Ab(t,e,s,r,n,i){const o=cr("Dues"),a=cr("Orders"),c=cr("Billers"),u=cr("PdfGenerator");return D(),U("div",null,[e[67]||(e[67]=h("header",null,[h("div",{class:"header-content"},[h("h1",null,"Smart Due"),h("span",{class:"sbe-text"},"Sri Brundabana Enterprises")])],-1)),h("div",bm,[h("div",wm,[h("div",ym,[h("button",{class:it(["tab-button",{active:n.activeTab==="dues"}]),onClick:e[0]||(e[0]=l=>n.activeTab="dues")}," Dues ",2),h("button",{class:it(["tab-button",{active:n.activeTab==="orders"}]),onClick:e[1]||(e[1]=l=>n.activeTab="orders")}," Orders ",2),h("button",{class:it(["tab-button",{active:n.activeTab==="billers"}]),onClick:e[2]||(e[2]=l=>n.activeTab="billers")}," Billers ",2),h("button",{class:it(["tab-button",{active:n.activeTab==="pdf"}]),onClick:e[3]||(e[3]=l=>n.activeTab="pdf")}," PDF Generator ",2)]),h("div",_m,[n.activeTab==="dues"?(D(),xs(o,{key:0,bills:n.bills,billers:n.billers,"is-mobile":n.isMobile,onEditBill:i.editBill,onMarkPaid:i.markPaid,onMarkUnpaid:i.markUnpaid,onShowBankInfo:i.showBankInfo},null,8,["bills","billers","is-mobile","onEditBill","onMarkPaid","onMarkUnpaid","onShowBankInfo"])):q("",!0),n.activeTab==="orders"?(D(),xs(a,{key:1,orders:n.orders,"is-mobile":n.isMobile,onCopyLink:i.copyLink},null,8,["orders","is-mobile","onCopyLink"])):q("",!0),n.activeTab==="billers"?(D(),xs(c,{key:2,billers:n.billers,"is-mobile":n.isMobile,onEditBiller:i.editBiller},null,8,["billers","is-mobile","onEditBiller"])):q("",!0),n.activeTab==="pdf"?(D(),xs(u,{key:3,brands:n.brands,"is-loading":n.isLoading,onGeneratePdf:i.generatePdf},null,8,["brands","is-loading","onGeneratePdf"])):q("",!0)])]),n.showBillPopup?(D(),U("div",vm,[h("div",null,[n.saving?(D(),U("div",Sm,e[39]||(e[39]=[h("div",{class:"loader"},null,-1),Z(" Saving... ",-1)]))):q("",!0),h("h2",null,j(n.editBillMode?"Edit Bill":"Add Bill"),1),h("div",Em,[e[40]||(e[40]=h("label",null,"Biller",-1)),ee(h("select",{"onUpdate:modelValue":e[4]||(e[4]=l=>n.newBill.biller=l)},[(D(!0),U(me,null,yt(n.billers,l=>(D(),U("option",{key:l.id,value:l.name},j(l.name),9,km))),128))],512),[[In,n.newBill.biller]]),n.errors.biller?(D(),U("span",Tm,j(n.errors.biller),1)):q("",!0)]),h("div",Om,[e[41]||(e[41]=h("label",null,"Billing Date",-1)),ee(h("input",{type:"date","onUpdate:modelValue":e[5]||(e[5]=l=>n.newBill.billing_date=l)},null,512),[[de,n.newBill.billing_date]]),n.errors.billing_date?(D(),U("span",xm,j(n.errors.billing_date),1)):q("",!0)]),h("div",Cm,[e[42]||(e[42]=h("label",null,"Amount",-1)),ee(h("input",{type:"number","onUpdate:modelValue":e[6]||(e[6]=l=>n.newBill.amount=l)},null,512),[[de,n.newBill.amount]]),n.errors.amount?(D(),U("span",Am,j(n.errors.amount),1)):q("",!0)]),h("div",Pm,[e[43]||(e[43]=h("label",null,"Due Date",-1)),ee(h("input",{type:"date","onUpdate:modelValue":e[7]||(e[7]=l=>n.newBill.due_date=l)},null,512),[[de,n.newBill.due_date]]),n.errors.due_date?(D(),U("span",Rm,j(n.errors.due_date),1)):q("",!0)]),h("div",jm,[e[44]||(e[44]=h("label",null,"Remarks",-1)),ee(h("input",{type:"text","onUpdate:modelValue":e[8]||(e[8]=l=>n.newBill.remarks=l)},null,512),[[de,n.newBill.remarks]]),n.errors.remarks?(D(),U("span",Im,j(n.errors.remarks),1)):q("",!0)]),h("div",Bm,[h("button",{onClick:e[9]||(e[9]=(...l)=>i.validateAndSaveBill&&i.validateAndSaveBill(...l))},j(n.editBillMode?"Update":"Save"),1),h("button",{class:"cancel",onClick:e[10]||(e[10]=(...l)=>i.closeBillPopup&&i.closeBillPopup(...l))},"Cancel")])])])):q("",!0),n.showOrderPopup?(D(),U("div",Dm,[h("div",null,[n.saving?(D(),U("div",Um,e[45]||(e[45]=[h("div",{class:"loader"},null,-1),Z(" Saving... ",-1)]))):q("",!0),e[52]||(e[52]=h("h2",null,"New Order",-1)),h("div",Nm,[e[46]||(e[46]=h("label",null,"Biller",-1)),ee(h("select",{"onUpdate:modelValue":e[11]||(e[11]=l=>n.newOrder.biller=l)},[(D(!0),U(me,null,yt(n.billers,l=>(D(),U("option",{key:l.id,value:l.name},j(l.name),9,$m))),128))],512),[[In,n.newOrder.biller]]),n.errors.biller?(D(),U("span",Lm,j(n.errors.biller),1)):q("",!0)]),h("div",Fm,[e[47]||(e[47]=h("label",null,"Order Placed On",-1)),ee(h("input",{type:"date","onUpdate:modelValue":e[12]||(e[12]=l=>n.newOrder.order_placed_on=l)},null,512),[[de,n.newOrder.order_placed_on]]),n.errors.order_placed_on?(D(),U("span",Mm,j(n.errors.order_placed_on),1)):q("",!0)]),h("div",qm,[e[48]||(e[48]=h("label",null,"Order Items",-1)),ee(h("input",{type:"text","onUpdate:modelValue":e[13]||(e[13]=l=>n.newOrder.order_items=l)},null,512),[[de,n.newOrder.order_items]]),n.errors.order_items?(D(),U("span",Hm,j(n.errors.order_items),1)):q("",!0)]),h("div",Wm,[e[49]||(e[49]=h("label",null,"Transport",-1)),ee(h("input",{type:"text","onUpdate:modelValue":e[14]||(e[14]=l=>n.newOrder.transport=l)},null,512),[[de,n.newOrder.transport]]),n.errors.transport?(D(),U("span",Vm,j(n.errors.transport),1)):q("",!0)]),h("div",Km,[e[50]||(e[50]=h("label",null,"Drive Link",-1)),ee(h("input",{type:"text","onUpdate:modelValue":e[15]||(e[15]=l=>n.newOrder.drive_link=l)},null,512),[[de,n.newOrder.drive_link]]),n.errors.drive_link?(D(),U("span",zm,j(n.errors.drive_link),1)):q("",!0)]),h("div",Jm,[e[51]||(e[51]=h("label",null,"Executive",-1)),ee(h("input",{type:"text","onUpdate:modelValue":e[16]||(e[16]=l=>n.newOrder.executive=l)},null,512),[[de,n.newOrder.executive]]),n.errors.executive?(D(),U("span",Gm,j(n.errors.executive),1)):q("",!0)]),h("div",Qm,[h("button",{onClick:e[17]||(e[17]=(...l)=>i.validateAndSaveOrder&&i.validateAndSaveOrder(...l))},"Save"),h("button",{class:"cancel",onClick:e[18]||(e[18]=(...l)=>i.closeOrderPopup&&i.closeOrderPopup(...l))},"Cancel")])])])):q("",!0),n.showConfirmPopup?(D(),U("div",Ym,[h("div",null,[e[53]||(e[53]=h("h2",null,"What is your name?",-1)),h("div",Xm,[h("button",{onClick:e[19]||(e[19]=(...l)=>i.confirmAction&&i.confirmAction(...l))},"Confirm"),h("button",{class:"cancel",onClick:e[20]||(e[20]=(...l)=>i.closeConfirmPopup&&i.closeConfirmPopup(...l))},"Cancel")])])])):q("",!0),n.showBankPopup?(D(),U("div",Zm,[h("div",null,[h("h2",null,"Bank Details for "+j(n.selectedBill.biller),1),h("table",eb,[h("tr",null,[e[54]||(e[54]=h("td",{class:"label"},"Bank Name",-1)),h("td",tb,j(n.selectedBiller.bankName),1),h("td",sb,[h("button",{class:"copy-button",onClick:e[21]||(e[21]=l=>i.copyText(n.selectedBiller.bankName))}," Copy ")])]),h("tr",null,[e[55]||(e[55]=h("td",{class:"label"},"Account No",-1)),h("td",rb,j(n.selectedBiller.accountNo),1),h("td",nb,[h("button",{class:"copy-button",onClick:e[22]||(e[22]=l=>i.copyText(n.selectedBiller.accountNo))}," Copy ")])]),h("tr",null,[e[56]||(e[56]=h("td",{class:"label"},"IFSC",-1)),h("td",ib,j(n.selectedBiller.ifsc),1),h("td",ob,[h("button",{class:"copy-button",onClick:e[23]||(e[23]=l=>i.copyText(n.selectedBiller.ifsc))}," Copy ")])]),h("tr",null,[e[57]||(e[57]=h("td",{class:"label"},"Branch",-1)),h("td",ab,j(n.selectedBiller.branch),1),h("td",lb,[h("button",{class:"copy-button",onClick:e[24]||(e[24]=l=>i.copyText(n.selectedBiller.branch))}," Copy ")])])]),h("div",cb,[h("button",{class:"cancel",onClick:e[25]||(e[25]=(...l)=>i.closeBankPopup&&i.closeBankPopup(...l))},"Close")])])])):q("",!0),n.showBillerPopup?(D(),U("div",ub,[h("div",null,[n.saving?(D(),U("div",db,e[58]||(e[58]=[h("div",{class:"loader"},null,-1),Z(" Saving... ",-1)]))):q("",!0),h("h2",null,j(n.editBillerMode?"Edit Biller":"Add Biller"),1),h("div",hb,[e[59]||(e[59]=h("label",null,"Name",-1)),ee(h("input",{type:"text","onUpdate:modelValue":e[26]||(e[26]=l=>n.newBiller.name=l)},null,512),[[de,n.newBiller.name]]),n.errors.name?(D(),U("span",fb,j(n.errors.name),1)):q("",!0)]),h("div",pb,[e[60]||(e[60]=h("label",null,"Credit Duration",-1)),ee(h("input",{type:"number","onUpdate:modelValue":e[27]||(e[27]=l=>n.newBiller.creditDuration=l)},null,512),[[de,n.newBiller.creditDuration]]),n.errors.creditDuration?(D(),U("span",gb,j(n.errors.creditDuration),1)):q("",!0)]),h("div",mb,[e[61]||(e[61]=h("label",null,"Account Number",-1)),ee(h("input",{type:"text","onUpdate:modelValue":e[28]||(e[28]=l=>n.newBiller.accountNo=l),class:"account-no-input"},null,512),[[de,n.newBiller.accountNo]]),n.errors.accountNo?(D(),U("span",bb,j(n.errors.accountNo),1)):q("",!0)]),h("div",wb,[e[62]||(e[62]=h("label",null,"Reenter Account Number",-1)),ee(h("input",{type:"text","onUpdate:modelValue":e[29]||(e[29]=l=>n.reenterAccountNo=l),class:"account-no-input"},null,512),[[de,n.reenterAccountNo]]),n.errors.reenterAccountNo?(D(),U("span",yb,j(n.errors.reenterAccountNo),1)):q("",!0)]),h("div",_b,[e[63]||(e[63]=h("label",null,"IFSC Code",-1)),ee(h("input",{type:"text","onUpdate:modelValue":e[30]||(e[30]=l=>n.newBiller.ifsc=l)},null,512),[[de,n.newBiller.ifsc]]),n.errors.ifsc?(D(),U("span",vb,j(n.errors.ifsc),1)):q("",!0)]),h("div",Sb,[e[64]||(e[64]=h("label",null,"Bank Name",-1)),ee(h("input",{type:"text","onUpdate:modelValue":e[31]||(e[31]=l=>n.newBiller.bankName=l)},null,512),[[de,n.newBiller.bankName]]),n.errors.bankName?(D(),U("span",Eb,j(n.errors.bankName),1)):q("",!0)]),h("div",kb,[e[65]||(e[65]=h("label",null,"Branch",-1)),ee(h("input",{type:"text","onUpdate:modelValue":e[32]||(e[32]=l=>n.newBiller.branch=l)},null,512),[[de,n.newBiller.branch]]),n.errors.branch?(D(),U("span",Tb,j(n.errors.branch),1)):q("",!0)]),h("div",Ob,[e[66]||(e[66]=h("label",null,"Executive",-1)),ee(h("input",{type:"text","onUpdate:modelValue":e[33]||(e[33]=l=>n.newBiller.executive=l)},null,512),[[de,n.newBiller.executive]]),n.errors.executive?(D(),U("span",xb,j(n.errors.executive),1)):q("",!0)]),h("div",Cb,[h("button",{onClick:e[34]||(e[34]=(...l)=>i.validateAndSaveBiller&&i.validateAndSaveBiller(...l))},j(n.editBillerMode?"Update":"Save"),1),h("button",{class:"cancel",onClick:e[35]||(e[35]=(...l)=>i.closeBillerPopup&&i.closeBillerPopup(...l))},"Cancel")])])])):q("",!0)]),n.activeTab==="dues"?(D(),U("button",{key:0,class:"new-button",onClick:e[36]||(e[36]=(...l)=>i.openBillPopup&&i.openBillPopup(...l))}," + ")):q("",!0),n.activeTab==="orders"?(D(),U("button",{key:1,class:"new-button",onClick:e[37]||(e[37]=(...l)=>i.openOrderPopup&&i.openOrderPopup(...l))}," + ")):q("",!0),n.activeTab==="billers"?(D(),U("button",{key:2,class:"new-button",onClick:e[38]||(e[38]=(...l)=>i.openBillerPopup&&i.openBillerPopup(...l))}," + ")):q("",!0),n.toast.message?(D(),U("div",{key:3,class:it(["toast",n.toast.type])},j(n.toast.message),3)):q("",!0)])}const Pb=rr(mm,[["render",Ab]]);sd(Pb).mount("#app");
