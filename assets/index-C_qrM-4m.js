(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();/**
* @vue/shared v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Qn(t){const e=Object.create(null);for(const s of t.split(","))e[s]=1;return s=>s in e}const te={},rs=[],ot=()=>{},Nl=()=>!1,jr=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Yn=t=>t.startsWith("onUpdate:"),Te=Object.assign,Xn=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},Ml=Object.prototype.hasOwnProperty,X=(t,e)=>Ml.call(t,e),N=Array.isArray,ns=t=>Js(t)==="[object Map]",hs=t=>Js(t)==="[object Set]",xi=t=>Js(t)==="[object Date]",K=t=>typeof t=="function",ue=t=>typeof t=="string",at=t=>typeof t=="symbol",le=t=>t!==null&&typeof t=="object",No=t=>(le(t)||K(t))&&K(t.then)&&K(t.catch),Mo=Object.prototype.toString,Js=t=>Mo.call(t),Fl=t=>Js(t).slice(8,-1),Fo=t=>Js(t)==="[object Object]",Zn=t=>ue(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Ps=Qn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ir=t=>{const e=Object.create(null);return s=>e[s]||(e[s]=t(s))},ql=/-(\w)/g,Me=Ir(t=>t.replace(ql,(e,s)=>s?s.toUpperCase():"")),Hl=/\B([A-Z])/g,Ht=Ir(t=>t.replace(Hl,"-$1").toLowerCase()),Br=Ir(t=>t.charAt(0).toUpperCase()+t.slice(1)),Zr=Ir(t=>t?`on${Br(t)}`:""),Lt=(t,e)=>!Object.is(t,e),fr=(t,...e)=>{for(let s=0;s<t.length;s++)t[s](...e)},Sn=(t,e,s,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:s})},vr=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Oi;const $r=()=>Oi||(Oi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ei(t){if(N(t)){const e={};for(let s=0;s<t.length;s++){const r=t[s],n=ue(r)?Jl(r):ei(r);if(n)for(const i in n)e[i]=n[i]}return e}else if(ue(t)||le(t))return t}const Wl=/;(?![^(]*\))/g,Vl=/:([^]+)/,Kl=/\/\*[^]*?\*\//g;function Jl(t){const e={};return t.replace(Kl,"").split(Wl).forEach(s=>{if(s){const r=s.split(Vl);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function De(t){let e="";if(ue(t))e=t;else if(N(t))for(let s=0;s<t.length;s++){const r=De(t[s]);r&&(e+=r+" ")}else if(le(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const zl="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Gl=Qn(zl);function qo(t){return!!t||t===""}function Ql(t,e){if(t.length!==e.length)return!1;let s=!0;for(let r=0;s&&r<t.length;r++)s=zs(t[r],e[r]);return s}function zs(t,e){if(t===e)return!0;let s=xi(t),r=xi(e);if(s||r)return s&&r?t.getTime()===e.getTime():!1;if(s=at(t),r=at(e),s||r)return t===e;if(s=N(t),r=N(e),s||r)return s&&r?Ql(t,e):!1;if(s=le(t),r=le(e),s||r){if(!s||!r)return!1;const n=Object.keys(t).length,i=Object.keys(e).length;if(n!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!zs(t[o],e[o]))return!1}}return String(t)===String(e)}function ti(t,e){return t.findIndex(s=>zs(s,e))}const Ho=t=>!!(t&&t.__v_isRef===!0),$=t=>ue(t)?t:t==null?"":N(t)||le(t)&&(t.toString===Mo||!K(t.toString))?Ho(t)?$(t.value):JSON.stringify(t,Wo,2):String(t),Wo=(t,e)=>Ho(e)?Wo(t,e.value):ns(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[r,n],i)=>(s[en(r,i)+" =>"]=n,s),{})}:hs(e)?{[`Set(${e.size})`]:[...e.values()].map(s=>en(s))}:at(e)?en(e):le(e)&&!N(e)&&!Fo(e)?String(e):e,en=(t,e="")=>{var s;return at(t)?`Symbol(${(s=t.description)!=null?s:e})`:t};/**
* @vue/reactivity v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Pe;class Yl{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Pe,!e&&Pe&&(this.index=(Pe.scopes||(Pe.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].pause();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].resume();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].resume()}}run(e){if(this._active){const s=Pe;try{return Pe=this,e()}finally{Pe=s}}}on(){++this._on===1&&(this.prevScope=Pe,Pe=this)}off(){this._on>0&&--this._on===0&&(Pe=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let s,r;for(s=0,r=this.effects.length;s<r;s++)this.effects[s].stop();for(this.effects.length=0,s=0,r=this.cleanups.length;s<r;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,r=this.scopes.length;s<r;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function Xl(){return Pe}let oe;const tn=new WeakSet;class Vo{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Pe&&Pe.active&&Pe.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,tn.has(this)&&(tn.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Jo(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Ci(this),zo(this);const e=oe,s=We;oe=this,We=!0;try{return this.fn()}finally{Go(this),oe=e,We=s,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)ni(e);this.deps=this.depsTail=void 0,Ci(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?tn.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){En(this)&&this.run()}get dirty(){return En(this)}}let Ko=0,Rs,js;function Jo(t,e=!1){if(t.flags|=8,e){t.next=js,js=t;return}t.next=Rs,Rs=t}function si(){Ko++}function ri(){if(--Ko>0)return;if(js){let e=js;for(js=void 0;e;){const s=e.next;e.next=void 0,e.flags&=-9,e=s}}let t;for(;Rs;){let e=Rs;for(Rs=void 0;e;){const s=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=s}}if(t)throw t}function zo(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Go(t){let e,s=t.depsTail,r=s;for(;r;){const n=r.prevDep;r.version===-1?(r===s&&(s=n),ni(r),Zl(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=n}t.deps=e,t.depsTail=s}function En(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Qo(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Qo(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Ms)||(t.globalVersion=Ms,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!En(t))))return;t.flags|=2;const e=t.dep,s=oe,r=We;oe=t,We=!0;try{zo(t);const n=t.fn(t._value);(e.version===0||Lt(n,t._value))&&(t.flags|=128,t._value=n,e.version++)}catch(n){throw e.version++,n}finally{oe=s,We=r,Go(t),t.flags&=-3}}function ni(t,e=!1){const{dep:s,prevSub:r,nextSub:n}=t;if(r&&(r.nextSub=n,t.prevSub=void 0),n&&(n.prevSub=r,t.nextSub=void 0),s.subs===t&&(s.subs=r,!r&&s.computed)){s.computed.flags&=-5;for(let i=s.computed.deps;i;i=i.nextDep)ni(i,!0)}!e&&!--s.sc&&s.map&&s.map.delete(s.key)}function Zl(t){const{prevDep:e,nextDep:s}=t;e&&(e.nextDep=s,t.prevDep=void 0),s&&(s.prevDep=e,t.nextDep=void 0)}let We=!0;const Yo=[];function _t(){Yo.push(We),We=!1}function yt(){const t=Yo.pop();We=t===void 0?!0:t}function Ci(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const s=oe;oe=void 0;try{e()}finally{oe=s}}}let Ms=0;class ec{constructor(e,s){this.sub=e,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Xo{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!oe||!We||oe===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==oe)s=this.activeLink=new ec(oe,this),oe.deps?(s.prevDep=oe.depsTail,oe.depsTail.nextDep=s,oe.depsTail=s):oe.deps=oe.depsTail=s,Zo(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const r=s.nextDep;r.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=r),s.prevDep=oe.depsTail,s.nextDep=void 0,oe.depsTail.nextDep=s,oe.depsTail=s,oe.deps===s&&(oe.deps=r)}return s}trigger(e){this.version++,Ms++,this.notify(e)}notify(e){si();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{ri()}}}function Zo(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)Zo(r)}const s=t.dep.subs;s!==t&&(t.prevSub=s,s&&(s.nextSub=t)),t.dep.subs=t}}const kn=new WeakMap,Nt=Symbol(""),Tn=Symbol(""),Fs=Symbol("");function _e(t,e,s){if(We&&oe){let r=kn.get(t);r||kn.set(t,r=new Map);let n=r.get(s);n||(r.set(s,n=new Xo),n.map=r,n.key=s),n.track()}}function ft(t,e,s,r,n,i){const o=kn.get(t);if(!o){Ms++;return}const a=l=>{l&&l.trigger()};if(si(),e==="clear")o.forEach(a);else{const l=N(t),u=l&&Zn(s);if(l&&s==="length"){const c=Number(r);o.forEach((h,g)=>{(g==="length"||g===Fs||!at(g)&&g>=c)&&a(h)})}else switch((s!==void 0||o.has(void 0))&&a(o.get(s)),u&&a(o.get(Fs)),e){case"add":l?u&&a(o.get("length")):(a(o.get(Nt)),ns(t)&&a(o.get(Tn)));break;case"delete":l||(a(o.get(Nt)),ns(t)&&a(o.get(Tn)));break;case"set":ns(t)&&a(o.get(Nt));break}}ri()}function zt(t){const e=ee(t);return e===t?e:(_e(e,"iterate",Fs),Ve(t)?e:e.map(Se))}function Dr(t){return _e(t=ee(t),"iterate",Fs),t}const tc={__proto__:null,[Symbol.iterator](){return sn(this,Symbol.iterator,Se)},concat(...t){return zt(this).concat(...t.map(e=>N(e)?zt(e):e))},entries(){return sn(this,"entries",t=>(t[1]=Se(t[1]),t))},every(t,e){return ut(this,"every",t,e,void 0,arguments)},filter(t,e){return ut(this,"filter",t,e,s=>s.map(Se),arguments)},find(t,e){return ut(this,"find",t,e,Se,arguments)},findIndex(t,e){return ut(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return ut(this,"findLast",t,e,Se,arguments)},findLastIndex(t,e){return ut(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return ut(this,"forEach",t,e,void 0,arguments)},includes(...t){return rn(this,"includes",t)},indexOf(...t){return rn(this,"indexOf",t)},join(t){return zt(this).join(t)},lastIndexOf(...t){return rn(this,"lastIndexOf",t)},map(t,e){return ut(this,"map",t,e,void 0,arguments)},pop(){return Ss(this,"pop")},push(...t){return Ss(this,"push",t)},reduce(t,...e){return Ai(this,"reduce",t,e)},reduceRight(t,...e){return Ai(this,"reduceRight",t,e)},shift(){return Ss(this,"shift")},some(t,e){return ut(this,"some",t,e,void 0,arguments)},splice(...t){return Ss(this,"splice",t)},toReversed(){return zt(this).toReversed()},toSorted(t){return zt(this).toSorted(t)},toSpliced(...t){return zt(this).toSpliced(...t)},unshift(...t){return Ss(this,"unshift",t)},values(){return sn(this,"values",Se)}};function sn(t,e,s){const r=Dr(t),n=r[e]();return r!==t&&!Ve(t)&&(n._next=n.next,n.next=()=>{const i=n._next();return i.value&&(i.value=s(i.value)),i}),n}const sc=Array.prototype;function ut(t,e,s,r,n,i){const o=Dr(t),a=o!==t&&!Ve(t),l=o[e];if(l!==sc[e]){const h=l.apply(t,i);return a?Se(h):h}let u=s;o!==t&&(a?u=function(h,g){return s.call(this,Se(h),g,t)}:s.length>2&&(u=function(h,g){return s.call(this,h,g,t)}));const c=l.call(o,u,r);return a&&n?n(c):c}function Ai(t,e,s,r){const n=Dr(t);let i=s;return n!==t&&(Ve(t)?s.length>3&&(i=function(o,a,l){return s.call(this,o,a,l,t)}):i=function(o,a,l){return s.call(this,o,Se(a),l,t)}),n[e](i,...r)}function rn(t,e,s){const r=ee(t);_e(r,"iterate",Fs);const n=r[e](...s);return(n===-1||n===!1)&&li(s[0])?(s[0]=ee(s[0]),r[e](...s)):n}function Ss(t,e,s=[]){_t(),si();const r=ee(t)[e].apply(t,s);return ri(),yt(),r}const rc=Qn("__proto__,__v_isRef,__isVue"),ea=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(at));function nc(t){at(t)||(t=String(t));const e=ee(this);return _e(e,"has",t),e.hasOwnProperty(t)}class ta{constructor(e=!1,s=!1){this._isReadonly=e,this._isShallow=s}get(e,s,r){if(s==="__v_skip")return e.__v_skip;const n=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return i;if(s==="__v_raw")return r===(n?i?pc:ia:i?na:ra).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=N(e);if(!n){let l;if(o&&(l=tc[s]))return l;if(s==="hasOwnProperty")return nc}const a=Reflect.get(e,s,ke(e)?e:r);return(at(s)?ea.has(s):rc(s))||(n||_e(e,"get",s),i)?a:ke(a)?o&&Zn(s)?a:a.value:le(a)?n?oa(a):oi(a):a}}class sa extends ta{constructor(e=!1){super(!1,e)}set(e,s,r,n){let i=e[s];if(!this._isShallow){const l=Ft(i);if(!Ve(r)&&!Ft(r)&&(i=ee(i),r=ee(r)),!N(e)&&ke(i)&&!ke(r))return l?!1:(i.value=r,!0)}const o=N(e)&&Zn(s)?Number(s)<e.length:X(e,s),a=Reflect.set(e,s,r,ke(e)?e:n);return e===ee(n)&&(o?Lt(r,i)&&ft(e,"set",s,r):ft(e,"add",s,r)),a}deleteProperty(e,s){const r=X(e,s);e[s];const n=Reflect.deleteProperty(e,s);return n&&r&&ft(e,"delete",s,void 0),n}has(e,s){const r=Reflect.has(e,s);return(!at(s)||!ea.has(s))&&_e(e,"has",s),r}ownKeys(e){return _e(e,"iterate",N(e)?"length":Nt),Reflect.ownKeys(e)}}class ic extends ta{constructor(e=!1){super(!0,e)}set(e,s){return!0}deleteProperty(e,s){return!0}}const oc=new sa,ac=new ic,lc=new sa(!0);const xn=t=>t,or=t=>Reflect.getPrototypeOf(t);function cc(t,e,s){return function(...r){const n=this.__v_raw,i=ee(n),o=ns(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=n[t](...r),c=s?xn:e?Sr:Se;return!e&&_e(i,"iterate",l?Tn:Nt),{next(){const{value:h,done:g}=u.next();return g?{value:h,done:g}:{value:a?[c(h[0]),c(h[1])]:c(h),done:g}},[Symbol.iterator](){return this}}}}function ar(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function uc(t,e){const s={get(n){const i=this.__v_raw,o=ee(i),a=ee(n);t||(Lt(n,a)&&_e(o,"get",n),_e(o,"get",a));const{has:l}=or(o),u=e?xn:t?Sr:Se;if(l.call(o,n))return u(i.get(n));if(l.call(o,a))return u(i.get(a));i!==o&&i.get(n)},get size(){const n=this.__v_raw;return!t&&_e(ee(n),"iterate",Nt),Reflect.get(n,"size",n)},has(n){const i=this.__v_raw,o=ee(i),a=ee(n);return t||(Lt(n,a)&&_e(o,"has",n),_e(o,"has",a)),n===a?i.has(n):i.has(n)||i.has(a)},forEach(n,i){const o=this,a=o.__v_raw,l=ee(a),u=e?xn:t?Sr:Se;return!t&&_e(l,"iterate",Nt),a.forEach((c,h)=>n.call(i,u(c),u(h),o))}};return Te(s,t?{add:ar("add"),set:ar("set"),delete:ar("delete"),clear:ar("clear")}:{add(n){!e&&!Ve(n)&&!Ft(n)&&(n=ee(n));const i=ee(this);return or(i).has.call(i,n)||(i.add(n),ft(i,"add",n,n)),this},set(n,i){!e&&!Ve(i)&&!Ft(i)&&(i=ee(i));const o=ee(this),{has:a,get:l}=or(o);let u=a.call(o,n);u||(n=ee(n),u=a.call(o,n));const c=l.call(o,n);return o.set(n,i),u?Lt(i,c)&&ft(o,"set",n,i):ft(o,"add",n,i),this},delete(n){const i=ee(this),{has:o,get:a}=or(i);let l=o.call(i,n);l||(n=ee(n),l=o.call(i,n)),a&&a.call(i,n);const u=i.delete(n);return l&&ft(i,"delete",n,void 0),u},clear(){const n=ee(this),i=n.size!==0,o=n.clear();return i&&ft(n,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=cc(n,t,e)}),s}function ii(t,e){const s=uc(t,e);return(r,n,i)=>n==="__v_isReactive"?!t:n==="__v_isReadonly"?t:n==="__v_raw"?r:Reflect.get(X(s,n)&&n in r?s:r,n,i)}const dc={get:ii(!1,!1)},hc={get:ii(!1,!0)},fc={get:ii(!0,!1)};const ra=new WeakMap,na=new WeakMap,ia=new WeakMap,pc=new WeakMap;function gc(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function mc(t){return t.__v_skip||!Object.isExtensible(t)?0:gc(Fl(t))}function oi(t){return Ft(t)?t:ai(t,!1,oc,dc,ra)}function bc(t){return ai(t,!1,lc,hc,na)}function oa(t){return ai(t,!0,ac,fc,ia)}function ai(t,e,s,r,n){if(!le(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=mc(t);if(i===0)return t;const o=n.get(t);if(o)return o;const a=new Proxy(t,i===2?r:s);return n.set(t,a),a}function is(t){return Ft(t)?is(t.__v_raw):!!(t&&t.__v_isReactive)}function Ft(t){return!!(t&&t.__v_isReadonly)}function Ve(t){return!!(t&&t.__v_isShallow)}function li(t){return t?!!t.__v_raw:!1}function ee(t){const e=t&&t.__v_raw;return e?ee(e):t}function _c(t){return!X(t,"__v_skip")&&Object.isExtensible(t)&&Sn(t,"__v_skip",!0),t}const Se=t=>le(t)?oi(t):t,Sr=t=>le(t)?oa(t):t;function ke(t){return t?t.__v_isRef===!0:!1}function yc(t){return ke(t)?t.value:t}const wc={get:(t,e,s)=>e==="__v_raw"?t:yc(Reflect.get(t,e,s)),set:(t,e,s,r)=>{const n=t[e];return ke(n)&&!ke(s)?(n.value=s,!0):Reflect.set(t,e,s,r)}};function aa(t){return is(t)?t:new Proxy(t,wc)}class vc{constructor(e,s,r){this.fn=e,this.setter=s,this._value=void 0,this.dep=new Xo(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ms-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&oe!==this)return Jo(this,!0),!0}get value(){const e=this.dep.track();return Qo(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Sc(t,e,s=!1){let r,n;return K(t)?r=t:(r=t.get,n=t.set),new vc(r,n,s)}const lr={},Er=new WeakMap;let Bt;function Ec(t,e=!1,s=Bt){if(s){let r=Er.get(s);r||Er.set(s,r=[]),r.push(t)}}function kc(t,e,s=te){const{immediate:r,deep:n,once:i,scheduler:o,augmentJob:a,call:l}=s,u=O=>n?O:Ve(O)||n===!1||n===0?pt(O,1):pt(O);let c,h,g,b,m=!1,w=!1;if(ke(t)?(h=()=>t.value,m=Ve(t)):is(t)?(h=()=>u(t),m=!0):N(t)?(w=!0,m=t.some(O=>is(O)||Ve(O)),h=()=>t.map(O=>{if(ke(O))return O.value;if(is(O))return u(O);if(K(O))return l?l(O,2):O()})):K(t)?e?h=l?()=>l(t,2):t:h=()=>{if(g){_t();try{g()}finally{yt()}}const O=Bt;Bt=c;try{return l?l(t,3,[b]):t(b)}finally{Bt=O}}:h=ot,e&&n){const O=h,M=n===!0?1/0:n;h=()=>pt(O(),M)}const y=Xl(),P=()=>{c.stop(),y&&y.active&&Xn(y.effects,c)};if(i&&e){const O=e;e=(...M)=>{O(...M),P()}}let C=w?new Array(t.length).fill(lr):lr;const S=O=>{if(!(!(c.flags&1)||!c.dirty&&!O))if(e){const M=c.run();if(n||m||(w?M.some((q,H)=>Lt(q,C[H])):Lt(M,C))){g&&g();const q=Bt;Bt=c;try{const H=[M,C===lr?void 0:w&&C[0]===lr?[]:C,b];C=M,l?l(e,3,H):e(...H)}finally{Bt=q}}}else c.run()};return a&&a(S),c=new Vo(h),c.scheduler=o?()=>o(S,!1):S,b=O=>Ec(O,!1,c),g=c.onStop=()=>{const O=Er.get(c);if(O){if(l)l(O,4);else for(const M of O)M();Er.delete(c)}},e?r?S(!0):C=c.run():o?o(S.bind(null,!0),!0):c.run(),P.pause=c.pause.bind(c),P.resume=c.resume.bind(c),P.stop=P,P}function pt(t,e=1/0,s){if(e<=0||!le(t)||t.__v_skip||(s=s||new Set,s.has(t)))return t;if(s.add(t),e--,ke(t))pt(t.value,e,s);else if(N(t))for(let r=0;r<t.length;r++)pt(t[r],e,s);else if(hs(t)||ns(t))t.forEach(r=>{pt(r,e,s)});else if(Fo(t)){for(const r in t)pt(t[r],e,s);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&pt(t[r],e,s)}return t}/**
* @vue/runtime-core v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Gs(t,e,s,r){try{return r?t(...r):t()}catch(n){Ur(n,e,s)}}function lt(t,e,s,r){if(K(t)){const n=Gs(t,e,s,r);return n&&No(n)&&n.catch(i=>{Ur(i,e,s)}),n}if(N(t)){const n=[];for(let i=0;i<t.length;i++)n.push(lt(t[i],e,s,r));return n}}function Ur(t,e,s,r=!0){const n=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||te;if(e){let a=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const c=a.ec;if(c){for(let h=0;h<c.length;h++)if(c[h](t,l,u)===!1)return}a=a.parent}if(i){_t(),Gs(i,null,10,[t,l,u]),yt();return}}Tc(t,s,n,r,o)}function Tc(t,e,s,r=!0,n=!1){if(n)throw t;console.error(t)}const Ee=[];let rt=-1;const os=[];let kt=null,es=0;const la=Promise.resolve();let kr=null;function ca(t){const e=kr||la;return t?e.then(this?t.bind(this):t):e}function xc(t){let e=rt+1,s=Ee.length;for(;e<s;){const r=e+s>>>1,n=Ee[r],i=qs(n);i<t||i===t&&n.flags&2?e=r+1:s=r}return e}function ci(t){if(!(t.flags&1)){const e=qs(t),s=Ee[Ee.length-1];!s||!(t.flags&2)&&e>=qs(s)?Ee.push(t):Ee.splice(xc(e),0,t),t.flags|=1,ua()}}function ua(){kr||(kr=la.then(ha))}function Oc(t){N(t)?os.push(...t):kt&&t.id===-1?kt.splice(es+1,0,t):t.flags&1||(os.push(t),t.flags|=1),ua()}function Pi(t,e,s=rt+1){for(;s<Ee.length;s++){const r=Ee[s];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;Ee.splice(s,1),s--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function da(t){if(os.length){const e=[...new Set(os)].sort((s,r)=>qs(s)-qs(r));if(os.length=0,kt){kt.push(...e);return}for(kt=e,es=0;es<kt.length;es++){const s=kt[es];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}kt=null,es=0}}const qs=t=>t.id==null?t.flags&2?-1:1/0:t.id;function ha(t){try{for(rt=0;rt<Ee.length;rt++){const e=Ee[rt];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Gs(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;rt<Ee.length;rt++){const e=Ee[rt];e&&(e.flags&=-2)}rt=-1,Ee.length=0,da(),kr=null,(Ee.length||os.length)&&ha()}}let Ue=null,fa=null;function Tr(t){const e=Ue;return Ue=t,fa=t&&t.type.__scopeId||null,e}function Cc(t,e=Ue,s){if(!e||t._n)return t;const r=(...n)=>{r._d&&Mi(-1);const i=Tr(e);let o;try{o=t(...n)}finally{Tr(i),r._d&&Mi(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Y(t,e){if(Ue===null)return t;const s=Fr(Ue),r=t.dirs||(t.dirs=[]);for(let n=0;n<e.length;n++){let[i,o,a,l=te]=e[n];i&&(K(i)&&(i={mounted:i,updated:i}),i.deep&&pt(o),r.push({dir:i,instance:s,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function Pt(t,e,s,r){const n=t.dirs,i=e&&e.dirs;for(let o=0;o<n.length;o++){const a=n[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(_t(),lt(l,s,8,[t.el,a,t,e]),yt())}}const Ac=Symbol("_vte"),Pc=t=>t.__isTeleport;function ui(t,e){t.shapeFlag&6&&t.component?(t.transition=e,ui(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function pa(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Is(t,e,s,r,n=!1){if(N(t)){t.forEach((m,w)=>Is(m,e&&(N(e)?e[w]:e),s,r,n));return}if(Bs(r)&&!n){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Is(t,e,s,r.component.subTree);return}const i=r.shapeFlag&4?Fr(r.component):r.el,o=n?null:i,{i:a,r:l}=t,u=e&&e.r,c=a.refs===te?a.refs={}:a.refs,h=a.setupState,g=ee(h),b=h===te?()=>!1:m=>X(g,m);if(u!=null&&u!==l&&(ue(u)?(c[u]=null,b(u)&&(h[u]=null)):ke(u)&&(u.value=null)),K(l))Gs(l,a,12,[o,c]);else{const m=ue(l),w=ke(l);if(m||w){const y=()=>{if(t.f){const P=m?b(l)?h[l]:c[l]:l.value;n?N(P)&&Xn(P,i):N(P)?P.includes(i)||P.push(i):m?(c[l]=[i],b(l)&&(h[l]=c[l])):(l.value=[i],t.k&&(c[t.k]=l.value))}else m?(c[l]=o,b(l)&&(h[l]=o)):w&&(l.value=o,t.k&&(c[t.k]=o))};o?(y.id=-1,$e(y,s)):y()}}}$r().requestIdleCallback;$r().cancelIdleCallback;const Bs=t=>!!t.type.__asyncLoader,ga=t=>t.type.__isKeepAlive;function Rc(t,e){ma(t,"a",e)}function jc(t,e){ma(t,"da",e)}function ma(t,e,s=ye){const r=t.__wdc||(t.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return t()});if(Lr(e,r,s),s){let n=s.parent;for(;n&&n.parent;)ga(n.parent.vnode)&&Ic(r,e,s,n),n=n.parent}}function Ic(t,e,s,r){const n=Lr(e,t,r,!0);ba(()=>{Xn(r[e],n)},s)}function Lr(t,e,s=ye,r=!1){if(s){const n=s[t]||(s[t]=[]),i=e.__weh||(e.__weh=(...o)=>{_t();const a=Qs(s),l=lt(e,s,t,o);return a(),yt(),l});return r?n.unshift(i):n.push(i),i}}const wt=t=>(e,s=ye)=>{(!Ws||t==="sp")&&Lr(t,(...r)=>e(...r),s)},Bc=wt("bm"),$c=wt("m"),Dc=wt("bu"),Uc=wt("u"),Lc=wt("bum"),ba=wt("um"),Nc=wt("sp"),Mc=wt("rtg"),Fc=wt("rtc");function qc(t,e=ye){Lr("ec",t,e)}const _a="components";function Hc(t,e){return wa(_a,t,!0,e)||t}const ya=Symbol.for("v-ndc");function Wc(t){return ue(t)?wa(_a,t,!1)||t:t||ya}function wa(t,e,s=!0,r=!1){const n=Ue||ye;if(n){const i=n.type;{const a=ju(i,!1);if(a&&(a===e||a===Me(e)||a===Br(Me(e))))return i}const o=Ri(n[t]||i[t],e)||Ri(n.appContext[t],e);return!o&&r?i:o}}function Ri(t,e){return t&&(t[e]||t[Me(e)]||t[Br(Me(e))])}function Ke(t,e,s,r){let n;const i=s,o=N(t);if(o||ue(t)){const a=o&&is(t);let l=!1,u=!1;a&&(l=!Ve(t),u=Ft(t),t=Dr(t)),n=new Array(t.length);for(let c=0,h=t.length;c<h;c++)n[c]=e(l?u?Sr(Se(t[c])):Se(t[c]):t[c],c,void 0,i)}else if(typeof t=="number"){n=new Array(t);for(let a=0;a<t;a++)n[a]=e(a+1,a,void 0,i)}else if(le(t))if(t[Symbol.iterator])n=Array.from(t,(a,l)=>e(a,l,void 0,i));else{const a=Object.keys(t);n=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];n[l]=e(t[c],c,l,i)}}else n=[];return n}const On=t=>t?Fa(t)?Fr(t):On(t.parent):null,$s=Te(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>On(t.parent),$root:t=>On(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Sa(t),$forceUpdate:t=>t.f||(t.f=()=>{ci(t.update)}),$nextTick:t=>t.n||(t.n=ca.bind(t.proxy)),$watch:t=>hu.bind(t)}),nn=(t,e)=>t!==te&&!t.__isScriptSetup&&X(t,e),Vc={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:s,setupState:r,data:n,props:i,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const b=o[e];if(b!==void 0)switch(b){case 1:return r[e];case 2:return n[e];case 4:return s[e];case 3:return i[e]}else{if(nn(r,e))return o[e]=1,r[e];if(n!==te&&X(n,e))return o[e]=2,n[e];if((u=t.propsOptions[0])&&X(u,e))return o[e]=3,i[e];if(s!==te&&X(s,e))return o[e]=4,s[e];Cn&&(o[e]=0)}}const c=$s[e];let h,g;if(c)return e==="$attrs"&&_e(t.attrs,"get",""),c(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(s!==te&&X(s,e))return o[e]=4,s[e];if(g=l.config.globalProperties,X(g,e))return g[e]},set({_:t},e,s){const{data:r,setupState:n,ctx:i}=t;return nn(n,e)?(n[e]=s,!0):r!==te&&X(r,e)?(r[e]=s,!0):X(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:r,appContext:n,propsOptions:i}},o){let a;return!!s[o]||t!==te&&X(t,o)||nn(e,o)||(a=i[0])&&X(a,o)||X(r,o)||X($s,o)||X(n.config.globalProperties,o)},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:X(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function ji(t){return N(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}let Cn=!0;function Kc(t){const e=Sa(t),s=t.proxy,r=t.ctx;Cn=!1,e.beforeCreate&&Ii(e.beforeCreate,t,"bc");const{data:n,computed:i,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:h,mounted:g,beforeUpdate:b,updated:m,activated:w,deactivated:y,beforeDestroy:P,beforeUnmount:C,destroyed:S,unmounted:O,render:M,renderTracked:q,renderTriggered:H,errorCaptured:ce,serverPrefetch:pe,expose:ze,inheritAttrs:vt,components:ct,directives:Ge,filters:qe}=e;if(u&&Jc(u,r,null),o)for(const re in o){const G=o[re];K(G)&&(r[re]=G.bind(s))}if(n){const re=n.call(s,s);le(re)&&(t.data=oi(re))}if(Cn=!0,i)for(const re in i){const G=i[re],Qe=K(G)?G.bind(s,s):K(G.get)?G.get.bind(s,s):ot,Vt=!K(G)&&K(G.set)?G.set.bind(s):ot,be=Bu({get:Qe,set:Vt});Object.defineProperty(r,re,{enumerable:!0,configurable:!0,get:()=>be.value,set:me=>be.value=me})}if(a)for(const re in a)va(a[re],r,s,re);if(l){const re=K(l)?l.call(s):l;Reflect.ownKeys(re).forEach(G=>{Zc(G,re[G])})}c&&Ii(c,t,"c");function se(re,G){N(G)?G.forEach(Qe=>re(Qe.bind(s))):G&&re(G.bind(s))}if(se(Bc,h),se($c,g),se(Dc,b),se(Uc,m),se(Rc,w),se(jc,y),se(qc,ce),se(Fc,q),se(Mc,H),se(Lc,C),se(ba,O),se(Nc,pe),N(ze))if(ze.length){const re=t.exposed||(t.exposed={});ze.forEach(G=>{Object.defineProperty(re,G,{get:()=>s[G],set:Qe=>s[G]=Qe,enumerable:!0})})}else t.exposed||(t.exposed={});M&&t.render===ot&&(t.render=M),vt!=null&&(t.inheritAttrs=vt),ct&&(t.components=ct),Ge&&(t.directives=Ge),pe&&pa(t)}function Jc(t,e,s=ot){N(t)&&(t=An(t));for(const r in t){const n=t[r];let i;le(n)?"default"in n?i=pr(n.from||r,n.default,!0):i=pr(n.from||r):i=pr(n),ke(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function Ii(t,e,s){lt(N(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,s)}function va(t,e,s,r){let n=r.includes(".")?$a(s,r):()=>s[r];if(ue(t)){const i=e[t];K(i)&&an(n,i)}else if(K(t))an(n,t.bind(s));else if(le(t))if(N(t))t.forEach(i=>va(i,e,s,r));else{const i=K(t.handler)?t.handler.bind(s):e[t.handler];K(i)&&an(n,i,t)}}function Sa(t){const e=t.type,{mixins:s,extends:r}=e,{mixins:n,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!n.length&&!s&&!r?l=e:(l={},n.length&&n.forEach(u=>xr(l,u,o,!0)),xr(l,e,o)),le(e)&&i.set(e,l),l}function xr(t,e,s,r=!1){const{mixins:n,extends:i}=e;i&&xr(t,i,s,!0),n&&n.forEach(o=>xr(t,o,s,!0));for(const o in e)if(!(r&&o==="expose")){const a=zc[o]||s&&s[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const zc={data:Bi,props:$i,emits:$i,methods:Os,computed:Os,beforeCreate:ve,created:ve,beforeMount:ve,mounted:ve,beforeUpdate:ve,updated:ve,beforeDestroy:ve,beforeUnmount:ve,destroyed:ve,unmounted:ve,activated:ve,deactivated:ve,errorCaptured:ve,serverPrefetch:ve,components:Os,directives:Os,watch:Qc,provide:Bi,inject:Gc};function Bi(t,e){return e?t?function(){return Te(K(t)?t.call(this,this):t,K(e)?e.call(this,this):e)}:e:t}function Gc(t,e){return Os(An(t),An(e))}function An(t){if(N(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function ve(t,e){return t?[...new Set([].concat(t,e))]:e}function Os(t,e){return t?Te(Object.create(null),t,e):e}function $i(t,e){return t?N(t)&&N(e)?[...new Set([...t,...e])]:Te(Object.create(null),ji(t),ji(e??{})):e}function Qc(t,e){if(!t)return e;if(!e)return t;const s=Te(Object.create(null),t);for(const r in e)s[r]=ve(t[r],e[r]);return s}function Ea(){return{app:null,config:{isNativeTag:Nl,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Yc=0;function Xc(t,e){return function(r,n=null){K(r)||(r=Te({},r)),n!=null&&!le(n)&&(n=null);const i=Ea(),o=new WeakSet,a=[];let l=!1;const u=i.app={_uid:Yc++,_component:r,_props:n,_container:null,_context:i,_instance:null,version:$u,get config(){return i.config},set config(c){},use(c,...h){return o.has(c)||(c&&K(c.install)?(o.add(c),c.install(u,...h)):K(c)&&(o.add(c),c(u,...h))),u},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),u},component(c,h){return h?(i.components[c]=h,u):i.components[c]},directive(c,h){return h?(i.directives[c]=h,u):i.directives[c]},mount(c,h,g){if(!l){const b=u._ceVNode||mt(r,n);return b.appContext=i,g===!0?g="svg":g===!1&&(g=void 0),t(b,c,g),l=!0,u._container=c,c.__vue_app__=u,Fr(b.component)}},onUnmount(c){a.push(c)},unmount(){l&&(lt(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(c,h){return i.provides[c]=h,u},runWithContext(c){const h=as;as=u;try{return c()}finally{as=h}}};return u}}let as=null;function Zc(t,e){if(ye){let s=ye.provides;const r=ye.parent&&ye.parent.provides;r===s&&(s=ye.provides=Object.create(r)),s[t]=e}}function pr(t,e,s=!1){const r=Ou();if(r||as){let n=as?as._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(n&&t in n)return n[t];if(arguments.length>1)return s&&K(e)?e.call(r&&r.proxy):e}}const ka={},Ta=()=>Object.create(ka),xa=t=>Object.getPrototypeOf(t)===ka;function eu(t,e,s,r=!1){const n={},i=Ta();t.propsDefaults=Object.create(null),Oa(t,e,n,i);for(const o in t.propsOptions[0])o in n||(n[o]=void 0);s?t.props=r?n:bc(n):t.type.props?t.props=n:t.props=i,t.attrs=i}function tu(t,e,s,r){const{props:n,attrs:i,vnode:{patchFlag:o}}=t,a=ee(n),[l]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let h=0;h<c.length;h++){let g=c[h];if(Nr(t.emitsOptions,g))continue;const b=e[g];if(l)if(X(i,g))b!==i[g]&&(i[g]=b,u=!0);else{const m=Me(g);n[m]=Pn(l,a,m,b,t,!1)}else b!==i[g]&&(i[g]=b,u=!0)}}}else{Oa(t,e,n,i)&&(u=!0);let c;for(const h in a)(!e||!X(e,h)&&((c=Ht(h))===h||!X(e,c)))&&(l?s&&(s[h]!==void 0||s[c]!==void 0)&&(n[h]=Pn(l,a,h,void 0,t,!0)):delete n[h]);if(i!==a)for(const h in i)(!e||!X(e,h))&&(delete i[h],u=!0)}u&&ft(t.attrs,"set","")}function Oa(t,e,s,r){const[n,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Ps(l))continue;const u=e[l];let c;n&&X(n,c=Me(l))?!i||!i.includes(c)?s[c]=u:(a||(a={}))[c]=u:Nr(t.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(i){const l=ee(s),u=a||te;for(let c=0;c<i.length;c++){const h=i[c];s[h]=Pn(n,l,h,u[h],t,!X(u,h))}}return o}function Pn(t,e,s,r,n,i){const o=t[s];if(o!=null){const a=X(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&K(l)){const{propsDefaults:u}=n;if(s in u)r=u[s];else{const c=Qs(n);r=u[s]=l.call(null,e),c()}}else r=l;n.ce&&n.ce._setProp(s,r)}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===Ht(s))&&(r=!0))}return r}const su=new WeakMap;function Ca(t,e,s=!1){const r=s?su:e.propsCache,n=r.get(t);if(n)return n;const i=t.props,o={},a=[];let l=!1;if(!K(t)){const c=h=>{l=!0;const[g,b]=Ca(h,e,!0);Te(o,g),b&&a.push(...b)};!s&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!i&&!l)return le(t)&&r.set(t,rs),rs;if(N(i))for(let c=0;c<i.length;c++){const h=Me(i[c]);Di(h)&&(o[h]=te)}else if(i)for(const c in i){const h=Me(c);if(Di(h)){const g=i[c],b=o[h]=N(g)||K(g)?{type:g}:Te({},g),m=b.type;let w=!1,y=!0;if(N(m))for(let P=0;P<m.length;++P){const C=m[P],S=K(C)&&C.name;if(S==="Boolean"){w=!0;break}else S==="String"&&(y=!1)}else w=K(m)&&m.name==="Boolean";b[0]=w,b[1]=y,(w||X(b,"default"))&&a.push(h)}}const u=[o,a];return le(t)&&r.set(t,u),u}function Di(t){return t[0]!=="$"&&!Ps(t)}const di=t=>t==="_"||t==="__"||t==="_ctx"||t==="$stable",hi=t=>N(t)?t.map(it):[it(t)],ru=(t,e,s)=>{if(e._n)return e;const r=Cc((...n)=>hi(e(...n)),s);return r._c=!1,r},Aa=(t,e,s)=>{const r=t._ctx;for(const n in t){if(di(n))continue;const i=t[n];if(K(i))e[n]=ru(n,i,r);else if(i!=null){const o=hi(i);e[n]=()=>o}}},Pa=(t,e)=>{const s=hi(e);t.slots.default=()=>s},Ra=(t,e,s)=>{for(const r in e)(s||!di(r))&&(t[r]=e[r])},nu=(t,e,s)=>{const r=t.slots=Ta();if(t.vnode.shapeFlag&32){const n=e.__;n&&Sn(r,"__",n,!0);const i=e._;i?(Ra(r,e,s),s&&Sn(r,"_",i,!0)):Aa(e,r)}else e&&Pa(t,e)},iu=(t,e,s)=>{const{vnode:r,slots:n}=t;let i=!0,o=te;if(r.shapeFlag&32){const a=e._;a?s&&a===1?i=!1:Ra(n,e,s):(i=!e.$stable,Aa(e,n)),o=e}else e&&(Pa(t,e),o={default:1});if(i)for(const a in n)!di(a)&&o[a]==null&&delete n[a]},$e=yu;function ou(t){return au(t)}function au(t,e){const s=$r();s.__VUE__=!0;const{insert:r,remove:n,patchProp:i,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:h,nextSibling:g,setScopeId:b=ot,insertStaticContent:m}=t,w=(f,p,v,T=null,E=null,k=null,j=void 0,R=null,A=!!p.dynamicChildren)=>{if(f===p)return;f&&!Es(f,p)&&(T=ir(f),me(f,E,k,!0),f=null),p.patchFlag===-2&&(A=!1,p.dynamicChildren=null);const{type:x,ref:L,shapeFlag:I}=p;switch(x){case Mr:y(f,p,v,T);break;case Ct:P(f,p,v,T);break;case ln:f==null&&C(p,v,T,j);break;case fe:ct(f,p,v,T,E,k,j,R,A);break;default:I&1?M(f,p,v,T,E,k,j,R,A):I&6?Ge(f,p,v,T,E,k,j,R,A):(I&64||I&128)&&x.process(f,p,v,T,E,k,j,R,A,ws)}L!=null&&E?Is(L,f&&f.ref,k,p||f,!p):L==null&&f&&f.ref!=null&&Is(f.ref,null,k,f,!0)},y=(f,p,v,T)=>{if(f==null)r(p.el=a(p.children),v,T);else{const E=p.el=f.el;p.children!==f.children&&u(E,p.children)}},P=(f,p,v,T)=>{f==null?r(p.el=l(p.children||""),v,T):p.el=f.el},C=(f,p,v,T)=>{[f.el,f.anchor]=m(f.children,p,v,T,f.el,f.anchor)},S=({el:f,anchor:p},v,T)=>{let E;for(;f&&f!==p;)E=g(f),r(f,v,T),f=E;r(p,v,T)},O=({el:f,anchor:p})=>{let v;for(;f&&f!==p;)v=g(f),n(f),f=v;n(p)},M=(f,p,v,T,E,k,j,R,A)=>{p.type==="svg"?j="svg":p.type==="math"&&(j="mathml"),f==null?q(p,v,T,E,k,j,R,A):pe(f,p,E,k,j,R,A)},q=(f,p,v,T,E,k,j,R)=>{let A,x;const{props:L,shapeFlag:I,transition:U,dirs:F}=f;if(A=f.el=o(f.type,k,L&&L.is,L),I&8?c(A,f.children):I&16&&ce(f.children,A,null,T,E,on(f,k),j,R),F&&Pt(f,null,T,"created"),H(A,f,f.scopeId,j,T),L){for(const ne in L)ne!=="value"&&!Ps(ne)&&i(A,ne,null,L[ne],k,T);"value"in L&&i(A,"value",null,L.value,k),(x=L.onVnodeBeforeMount)&&et(x,T,f)}F&&Pt(f,null,T,"beforeMount");const Q=lu(E,U);Q&&U.beforeEnter(A),r(A,p,v),((x=L&&L.onVnodeMounted)||Q||F)&&$e(()=>{x&&et(x,T,f),Q&&U.enter(A),F&&Pt(f,null,T,"mounted")},E)},H=(f,p,v,T,E)=>{if(v&&b(f,v),T)for(let k=0;k<T.length;k++)b(f,T[k]);if(E){let k=E.subTree;if(p===k||Ua(k.type)&&(k.ssContent===p||k.ssFallback===p)){const j=E.vnode;H(f,j,j.scopeId,j.slotScopeIds,E.parent)}}},ce=(f,p,v,T,E,k,j,R,A=0)=>{for(let x=A;x<f.length;x++){const L=f[x]=R?Tt(f[x]):it(f[x]);w(null,L,p,v,T,E,k,j,R)}},pe=(f,p,v,T,E,k,j)=>{const R=p.el=f.el;let{patchFlag:A,dynamicChildren:x,dirs:L}=p;A|=f.patchFlag&16;const I=f.props||te,U=p.props||te;let F;if(v&&Rt(v,!1),(F=U.onVnodeBeforeUpdate)&&et(F,v,p,f),L&&Pt(p,f,v,"beforeUpdate"),v&&Rt(v,!0),(I.innerHTML&&U.innerHTML==null||I.textContent&&U.textContent==null)&&c(R,""),x?ze(f.dynamicChildren,x,R,v,T,on(p,E),k):j||G(f,p,R,null,v,T,on(p,E),k,!1),A>0){if(A&16)vt(R,I,U,v,E);else if(A&2&&I.class!==U.class&&i(R,"class",null,U.class,E),A&4&&i(R,"style",I.style,U.style,E),A&8){const Q=p.dynamicProps;for(let ne=0;ne<Q.length;ne++){const Z=Q[ne],xe=I[Z],Oe=U[Z];(Oe!==xe||Z==="value")&&i(R,Z,xe,Oe,E,v)}}A&1&&f.children!==p.children&&c(R,p.children)}else!j&&x==null&&vt(R,I,U,v,E);((F=U.onVnodeUpdated)||L)&&$e(()=>{F&&et(F,v,p,f),L&&Pt(p,f,v,"updated")},T)},ze=(f,p,v,T,E,k,j)=>{for(let R=0;R<p.length;R++){const A=f[R],x=p[R],L=A.el&&(A.type===fe||!Es(A,x)||A.shapeFlag&198)?h(A.el):v;w(A,x,L,null,T,E,k,j,!0)}},vt=(f,p,v,T,E)=>{if(p!==v){if(p!==te)for(const k in p)!Ps(k)&&!(k in v)&&i(f,k,p[k],null,E,T);for(const k in v){if(Ps(k))continue;const j=v[k],R=p[k];j!==R&&k!=="value"&&i(f,k,R,j,E,T)}"value"in v&&i(f,"value",p.value,v.value,E)}},ct=(f,p,v,T,E,k,j,R,A)=>{const x=p.el=f?f.el:a(""),L=p.anchor=f?f.anchor:a("");let{patchFlag:I,dynamicChildren:U,slotScopeIds:F}=p;F&&(R=R?R.concat(F):F),f==null?(r(x,v,T),r(L,v,T),ce(p.children||[],v,L,E,k,j,R,A)):I>0&&I&64&&U&&f.dynamicChildren?(ze(f.dynamicChildren,U,v,E,k,j,R),(p.key!=null||E&&p===E.subTree)&&ja(f,p,!0)):G(f,p,v,L,E,k,j,R,A)},Ge=(f,p,v,T,E,k,j,R,A)=>{p.slotScopeIds=R,f==null?p.shapeFlag&512?E.ctx.activate(p,v,T,j,A):qe(p,v,T,E,k,j,A):_s(f,p,A)},qe=(f,p,v,T,E,k,j)=>{const R=f.component=xu(f,T,E);if(ga(f)&&(R.ctx.renderer=ws),Cu(R,!1,j),R.asyncDep){if(E&&E.registerDep(R,se,j),!f.el){const A=R.subTree=mt(Ct);P(null,A,p,v),f.placeholder=A.el}}else se(R,f,p,v,E,k,j)},_s=(f,p,v)=>{const T=p.component=f.component;if(bu(f,p,v))if(T.asyncDep&&!T.asyncResolved){re(T,p,v);return}else T.next=p,T.update();else p.el=f.el,T.vnode=p},se=(f,p,v,T,E,k,j)=>{const R=()=>{if(f.isMounted){let{next:I,bu:U,u:F,parent:Q,vnode:ne}=f;{const Xe=Ia(f);if(Xe){I&&(I.el=ne.el,re(f,I,j)),Xe.asyncDep.then(()=>{f.isUnmounted||R()});return}}let Z=I,xe;Rt(f,!1),I?(I.el=ne.el,re(f,I,j)):I=ne,U&&fr(U),(xe=I.props&&I.props.onVnodeBeforeUpdate)&&et(xe,Q,I,ne),Rt(f,!0);const Oe=Li(f),Ye=f.subTree;f.subTree=Oe,w(Ye,Oe,h(Ye.el),ir(Ye),f,E,k),I.el=Oe.el,Z===null&&_u(f,Oe.el),F&&$e(F,E),(xe=I.props&&I.props.onVnodeUpdated)&&$e(()=>et(xe,Q,I,ne),E)}else{let I;const{el:U,props:F}=p,{bm:Q,m:ne,parent:Z,root:xe,type:Oe}=f,Ye=Bs(p);Rt(f,!1),Q&&fr(Q),!Ye&&(I=F&&F.onVnodeBeforeMount)&&et(I,Z,p),Rt(f,!0);{xe.ce&&xe.ce._def.shadowRoot!==!1&&xe.ce._injectChildStyle(Oe);const Xe=f.subTree=Li(f);w(null,Xe,v,T,f,E,k),p.el=Xe.el}if(ne&&$e(ne,E),!Ye&&(I=F&&F.onVnodeMounted)){const Xe=p;$e(()=>et(I,Z,Xe),E)}(p.shapeFlag&256||Z&&Bs(Z.vnode)&&Z.vnode.shapeFlag&256)&&f.a&&$e(f.a,E),f.isMounted=!0,p=v=T=null}};f.scope.on();const A=f.effect=new Vo(R);f.scope.off();const x=f.update=A.run.bind(A),L=f.job=A.runIfDirty.bind(A);L.i=f,L.id=f.uid,A.scheduler=()=>ci(L),Rt(f,!0),x()},re=(f,p,v)=>{p.component=f;const T=f.vnode.props;f.vnode=p,f.next=null,tu(f,p.props,T,v),iu(f,p.children,v),_t(),Pi(f),yt()},G=(f,p,v,T,E,k,j,R,A=!1)=>{const x=f&&f.children,L=f?f.shapeFlag:0,I=p.children,{patchFlag:U,shapeFlag:F}=p;if(U>0){if(U&128){Vt(x,I,v,T,E,k,j,R,A);return}else if(U&256){Qe(x,I,v,T,E,k,j,R,A);return}}F&8?(L&16&&ys(x,E,k),I!==x&&c(v,I)):L&16?F&16?Vt(x,I,v,T,E,k,j,R,A):ys(x,E,k,!0):(L&8&&c(v,""),F&16&&ce(I,v,T,E,k,j,R,A))},Qe=(f,p,v,T,E,k,j,R,A)=>{f=f||rs,p=p||rs;const x=f.length,L=p.length,I=Math.min(x,L);let U;for(U=0;U<I;U++){const F=p[U]=A?Tt(p[U]):it(p[U]);w(f[U],F,v,null,E,k,j,R,A)}x>L?ys(f,E,k,!0,!1,I):ce(p,v,T,E,k,j,R,A,I)},Vt=(f,p,v,T,E,k,j,R,A)=>{let x=0;const L=p.length;let I=f.length-1,U=L-1;for(;x<=I&&x<=U;){const F=f[x],Q=p[x]=A?Tt(p[x]):it(p[x]);if(Es(F,Q))w(F,Q,v,null,E,k,j,R,A);else break;x++}for(;x<=I&&x<=U;){const F=f[I],Q=p[U]=A?Tt(p[U]):it(p[U]);if(Es(F,Q))w(F,Q,v,null,E,k,j,R,A);else break;I--,U--}if(x>I){if(x<=U){const F=U+1,Q=F<L?p[F].el:T;for(;x<=U;)w(null,p[x]=A?Tt(p[x]):it(p[x]),v,Q,E,k,j,R,A),x++}}else if(x>U)for(;x<=I;)me(f[x],E,k,!0),x++;else{const F=x,Q=x,ne=new Map;for(x=Q;x<=U;x++){const Be=p[x]=A?Tt(p[x]):it(p[x]);Be.key!=null&&ne.set(Be.key,x)}let Z,xe=0;const Oe=U-Q+1;let Ye=!1,Xe=0;const vs=new Array(Oe);for(x=0;x<Oe;x++)vs[x]=0;for(x=F;x<=I;x++){const Be=f[x];if(xe>=Oe){me(Be,E,k,!0);continue}let Ze;if(Be.key!=null)Ze=ne.get(Be.key);else for(Z=Q;Z<=U;Z++)if(vs[Z-Q]===0&&Es(Be,p[Z])){Ze=Z;break}Ze===void 0?me(Be,E,k,!0):(vs[Ze-Q]=x+1,Ze>=Xe?Xe=Ze:Ye=!0,w(Be,p[Ze],v,null,E,k,j,R,A),xe++)}const Ei=Ye?cu(vs):rs;for(Z=Ei.length-1,x=Oe-1;x>=0;x--){const Be=Q+x,Ze=p[Be],ki=p[Be+1],Ti=Be+1<L?ki.el||ki.placeholder:T;vs[x]===0?w(null,Ze,v,Ti,E,k,j,R,A):Ye&&(Z<0||x!==Ei[Z]?be(Ze,v,Ti,2):Z--)}}},be=(f,p,v,T,E=null)=>{const{el:k,type:j,transition:R,children:A,shapeFlag:x}=f;if(x&6){be(f.component.subTree,p,v,T);return}if(x&128){f.suspense.move(p,v,T);return}if(x&64){j.move(f,p,v,ws);return}if(j===fe){r(k,p,v);for(let I=0;I<A.length;I++)be(A[I],p,v,T);r(f.anchor,p,v);return}if(j===ln){S(f,p,v);return}if(T!==2&&x&1&&R)if(T===0)R.beforeEnter(k),r(k,p,v),$e(()=>R.enter(k),E);else{const{leave:I,delayLeave:U,afterLeave:F}=R,Q=()=>{f.ctx.isUnmounted?n(k):r(k,p,v)},ne=()=>{I(k,()=>{Q(),F&&F()})};U?U(k,Q,ne):ne()}else r(k,p,v)},me=(f,p,v,T=!1,E=!1)=>{const{type:k,props:j,ref:R,children:A,dynamicChildren:x,shapeFlag:L,patchFlag:I,dirs:U,cacheIndex:F}=f;if(I===-2&&(E=!1),R!=null&&(_t(),Is(R,null,v,f,!0),yt()),F!=null&&(p.renderCache[F]=void 0),L&256){p.ctx.deactivate(f);return}const Q=L&1&&U,ne=!Bs(f);let Z;if(ne&&(Z=j&&j.onVnodeBeforeUnmount)&&et(Z,p,f),L&6)nr(f.component,v,T);else{if(L&128){f.suspense.unmount(v,T);return}Q&&Pt(f,null,p,"beforeUnmount"),L&64?f.type.remove(f,p,v,ws,T):x&&!x.hasOnce&&(k!==fe||I>0&&I&64)?ys(x,p,v,!1,!0):(k===fe&&I&384||!E&&L&16)&&ys(A,p,v),T&&Kt(f)}(ne&&(Z=j&&j.onVnodeUnmounted)||Q)&&$e(()=>{Z&&et(Z,p,f),Q&&Pt(f,null,p,"unmounted")},v)},Kt=f=>{const{type:p,el:v,anchor:T,transition:E}=f;if(p===fe){Jt(v,T);return}if(p===ln){O(f);return}const k=()=>{n(v),E&&!E.persisted&&E.afterLeave&&E.afterLeave()};if(f.shapeFlag&1&&E&&!E.persisted){const{leave:j,delayLeave:R}=E,A=()=>j(v,k);R?R(f.el,k,A):A()}else k()},Jt=(f,p)=>{let v;for(;f!==p;)v=g(f),n(f),f=v;n(p)},nr=(f,p,v)=>{const{bum:T,scope:E,job:k,subTree:j,um:R,m:A,a:x,parent:L,slots:{__:I}}=f;Ui(A),Ui(x),T&&fr(T),L&&N(I)&&I.forEach(U=>{L.renderCache[U]=void 0}),E.stop(),k&&(k.flags|=8,me(j,f,p,v)),R&&$e(R,p),$e(()=>{f.isUnmounted=!0},p),p&&p.pendingBranch&&!p.isUnmounted&&f.asyncDep&&!f.asyncResolved&&f.suspenseId===p.pendingId&&(p.deps--,p.deps===0&&p.resolve())},ys=(f,p,v,T=!1,E=!1,k=0)=>{for(let j=k;j<f.length;j++)me(f[j],p,v,T,E)},ir=f=>{if(f.shapeFlag&6)return ir(f.component.subTree);if(f.shapeFlag&128)return f.suspense.next();const p=g(f.anchor||f.el),v=p&&p[Ac];return v?g(v):p};let Xr=!1;const Si=(f,p,v)=>{f==null?p._vnode&&me(p._vnode,null,null,!0):w(p._vnode||null,f,p,null,null,null,v),p._vnode=f,Xr||(Xr=!0,Pi(),da(),Xr=!1)},ws={p:w,um:me,m:be,r:Kt,mt:qe,mc:ce,pc:G,pbc:ze,n:ir,o:t};return{render:Si,hydrate:void 0,createApp:Xc(Si)}}function on({type:t,props:e},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function Rt({effect:t,job:e},s){s?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function lu(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function ja(t,e,s=!1){const r=t.children,n=e.children;if(N(r)&&N(n))for(let i=0;i<r.length;i++){const o=r[i];let a=n[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[i]=Tt(n[i]),a.el=o.el),!s&&a.patchFlag!==-2&&ja(o,a)),a.type===Mr&&(a.el=o.el),a.type===Ct&&!a.el&&(a.el=o.el)}}function cu(t){const e=t.slice(),s=[0];let r,n,i,o,a;const l=t.length;for(r=0;r<l;r++){const u=t[r];if(u!==0){if(n=s[s.length-1],t[n]<u){e[r]=n,s.push(r);continue}for(i=0,o=s.length-1;i<o;)a=i+o>>1,t[s[a]]<u?i=a+1:o=a;u<t[s[i]]&&(i>0&&(e[r]=s[i-1]),s[i]=r)}}for(i=s.length,o=s[i-1];i-- >0;)s[i]=o,o=e[o];return s}function Ia(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Ia(e)}function Ui(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const uu=Symbol.for("v-scx"),du=()=>pr(uu);function an(t,e,s){return Ba(t,e,s)}function Ba(t,e,s=te){const{immediate:r,deep:n,flush:i,once:o}=s,a=Te({},s),l=e&&r||!e&&i!=="post";let u;if(Ws){if(i==="sync"){const b=du();u=b.__watcherHandles||(b.__watcherHandles=[])}else if(!l){const b=()=>{};return b.stop=ot,b.resume=ot,b.pause=ot,b}}const c=ye;a.call=(b,m,w)=>lt(b,c,m,w);let h=!1;i==="post"?a.scheduler=b=>{$e(b,c&&c.suspense)}:i!=="sync"&&(h=!0,a.scheduler=(b,m)=>{m?b():ci(b)}),a.augmentJob=b=>{e&&(b.flags|=4),h&&(b.flags|=2,c&&(b.id=c.uid,b.i=c))};const g=kc(t,e,a);return Ws&&(u?u.push(g):l&&g()),g}function hu(t,e,s){const r=this.proxy,n=ue(t)?t.includes(".")?$a(r,t):()=>r[t]:t.bind(r,r);let i;K(e)?i=e:(i=e.handler,s=e);const o=Qs(this),a=Ba(n,i.bind(r),s);return o(),a}function $a(t,e){const s=e.split(".");return()=>{let r=t;for(let n=0;n<s.length&&r;n++)r=r[s[n]];return r}}const fu=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Me(e)}Modifiers`]||t[`${Ht(e)}Modifiers`];function pu(t,e,...s){if(t.isUnmounted)return;const r=t.vnode.props||te;let n=s;const i=e.startsWith("update:"),o=i&&fu(r,e.slice(7));o&&(o.trim&&(n=s.map(c=>ue(c)?c.trim():c)),o.number&&(n=s.map(vr)));let a,l=r[a=Zr(e)]||r[a=Zr(Me(e))];!l&&i&&(l=r[a=Zr(Ht(e))]),l&&lt(l,t,6,n);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,lt(u,t,6,n)}}function Da(t,e,s=!1){const r=e.emitsCache,n=r.get(t);if(n!==void 0)return n;const i=t.emits;let o={},a=!1;if(!K(t)){const l=u=>{const c=Da(u,e,!0);c&&(a=!0,Te(o,c))};!s&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(le(t)&&r.set(t,null),null):(N(i)?i.forEach(l=>o[l]=null):Te(o,i),le(t)&&r.set(t,o),o)}function Nr(t,e){return!t||!jr(e)?!1:(e=e.slice(2).replace(/Once$/,""),X(t,e[0].toLowerCase()+e.slice(1))||X(t,Ht(e))||X(t,e))}function Li(t){const{type:e,vnode:s,proxy:r,withProxy:n,propsOptions:[i],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:h,data:g,setupState:b,ctx:m,inheritAttrs:w}=t,y=Tr(t);let P,C;try{if(s.shapeFlag&4){const O=n||r,M=O;P=it(u.call(M,O,c,h,b,g,m)),C=a}else{const O=e;P=it(O.length>1?O(h,{attrs:a,slots:o,emit:l}):O(h,null)),C=e.props?a:gu(a)}}catch(O){Ds.length=0,Ur(O,t,1),P=mt(Ct)}let S=P;if(C&&w!==!1){const O=Object.keys(C),{shapeFlag:M}=S;O.length&&M&7&&(i&&O.some(Yn)&&(C=mu(C,i)),S=ls(S,C,!1,!0))}return s.dirs&&(S=ls(S,null,!1,!0),S.dirs=S.dirs?S.dirs.concat(s.dirs):s.dirs),s.transition&&ui(S,s.transition),P=S,Tr(y),P}const gu=t=>{let e;for(const s in t)(s==="class"||s==="style"||jr(s))&&((e||(e={}))[s]=t[s]);return e},mu=(t,e)=>{const s={};for(const r in t)(!Yn(r)||!(r.slice(9)in e))&&(s[r]=t[r]);return s};function bu(t,e,s){const{props:r,children:n,component:i}=t,{props:o,children:a,patchFlag:l}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return r?Ni(r,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let h=0;h<c.length;h++){const g=c[h];if(o[g]!==r[g]&&!Nr(u,g))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Ni(r,o,u):!0:!!o;return!1}function Ni(t,e,s){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let n=0;n<r.length;n++){const i=r[n];if(e[i]!==t[i]&&!Nr(s,i))return!0}return!1}function _u({vnode:t,parent:e},s){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=s,e=e.parent;else break}}const Ua=t=>t.__isSuspense;function yu(t,e){e&&e.pendingBranch?N(t)?e.effects.push(...t):e.effects.push(t):Oc(t)}const fe=Symbol.for("v-fgt"),Mr=Symbol.for("v-txt"),Ct=Symbol.for("v-cmt"),ln=Symbol.for("v-stc"),Ds=[];let Le=null;function B(t=!1){Ds.push(Le=t?null:[])}function wu(){Ds.pop(),Le=Ds[Ds.length-1]||null}let Hs=1;function Mi(t,e=!1){Hs+=t,t<0&&Le&&e&&(Le.hasOnce=!0)}function La(t){return t.dynamicChildren=Hs>0?Le||rs:null,wu(),Hs>0&&Le&&Le.push(t),t}function D(t,e,s,r,n,i){return La(d(t,e,s,r,n,i,!0))}function Rn(t,e,s,r,n){return La(mt(t,e,s,r,n,!0))}function Na(t){return t?t.__v_isVNode===!0:!1}function Es(t,e){return t.type===e.type&&t.key===e.key}const Ma=({key:t})=>t??null,gr=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?ue(t)||ke(t)||K(t)?{i:Ue,r:t,k:e,f:!!s}:t:null);function d(t,e=null,s=null,r=0,n=null,i=t===fe?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Ma(e),ref:e&&gr(e),scopeId:fa,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:Ue};return a?(fi(l,s),i&128&&t.normalize(l)):s&&(l.shapeFlag|=ue(s)?8:16),Hs>0&&!o&&Le&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Le.push(l),l}const mt=vu;function vu(t,e=null,s=null,r=0,n=null,i=!1){if((!t||t===ya)&&(t=Ct),Na(t)){const a=ls(t,e,!0);return s&&fi(a,s),Hs>0&&!i&&Le&&(a.shapeFlag&6?Le[Le.indexOf(t)]=a:Le.push(a)),a.patchFlag=-2,a}if(Iu(t)&&(t=t.__vccOpts),e){e=Su(e);let{class:a,style:l}=e;a&&!ue(a)&&(e.class=De(a)),le(l)&&(li(l)&&!N(l)&&(l=Te({},l)),e.style=ei(l))}const o=ue(t)?1:Ua(t)?128:Pc(t)?64:le(t)?4:K(t)?2:0;return d(t,e,s,r,n,o,i,!0)}function Su(t){return t?li(t)||xa(t)?Te({},t):t:null}function ls(t,e,s=!1,r=!1){const{props:n,ref:i,patchFlag:o,children:a,transition:l}=t,u=e?Eu(n||{},e):n,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&Ma(u),ref:e&&e.ref?s&&i?N(i)?i.concat(gr(e)):[i,gr(e)]:gr(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==fe?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&ls(t.ssContent),ssFallback:t.ssFallback&&ls(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&ui(c,l.clone(c)),c}function gt(t=" ",e=0){return mt(Mr,null,t,e)}function z(t="",e=!1){return e?(B(),Rn(Ct,null,t)):mt(Ct,null,t)}function it(t){return t==null||typeof t=="boolean"?mt(Ct):N(t)?mt(fe,null,t.slice()):Na(t)?Tt(t):mt(Mr,null,String(t))}function Tt(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:ls(t)}function fi(t,e){let s=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(N(e))s=16;else if(typeof e=="object")if(r&65){const n=e.default;n&&(n._c&&(n._d=!1),fi(t,n()),n._c&&(n._d=!0));return}else{s=32;const n=e._;!n&&!xa(e)?e._ctx=Ue:n===3&&Ue&&(Ue.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else K(e)?(e={default:e,_ctx:Ue},s=32):(e=String(e),r&64?(s=16,e=[gt(e)]):s=8);t.children=e,t.shapeFlag|=s}function Eu(...t){const e={};for(let s=0;s<t.length;s++){const r=t[s];for(const n in r)if(n==="class")e.class!==r.class&&(e.class=De([e.class,r.class]));else if(n==="style")e.style=ei([e.style,r.style]);else if(jr(n)){const i=e[n],o=r[n];o&&i!==o&&!(N(i)&&i.includes(o))&&(e[n]=i?[].concat(i,o):o)}else n!==""&&(e[n]=r[n])}return e}function et(t,e,s,r=null){lt(t,e,7,[s,r])}const ku=Ea();let Tu=0;function xu(t,e,s){const r=t.type,n=(e?e.appContext:t.appContext)||ku,i={uid:Tu++,vnode:t,type:r,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Yl(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ca(r,n),emitsOptions:Da(r,n),emit:null,emitted:null,propsDefaults:te,inheritAttrs:r.inheritAttrs,ctx:te,data:te,props:te,attrs:te,slots:te,refs:te,setupState:te,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=pu.bind(null,i),t.ce&&t.ce(i),i}let ye=null;const Ou=()=>ye||Ue;let Or,jn;{const t=$r(),e=(s,r)=>{let n;return(n=t[s])||(n=t[s]=[]),n.push(r),i=>{n.length>1?n.forEach(o=>o(i)):n[0](i)}};Or=e("__VUE_INSTANCE_SETTERS__",s=>ye=s),jn=e("__VUE_SSR_SETTERS__",s=>Ws=s)}const Qs=t=>{const e=ye;return Or(t),t.scope.on(),()=>{t.scope.off(),Or(e)}},Fi=()=>{ye&&ye.scope.off(),Or(null)};function Fa(t){return t.vnode.shapeFlag&4}let Ws=!1;function Cu(t,e=!1,s=!1){e&&jn(e);const{props:r,children:n}=t.vnode,i=Fa(t);eu(t,r,i,e),nu(t,n,s||e);const o=i?Au(t,e):void 0;return e&&jn(!1),o}function Au(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Vc);const{setup:r}=s;if(r){_t();const n=t.setupContext=r.length>1?Ru(t):null,i=Qs(t),o=Gs(r,t,0,[t.props,n]),a=No(o);if(yt(),i(),(a||t.sp)&&!Bs(t)&&pa(t),a){if(o.then(Fi,Fi),e)return o.then(l=>{qi(t,l)}).catch(l=>{Ur(l,t,0)});t.asyncDep=o}else qi(t,o)}else qa(t)}function qi(t,e,s){K(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:le(e)&&(t.setupState=aa(e)),qa(t)}function qa(t,e,s){const r=t.type;t.render||(t.render=r.render||ot);{const n=Qs(t);_t();try{Kc(t)}finally{yt(),n()}}}const Pu={get(t,e){return _e(t,"get",""),t[e]}};function Ru(t){const e=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,Pu),slots:t.slots,emit:t.emit,expose:e}}function Fr(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(aa(_c(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in $s)return $s[s](t)},has(e,s){return s in e||s in $s}})):t.proxy}function ju(t,e=!0){return K(t)?t.displayName||t.name:t.name||e&&t.__name}function Iu(t){return K(t)&&"__vccOpts"in t}const Bu=(t,e)=>Sc(t,e,Ws),$u="3.5.18";/**
* @vue/runtime-dom v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let In;const Hi=typeof window<"u"&&window.trustedTypes;if(Hi)try{In=Hi.createPolicy("vue",{createHTML:t=>t})}catch{}const Ha=In?t=>In.createHTML(t):t=>t,Du="http://www.w3.org/2000/svg",Uu="http://www.w3.org/1998/Math/MathML",dt=typeof document<"u"?document:null,Wi=dt&&dt.createElement("template"),Lu={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,r)=>{const n=e==="svg"?dt.createElementNS(Du,t):e==="mathml"?dt.createElementNS(Uu,t):s?dt.createElement(t,{is:s}):dt.createElement(t);return t==="select"&&r&&r.multiple!=null&&n.setAttribute("multiple",r.multiple),n},createText:t=>dt.createTextNode(t),createComment:t=>dt.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>dt.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,r,n,i){const o=s?s.previousSibling:e.lastChild;if(n&&(n===i||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),s),!(n===i||!(n=n.nextSibling)););else{Wi.innerHTML=Ha(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=Wi.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,s)}return[o?o.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},Nu=Symbol("_vtc");function Mu(t,e,s){const r=t[Nu];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const Vi=Symbol("_vod"),Fu=Symbol("_vsh"),qu=Symbol(""),Hu=/(^|;)\s*display\s*:/;function Wu(t,e,s){const r=t.style,n=ue(s);let i=!1;if(s&&!n){if(e)if(ue(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();s[a]==null&&mr(r,a,"")}else for(const o in e)s[o]==null&&mr(r,o,"");for(const o in s)o==="display"&&(i=!0),mr(r,o,s[o])}else if(n){if(e!==s){const o=r[qu];o&&(s+=";"+o),r.cssText=s,i=Hu.test(s)}}else e&&t.removeAttribute("style");Vi in t&&(t[Vi]=i?r.display:"",t[Fu]&&(r.display="none"))}const Ki=/\s*!important$/;function mr(t,e,s){if(N(s))s.forEach(r=>mr(t,e,r));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const r=Vu(t,e);Ki.test(s)?t.setProperty(Ht(r),s.replace(Ki,""),"important"):t[r]=s}}const Ji=["Webkit","Moz","ms"],cn={};function Vu(t,e){const s=cn[e];if(s)return s;let r=Me(e);if(r!=="filter"&&r in t)return cn[e]=r;r=Br(r);for(let n=0;n<Ji.length;n++){const i=Ji[n]+r;if(i in t)return cn[e]=i}return e}const zi="http://www.w3.org/1999/xlink";function Gi(t,e,s,r,n,i=Gl(e)){r&&e.startsWith("xlink:")?s==null?t.removeAttributeNS(zi,e.slice(6,e.length)):t.setAttributeNS(zi,e,s):s==null||i&&!qo(s)?t.removeAttribute(e):t.setAttribute(e,i?"":at(s)?String(s):s)}function Qi(t,e,s,r,n){if(e==="innerHTML"||e==="textContent"){s!=null&&(t[e]=e==="innerHTML"?Ha(s):s);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,l=s==null?t.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in t))&&(t.value=l),s==null&&t.removeAttribute(e),t._value=s;return}let o=!1;if(s===""||s==null){const a=typeof t[e];a==="boolean"?s=qo(s):s==null&&a==="string"?(s="",o=!0):a==="number"&&(s=0,o=!0)}try{t[e]=s}catch{}o&&t.removeAttribute(n||e)}function xt(t,e,s,r){t.addEventListener(e,s,r)}function Ku(t,e,s,r){t.removeEventListener(e,s,r)}const Yi=Symbol("_vei");function Ju(t,e,s,r,n=null){const i=t[Yi]||(t[Yi]={}),o=i[e];if(r&&o)o.value=r;else{const[a,l]=zu(e);if(r){const u=i[e]=Yu(r,n);xt(t,a,u,l)}else o&&(Ku(t,a,o,l),i[e]=void 0)}}const Xi=/(?:Once|Passive|Capture)$/;function zu(t){let e;if(Xi.test(t)){e={};let r;for(;r=t.match(Xi);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Ht(t.slice(2)),e]}let un=0;const Gu=Promise.resolve(),Qu=()=>un||(Gu.then(()=>un=0),un=Date.now());function Yu(t,e){const s=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=s.attached)return;lt(Xu(r,s.value),e,5,[r])};return s.value=t,s.attached=Qu(),s}function Xu(t,e){if(N(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(r=>n=>!n._stopped&&r&&r(n))}else return e}const Zi=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Zu=(t,e,s,r,n,i)=>{const o=n==="svg";e==="class"?Mu(t,r,o):e==="style"?Wu(t,s,r):jr(e)?Yn(e)||Ju(t,e,s,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):ed(t,e,r,o))?(Qi(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Gi(t,e,r,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!ue(r))?Qi(t,Me(e),r,i,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Gi(t,e,r,o))};function ed(t,e,s,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&Zi(e)&&K(s));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const n=t.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return Zi(e)&&ue(s)?!1:e in t}const cs=t=>{const e=t.props["onUpdate:modelValue"]||!1;return N(e)?s=>fr(e,s):e};function td(t){t.target.composing=!0}function eo(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const bt=Symbol("_assign"),ae={created(t,{modifiers:{lazy:e,trim:s,number:r}},n){t[bt]=cs(n);const i=r||n.props&&n.props.type==="number";xt(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;s&&(a=a.trim()),i&&(a=vr(a)),t[bt](a)}),s&&xt(t,"change",()=>{t.value=t.value.trim()}),e||(xt(t,"compositionstart",td),xt(t,"compositionend",eo),xt(t,"change",eo))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:s,modifiers:{lazy:r,trim:n,number:i}},o){if(t[bt]=cs(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?vr(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===s||n&&t.value.trim()===l)||(t.value=l))}},Cr={deep:!0,created(t,e,s){t[bt]=cs(s),xt(t,"change",()=>{const r=t._modelValue,n=Vs(t),i=t.checked,o=t[bt];if(N(r)){const a=ti(r,n),l=a!==-1;if(i&&!l)o(r.concat(n));else if(!i&&l){const u=[...r];u.splice(a,1),o(u)}}else if(hs(r)){const a=new Set(r);i?a.add(n):a.delete(n),o(a)}else o(Wa(t,i))})},mounted:to,beforeUpdate(t,e,s){t[bt]=cs(s),to(t,e,s)}};function to(t,{value:e,oldValue:s},r){t._modelValue=e;let n;if(N(e))n=ti(e,r.props.value)>-1;else if(hs(e))n=e.has(r.props.value);else{if(e===s)return;n=zs(e,Wa(t,!0))}t.checked!==n&&(t.checked=n)}const br={deep:!0,created(t,{value:e,modifiers:{number:s}},r){const n=hs(e);xt(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>s?vr(Vs(o)):Vs(o));t[bt](t.multiple?n?new Set(i):i:i[0]),t._assigning=!0,ca(()=>{t._assigning=!1})}),t[bt]=cs(r)},mounted(t,{value:e}){so(t,e)},beforeUpdate(t,e,s){t[bt]=cs(s)},updated(t,{value:e}){t._assigning||so(t,e)}};function so(t,e){const s=t.multiple,r=N(e);if(!(s&&!r&&!hs(e))){for(let n=0,i=t.options.length;n<i;n++){const o=t.options[n],a=Vs(o);if(s)if(r){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(u=>String(u)===String(a)):o.selected=ti(e,a)>-1}else o.selected=e.has(a);else if(zs(Vs(o),e)){t.selectedIndex!==n&&(t.selectedIndex=n);return}}!s&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Vs(t){return"_value"in t?t._value:t.value}function Wa(t,e){const s=e?"_trueValue":"_falseValue";return s in t?t[s]:e}const sd=["ctrl","shift","alt","meta"],rd={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>sd.some(s=>t[`${s}Key`]&&!e.includes(s))},Cs=(t,e)=>{const s=t._withMods||(t._withMods={}),r=e.join(".");return s[r]||(s[r]=(n,...i)=>{for(let o=0;o<e.length;o++){const a=rd[e[o]];if(a&&a(n,e))return}return t(n,...i)})},nd=Te({patchProp:Zu},Lu);let ro;function id(){return ro||(ro=ou(nd))}const od=(...t)=>{const e=id().createApp(...t),{mount:s}=e;return e.mount=r=>{const n=ld(r);if(!n)return;const i=e._component;!K(i)&&!i.render&&!i.template&&(i.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const o=s(n,!1,ad(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},e};function ad(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function ld(t){return ue(t)?document.querySelector(t):t}const cd="modulepreload",ud=function(t){return"/sf-admin-nexus/"+t},no={},Ys=function(e,s,r){let n=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));n=Promise.allSettled(s.map(l=>{if(l=ud(l),l in no)return;no[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":cd,u||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((g,b)=>{h.addEventListener("load",g),h.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return n.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},dd=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Ys(async()=>{const{default:r}=await Promise.resolve().then(()=>fs);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)};class pi extends Error{constructor(e,s="FunctionsError",r){super(e),this.name=s,this.context=r}}class io extends pi{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class oo extends pi{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class ao extends pi{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Bn;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Bn||(Bn={}));var hd=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class fd{constructor(e,{headers:s={},customFetch:r,region:n=Bn.Any}={}){this.url=e,this.headers=s,this.region=n,this.fetch=dd(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,s={}){var r;return hd(this,void 0,void 0,function*(){try{const{headers:n,method:i,body:o,signal:a}=s;let l={},{region:u}=s;u||(u=this.region);const c=new URL(`${this.url}/${e}`);u&&u!=="any"&&(l["x-region"]=u,c.searchParams.set("forceFunctionRegion",u));let h;o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",h=o):typeof o=="string"?(l["Content-Type"]="text/plain",h=o):typeof FormData<"u"&&o instanceof FormData?h=o:(l["Content-Type"]="application/json",h=JSON.stringify(o)));const g=yield this.fetch(c.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),n),body:h,signal:a}).catch(y=>{throw y.name==="AbortError"?y:new io(y)}),b=g.headers.get("x-relay-error");if(b&&b==="true")throw new oo(g);if(!g.ok)throw new ao(g);let m=((r=g.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),w;return m==="application/json"?w=yield g.json():m==="application/octet-stream"?w=yield g.blob():m==="text/event-stream"?w=g:m==="multipart/form-data"?w=yield g.formData():w=yield g.text(),{data:w,error:null,response:g}}catch(n){return n instanceof Error&&n.name==="AbortError"?{data:null,error:new io(n)}:{data:null,error:n,response:n instanceof ao||n instanceof oo?n.context:void 0}}})}}var Fe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pd(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var s=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(s,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}),s}var Re={},gi={},qr={},Xs={},Hr={},Wr={},gd=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},us=gd();const md=us.fetch,Va=us.fetch.bind(us),Ka=us.Headers,bd=us.Request,_d=us.Response,fs=Object.freeze(Object.defineProperty({__proto__:null,Headers:Ka,Request:bd,Response:_d,default:Va,fetch:md},Symbol.toStringTag,{value:"Module"})),yd=pd(fs);var Vr={};Object.defineProperty(Vr,"__esModule",{value:!0});let wd=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Vr.default=wd;var Ja=Fe&&Fe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Wr,"__esModule",{value:!0});const vd=Ja(yd),Sd=Ja(Vr);let Ed=class{constructor(e){var s,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(s=e.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=vd.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,s){return this.headers=new Headers(this.headers),this.headers.set(e,s),this}then(e,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let n=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l,u;let c=null,h=null,g=null,b=i.status,m=i.statusText;if(i.ok){if(this.method!=="HEAD"){const C=await i.text();C===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?h=C:h=JSON.parse(C))}const y=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),P=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");y&&P&&P.length>1&&(g=parseInt(P[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(c={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,g=null,b=406,m="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const y=await i.text();try{c=JSON.parse(y),Array.isArray(c)&&i.status===404&&(h=[],c=null,b=200,m="OK")}catch{i.status===404&&y===""?(b=204,m="No Content"):c={message:y}}if(c&&this.isMaybeSingle&&(!((u=c==null?void 0:c.details)===null||u===void 0)&&u.includes("0 rows"))&&(c=null,b=200,m="OK"),c&&this.shouldThrowOnError)throw new Sd.default(c)}return{error:c,data:h,count:g,status:b,statusText:m}});return this.shouldThrowOnError||(n=n.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),n.then(e,s)}returns(){return this}overrideTypes(){return this}};Wr.default=Ed;var kd=Fe&&Fe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Hr,"__esModule",{value:!0});const Td=kd(Wr);let xd=class extends Td.default{select(e){let s=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!s?"":(n==='"'&&(s=!s),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:s=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${s?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:s,referencedTable:r=s}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,s,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"offset":`${n}.offset`,o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${s-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:s=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,s?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Hr.default=xd;var Od=Fe&&Fe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Xs,"__esModule",{value:!0});const Cd=Od(Hr);let Ad=class extends Cd.default{eq(e,s){return this.url.searchParams.append(e,`eq.${s}`),this}neq(e,s){return this.url.searchParams.append(e,`neq.${s}`),this}gt(e,s){return this.url.searchParams.append(e,`gt.${s}`),this}gte(e,s){return this.url.searchParams.append(e,`gte.${s}`),this}lt(e,s){return this.url.searchParams.append(e,`lt.${s}`),this}lte(e,s){return this.url.searchParams.append(e,`lte.${s}`),this}like(e,s){return this.url.searchParams.append(e,`like.${s}`),this}likeAllOf(e,s){return this.url.searchParams.append(e,`like(all).{${s.join(",")}}`),this}likeAnyOf(e,s){return this.url.searchParams.append(e,`like(any).{${s.join(",")}}`),this}ilike(e,s){return this.url.searchParams.append(e,`ilike.${s}`),this}ilikeAllOf(e,s){return this.url.searchParams.append(e,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(e,s){return this.url.searchParams.append(e,`ilike(any).{${s.join(",")}}`),this}is(e,s){return this.url.searchParams.append(e,`is.${s}`),this}in(e,s){const r=Array.from(new Set(s)).map(n=>typeof n=="string"&&new RegExp("[,()]").test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cs.{${s.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(s)}`),this}containedBy(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cd.{${s.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(s)}`),this}rangeGt(e,s){return this.url.searchParams.append(e,`sr.${s}`),this}rangeGte(e,s){return this.url.searchParams.append(e,`nxl.${s}`),this}rangeLt(e,s){return this.url.searchParams.append(e,`sl.${s}`),this}rangeLte(e,s){return this.url.searchParams.append(e,`nxr.${s}`),this}rangeAdjacent(e,s){return this.url.searchParams.append(e,`adj.${s}`),this}overlaps(e,s){return typeof s=="string"?this.url.searchParams.append(e,`ov.${s}`):this.url.searchParams.append(e,`ov.{${s.join(",")}}`),this}textSearch(e,s,{config:r,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${s}`),this}match(e){return Object.entries(e).forEach(([s,r])=>{this.url.searchParams.append(s,`eq.${r}`)}),this}not(e,s,r){return this.url.searchParams.append(e,`not.${s}.${r}`),this}or(e,{foreignTable:s,referencedTable:r=s}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,s,r){return this.url.searchParams.append(e,`${s}.${r}`),this}};Xs.default=Ad;var Pd=Fe&&Fe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(qr,"__esModule",{value:!0});const ks=Pd(Xs);let Rd=class{constructor(e,{headers:s={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(s),this.schema=r,this.fetch=n}select(e,{head:s=!1,count:r}={}){const n=s?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&this.headers.append("Prefer",`count=${r}`),new ks.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:s,defaultToNull:r=!0}={}){var n;const i="POST";if(s&&this.headers.append("Prefer",`count=${s}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new ks.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:s,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}={}){var o;const a="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),n&&this.headers.append("Prefer",`count=${n}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new ks.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:s}={}){var r;const n="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new ks.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var s;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new ks.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};qr.default=Rd;var za=Fe&&Fe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(gi,"__esModule",{value:!0});const jd=za(qr),Id=za(Xs);let Bd=class Ga{constructor(e,{headers:s={},schema:r,fetch:n}={}){this.url=e,this.headers=new Headers(s),this.schemaName=r,this.fetch=n}from(e){const s=new URL(`${this.url}/${e}`);return new jd.default(s,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Ga(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,s={},{head:r=!1,get:n=!1,count:i}={}){var o;let a;const l=new URL(`${this.url}/rpc/${e}`);let u;r||n?(a=r?"HEAD":"GET",Object.entries(s).filter(([h,g])=>g!==void 0).map(([h,g])=>[h,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([h,g])=>{l.searchParams.append(h,g)})):(a="POST",u=s);const c=new Headers(this.headers);return i&&c.set("Prefer",`count=${i}`),new Id.default({method:a,url:l,headers:c,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};gi.default=Bd;var ps=Fe&&Fe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Re,"__esModule",{value:!0});Re.PostgrestError=Re.PostgrestBuilder=Re.PostgrestTransformBuilder=Re.PostgrestFilterBuilder=Re.PostgrestQueryBuilder=Re.PostgrestClient=void 0;const Qa=ps(gi);Re.PostgrestClient=Qa.default;const Ya=ps(qr);Re.PostgrestQueryBuilder=Ya.default;const Xa=ps(Xs);Re.PostgrestFilterBuilder=Xa.default;const Za=ps(Hr);Re.PostgrestTransformBuilder=Za.default;const el=ps(Wr);Re.PostgrestBuilder=el.default;const tl=ps(Vr);Re.PostgrestError=tl.default;var $d=Re.default={PostgrestClient:Qa.default,PostgrestQueryBuilder:Ya.default,PostgrestFilterBuilder:Xa.default,PostgrestTransformBuilder:Za.default,PostgrestBuilder:el.default,PostgrestError:tl.default};const{PostgrestClient:Dd,PostgrestQueryBuilder:py,PostgrestFilterBuilder:gy,PostgrestTransformBuilder:my,PostgrestBuilder:by,PostgrestError:_y}=$d;class Ud{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const r=s.node,n=parseInt(r.replace(/^v/,"").split(".")[0]);return n>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let s=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(s+=`

Suggested solution: ${e.workaround}`),new Error(s)}static createWebSocket(e,s){const r=this.getWebSocketConstructor();return new r(e,s)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Ld="2.15.5",Nd=`realtime-js/${Ld}`,Md="1.0.0",$n=1e4,Fd=1e3,qd=100;var Us;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Us||(Us={}));var ge;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ge||(ge={}));var He;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(He||(He={}));var Dn;(function(t){t.websocket="websocket"})(Dn||(Dn={}));var Dt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Dt||(Dt={}));class Hd{constructor(){this.HEADER_LENGTH=1}decode(e,s){return e.constructor===ArrayBuffer?s(this._binaryDecode(e)):s(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const s=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,s,r)}_decodeBroadcast(e,s,r){const n=s.getUint8(1),i=s.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+n));o=o+n;const l=r.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class sl{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ie;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ie||(ie={}));const lo=(t,e,s={})=>{var r;const n=(r=s.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=Wd(o,t,e,n),i),{})},Wd=(t,e,s,r)=>{const n=e.find(a=>a.name===t),i=n==null?void 0:n.type,o=s[t];return i&&!r.includes(i)?rl(i,o):Un(o)},rl=(t,e)=>{if(t.charAt(0)==="_"){const s=t.slice(1,t.length);return zd(e,s)}switch(t){case ie.bool:return Vd(e);case ie.float4:case ie.float8:case ie.int2:case ie.int4:case ie.int8:case ie.numeric:case ie.oid:return Kd(e);case ie.json:case ie.jsonb:return Jd(e);case ie.timestamp:return Gd(e);case ie.abstime:case ie.date:case ie.daterange:case ie.int4range:case ie.int8range:case ie.money:case ie.reltime:case ie.text:case ie.time:case ie.timestamptz:case ie.timetz:case ie.tsrange:case ie.tstzrange:return Un(e);default:return Un(e)}},Un=t=>t,Vd=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Kd=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Jd=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},zd=(t,e)=>{if(typeof t!="string")return t;const s=t.length-1,r=t[s];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,s);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>rl(e,a))}return t},Gd=t=>typeof t=="string"?t.replace(" ","T"):t,nl=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class dn{constructor(e,s,r={},n=$n){this.channel=e,this.event=s,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var r;return this._hasReceived(e)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var co;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(co||(co={}));class Ls{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ls.syncState(this.state,n,i,o),this.pendingDiffs.forEach(l=>{this.state=Ls.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=Ls.syncDiff(this.state,n,i,o),a())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,r,n){const i=this.cloneDeep(e),o=this.transformState(s),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const h=i[u];if(h){const g=c.map(y=>y.presence_ref),b=h.map(y=>y.presence_ref),m=c.filter(y=>b.indexOf(y.presence_ref)<0),w=h.filter(y=>g.indexOf(y.presence_ref)<0);m.length>0&&(a[u]=m),w.length>0&&(l[u]=w)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},r,n)}static syncDiff(e,s,r,n){const{joins:i,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const h=e[a].map(b=>b.presence_ref),g=c.filter(b=>h.indexOf(b.presence_ref)<0);e[a].unshift(...g)}r(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(h=>h.presence_ref);u=u.filter(h=>c.indexOf(h.presence_ref)<0),e[a]=u,n(a,u,l),u.length===0&&delete e[a]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(r=>s(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,r)=>{const n=e[r];return"metas"in n?s[r]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[r]=n,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var uo;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(uo||(uo={}));var Ns;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ns||(Ns={}));var ht;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ht||(ht={}));class mi{constructor(e,s={config:{}},r){this.topic=e,this.params=s,this.socket=r,this.bindings={},this.state=ge.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new dn(this,He.join,this.params,this.timeout),this.rejoinTimer=new sl(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ge.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ge.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=ge.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ge.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=ge.errored,this.rejoinTimer.scheduleTimeout())}),this._on(He.reply,{},(n,i)=>{this._trigger(this._replyEventName(i),n)}),this.presence=new Ls(this),this.broadcastEndpointURL=nl(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,s=this.timeout){var r,n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ge.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,u=(n=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(b=>b.filter))!==null&&n!==void 0?n:[],c=!!this.bindings[Ns.PRESENCE]&&this.bindings[Ns.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},g={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(b=>e==null?void 0:e(ht.CHANNEL_ERROR,b)),this._onClose(()=>e==null?void 0:e(ht.CLOSED)),this.updateJoinPayload(Object.assign({config:g},h)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:b})=>{var m;if(this.socket.setAuth(),b===void 0){e==null||e(ht.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,y=(m=w==null?void 0:w.length)!==null&&m!==void 0?m:0,P=[];for(let C=0;C<y;C++){const S=w[C],{filter:{event:O,schema:M,table:q,filter:H}}=S,ce=b&&b[C];if(ce&&ce.event===O&&ce.schema===M&&ce.table===q&&ce.filter===H)P.push(Object.assign(Object.assign({},S),{id:ce.id}));else{this.unsubscribe(),this.state=ge.errored,e==null||e(ht.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=P,e&&e(ht.SUBSCRIBED);return}}).receive("error",b=>{this.state=ge.errored,e==null||e(ht.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ht.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,r){return this.state===ge.joined&&e===Ns.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,s,r)}async send(e,s={}){var r,n;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((n=u.body)===null||n===void 0?void 0:n.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ge.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(He.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(n=>{r=new dn(this,He.leave,{},e),r.receive("ok",()=>{s(),n("ok")}).receive("timeout",()=>{s(),n("timed out")}).receive("error",()=>{n("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ge.closed,this.bindings={}}async _fetchWithTimeout(e,s,r){const n=new AbortController,i=setTimeout(()=>n.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:n.signal}));return clearTimeout(i),o}_push(e,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new dn(this,e,s,r);return this._canPush()?n.send():this._addToPushBuffer(n),n}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>qd){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(e,s,r){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,r){var n,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=He;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let g=this._onMessage(o,s,r);if(s&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(b=>{var m,w,y;return((m=b.filter)===null||m===void 0?void 0:m.event)==="*"||((y=(w=b.filter)===null||w===void 0?void 0:w.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(b=>b.callback(g,r)):(i=this.bindings[o])===null||i===void 0||i.filter(b=>{var m,w,y,P,C,S;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in b){const O=b.id,M=(m=b.filter)===null||m===void 0?void 0:m.event;return O&&((w=s.ids)===null||w===void 0?void 0:w.includes(O))&&(M==="*"||(M==null?void 0:M.toLocaleLowerCase())===((y=s.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const O=(C=(P=b==null?void 0:b.filter)===null||P===void 0?void 0:P.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return O==="*"||O===((S=s==null?void 0:s.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===o}).map(b=>{if(typeof g=="object"&&"ids"in g){const m=g.data,{schema:w,table:y,commit_timestamp:P,type:C,errors:S}=m;g=Object.assign(Object.assign({},{schema:w,table:y,commit_timestamp:P,eventType:C,new:{},old:{},errors:S}),this._getPayloadRecords(m))}b.callback(g,r)})}_isClosed(){return this.state===ge.closed}_isJoined(){return this.state===ge.joined}_isJoining(){return this.state===ge.joining}_isLeaving(){return this.state===ge.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,r){const n=e.toLocaleLowerCase(),i={type:n,filter:s,callback:r};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(e,s){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&mi.isEqual(n.filter,s))})),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const r in e)if(e[r]!==s[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(He.close,{},e)}_onError(e){this._on(He.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ge.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=lo(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=lo(e.columns,e.old_record)),s}}const hn=()=>{},cr={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Qd=[1e3,2e3,5e3,1e4],Yd=1e4,Xd=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Zd{constructor(e,s){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=$n,this.transport=null,this.heartbeatIntervalMs=cr.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=hn,this.ref=0,this.reconnectTimer=null,this.logger=hn,this.conn=null,this.sendBuffer=[],this.serializer=new Hd,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=n=>{let i;return n?i=n:typeof fetch>"u"?i=(...o)=>Ys(async()=>{const{default:a}=await Promise.resolve().then(()=>fs);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((r=s==null?void 0:s.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${e}/${Dn.websocket}`,this.httpEndpoint=nl(e),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s==null?void 0:s.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Ud.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const s=e.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Md}))}disconnect(e,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,s??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,s,r){this.logger(e,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Us.connecting:return Dt.Connecting;case Us.open:return Dt.Open;case Us.closing:return Dt.Closing;default:return Dt.Closed}}isConnected(){return this.connectionState()===Dt.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,s={config:{}}){const r=`realtime:${e}`,n=this.getChannels().find(i=>i.topic===r);if(n)return n;{const i=new mi(`realtime:${e}`,s,this);return this.channels.push(i),i}}push(e){const{topic:s,event:r,payload:n,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${r} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Fd,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},cr.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:n,payload:i,ref:o}=s,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${r} ${n} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(n,i,o)),this._triggerStateCallbacks("message",s)})}_clearTimer(e){var s;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var s;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(He.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const r=e.match(/\?/)?"&":"?",n=new URLSearchParams(s);return`${e}${r}${n}`}_workerObjectUrl(e){let s;if(e)s=e;else{const r=new Blob([Xd],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}_setConnectionState(e,s=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(e=null){let s;e?s=e:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(r=>{const n={access_token:s,version:Nd};s&&r.updateJoinPayload(n),r.joinedOnce&&r._isJoined()&&r._push(He.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${e}`,s)})}_triggerStateCallbacks(e,s){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(s)}catch(n){this.log("error",`error in ${e} callback`,n)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new sl(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},cr.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var s,r,n,i,o,a,l,u,c;if(this.transport=(s=e==null?void 0:e.transport)!==null&&s!==void 0?s:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:$n,this.heartbeatIntervalMs=(n=e==null?void 0:e.heartbeatIntervalMs)!==null&&n!==void 0?n:cr.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:hn,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:h=>Qd[h-1]||Yd,this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(h,g)=>g(JSON.stringify(h)),this.decode=(c=e==null?void 0:e.decode)!==null&&c!==void 0?c:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class bi extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function he(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class eh extends bi{constructor(e,s,r){super(e),this.name="StorageApiError",this.status=s,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ln extends bi{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}var th=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const il=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Ys(async()=>{const{default:r}=await Promise.resolve().then(()=>fs);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},sh=()=>th(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ys(()=>Promise.resolve().then(()=>fs),void 0)).Response:Response}),Nn=t=>{if(Array.isArray(t))return t.map(s=>Nn(s));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([s,r])=>{const n=s.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[n]=Nn(r)}),e},rh=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Wt=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const fn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),nh=(t,e,s)=>Wt(void 0,void 0,void 0,function*(){const r=yield sh();t instanceof r&&!(s!=null&&s.noResolveJson)?t.json().then(n=>{const i=t.status||500,o=(n==null?void 0:n.statusCode)||i+"";e(new eh(fn(n),i,o))}).catch(n=>{e(new Ln(fn(n),n))}):e(new Ln(fn(t),t))}),ih=(t,e,s,r)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?n:(rh(r)?(n.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n.body=JSON.stringify(r)):n.body=r,e!=null&&e.duplex&&(n.duplex=e.duplex),Object.assign(Object.assign({},n),s))};function Zs(t,e,s,r,n,i){return Wt(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(s,ih(e,r,n,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>nh(l,a,r))})})}function Ar(t,e,s,r){return Wt(this,void 0,void 0,function*(){return Zs(t,"GET",e,s,r)})}function nt(t,e,s,r,n){return Wt(this,void 0,void 0,function*(){return Zs(t,"POST",e,r,n,s)})}function Mn(t,e,s,r,n){return Wt(this,void 0,void 0,function*(){return Zs(t,"PUT",e,r,n,s)})}function oh(t,e,s,r){return Wt(this,void 0,void 0,function*(){return Zs(t,"HEAD",e,Object.assign(Object.assign({},s),{noResolveJson:!0}),r)})}function ol(t,e,s,r,n){return Wt(this,void 0,void 0,function*(){return Zs(t,"DELETE",e,r,n,s)})}var ah=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class lh{constructor(e,s){this.downloadFn=e,this.shouldThrowOnError=s}then(e,s){return this.execute().then(e,s)}execute(){return ah(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(he(e))return{data:null,error:e};throw e}})}}var ch=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class uh{constructor(e,s){this.downloadFn=e,this.shouldThrowOnError=s}asStream(){return new lh(this.downloadFn,this.shouldThrowOnError)}then(e,s){return this.execute().then(e,s)}execute(){return ch(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(he(e))return{data:null,error:e};throw e}})}}var Ce=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const dh={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ho={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class hh{constructor(e,s={},r,n){this.shouldThrowOnError=!1,this.url=e,this.headers=s,this.bucketId=r,this.fetch=il(n)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,s,r,n){return Ce(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},ho),n);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),n!=null&&n.headers&&(a=Object.assign(Object.assign({},a),n.headers));const u=this._removeEmptyFolders(s),c=this._getFinalPath(u),h=yield(e=="PUT"?Mn:nt)(this.fetch,`${this.url}/object/${c}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(he(i))return{data:null,error:i};throw i}})}upload(e,s,r){return Ce(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,r)})}uploadToSignedUrl(e,s,r,n){return Ce(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",s);try{let l;const u=Object.assign({upsert:ho.upsert},n),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const h=yield Mn(this.fetch,a.toString(),l,{headers:c});return{data:{path:i,fullPath:h.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(he(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,s){return Ce(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const n=Object.assign({},this.headers);s!=null&&s.upsert&&(n["x-upsert"]="true");const i=yield nt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:n}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new bi("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(he(r))return{data:null,error:r};throw r}})}update(e,s,r){return Ce(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,r)})}move(e,s,r){return Ce(this,void 0,void 0,function*(){try{return{data:yield nt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(he(n))return{data:null,error:n};throw n}})}copy(e,s,r){return Ce(this,void 0,void 0,function*(){try{return{data:{path:(yield nt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(he(n))return{data:null,error:n};throw n}})}createSignedUrl(e,s,r){return Ce(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),i=yield nt(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:s},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(he(n))return{data:null,error:n};throw n}})}createSignedUrls(e,s,r){return Ce(this,void 0,void 0,function*(){try{const n=yield nt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(he(n))return{data:null,error:n};throw n}})}download(e,s){const n=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=i?`?${i}`:"",a=this._getFinalPath(e),l=()=>Ar(this.fetch,`${this.url}/${n}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new uh(l,this.shouldThrowOnError)}info(e){return Ce(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{const r=yield Ar(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Nn(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(he(r))return{data:null,error:r};throw r}})}exists(e){return Ce(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{return yield oh(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(he(r)&&r instanceof Ln){const n=r.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,s){const r=this._getFinalPath(e),n=[],i=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";i!==""&&n.push(i);const a=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});l!==""&&n.push(l);let u=n.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(e){return Ce(this,void 0,void 0,function*(){try{return{data:yield ol(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(he(s))return{data:null,error:s};throw s}})}list(e,s,r){return Ce(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},dh),s),{prefix:e||""});return{data:yield nt(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(he(n))return{data:null,error:n};throw n}})}listV2(e,s){return Ce(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield nt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},s),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(he(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const fh="2.12.2",ph={"X-Client-Info":`storage-js/${fh}`};var Gt=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class gh{constructor(e,s={},r,n){this.shouldThrowOnError=!1;const i=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},ph),s),this.fetch=il(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Gt(this,void 0,void 0,function*(){try{return{data:yield Ar(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(he(e))return{data:null,error:e};throw e}})}getBucket(e){return Gt(this,void 0,void 0,function*(){try{return{data:yield Ar(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(he(s))return{data:null,error:s};throw s}})}createBucket(e,s={public:!1}){return Gt(this,void 0,void 0,function*(){try{return{data:yield nt(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(he(r))return{data:null,error:r};throw r}})}updateBucket(e,s){return Gt(this,void 0,void 0,function*(){try{return{data:yield Mn(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(he(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Gt(this,void 0,void 0,function*(){try{return{data:yield nt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(he(s))return{data:null,error:s};throw s}})}deleteBucket(e){return Gt(this,void 0,void 0,function*(){try{return{data:yield ol(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(he(s))return{data:null,error:s};throw s}})}}class mh extends gh{constructor(e,s={},r,n){super(e,s,r,n)}from(e){return new hh(this.url,this.headers,e,this.fetch)}}const bh="2.58.0";let As="";typeof Deno<"u"?As="deno":typeof document<"u"?As="web":typeof navigator<"u"&&navigator.product==="ReactNative"?As="react-native":As="node";const _h={"X-Client-Info":`supabase-js-${As}/${bh}`},yh={headers:_h},wh={schema:"public"},vh={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Sh={};var Eh=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const kh=t=>{let e;return t?e=t:typeof fetch>"u"?e=Va:e=fetch,(...s)=>e(...s)},Th=()=>typeof Headers>"u"?Ka:Headers,xh=(t,e,s)=>{const r=kh(s),n=Th();return(i,o)=>Eh(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let u=new n(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var Oh=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};function Ch(t){return t.endsWith("/")?t:t+"/"}function Ah(t,e){var s,r;const{db:n,auth:i,realtime:o,global:a}=t,{db:l,auth:u,realtime:c,global:h}=e,g={db:Object.assign(Object.assign({},l),n),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},c),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(s=h==null?void 0:h.headers)!==null&&s!==void 0?s:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>Oh(this,void 0,void 0,function*(){return""})};return t.accessToken?g.accessToken=t.accessToken:delete g.accessToken,g}function Ph(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Ch(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const al="2.72.0",ts=30*1e3,Fn=3,pn=Fn*ts,Rh="http://localhost:9999",jh="supabase.auth.token",Ih={"X-Client-Info":`gotrue-js/${al}`},qn="X-Supabase-Api-Version",ll={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Bh=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,$h=10*60*1e3;class _i extends Error{constructor(e,s,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function W(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Dh extends _i{constructor(e,s,r){super(e,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function Uh(t){return W(t)&&t.name==="AuthApiError"}class cl extends _i{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class At extends _i{constructor(e,s,r,n){super(e,r,n),this.name=s,this.status=r}}class Et extends At{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Lh(t){return W(t)&&t.name==="AuthSessionMissingError"}class Ts extends At{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ur extends At{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class dr extends At{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Nh(t){return W(t)&&t.name==="AuthImplicitGrantRedirectError"}class fo extends At{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Hn extends At{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function gn(t){return W(t)&&t.name==="AuthRetryableFetchError"}class po extends At{constructor(e,s,r){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}class Wn extends At{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Pr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),go=` 	
\r=`.split(""),Mh=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<go.length;e+=1)t[go[e].charCodeAt(0)]=-2;for(let e=0;e<Pr.length;e+=1)t[Pr[e].charCodeAt(0)]=e;return t})();function mo(t,e,s){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;s(Pr[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;s(Pr[r]),e.queuedBits-=6}}function ul(t,e,s){const r=Mh[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)s(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function bo(t){const e=[],s=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},i=o=>{Hh(o,r,s)};for(let o=0;o<t.length;o+=1)ul(t.charCodeAt(o),n,i);return e.join("")}function Fh(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function qh(t,e){for(let s=0;s<t.length;s+=1){let r=t.charCodeAt(s);if(r>55295&&r<=56319){const n=(r-55296)*1024&65535;r=(t.charCodeAt(s+1)-56320&65535|n)+65536,s+=1}Fh(r,e)}}function Hh(t,e,s){if(e.utf8seq===0){if(t<=127){s(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&s(e.codepoint)}}function Wh(t){const e=[],s={queue:0,queuedBits:0},r=n=>{e.push(n)};for(let n=0;n<t.length;n+=1)ul(t.charCodeAt(n),s,r);return new Uint8Array(e)}function Vh(t){const e=[];return qh(t,s=>e.push(s)),new Uint8Array(e)}function Kh(t){const e=[],s={queue:0,queuedBits:0},r=n=>{e.push(n)};return t.forEach(n=>mo(n,s,r)),mo(null,s,r),e.join("")}function Jh(t){return Math.round(Date.now()/1e3)+t}function zh(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ne=()=>typeof window<"u"&&typeof document<"u",jt={tested:!1,writable:!1},dl=()=>{if(!Ne())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(jt.tested)return jt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),jt.tested=!0,jt.writable=!0}catch{jt.tested=!0,jt.writable=!1}return jt.writable};function Gh(t){const e={},s=new URL(t);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((n,i)=>{e[i]=n})}catch{}return s.searchParams.forEach((r,n)=>{e[n]=r}),e}const hl=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Ys(async()=>{const{default:r}=await Promise.resolve().then(()=>fs);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},Qh=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ss=async(t,e,s)=>{await t.setItem(e,JSON.stringify(s))},It=async(t,e)=>{const s=await t.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},St=async(t,e)=>{await t.removeItem(e)};class Kr{constructor(){this.promise=new Kr.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}Kr.promiseConstructor=Promise;function mn(t){const e=t.split(".");if(e.length!==3)throw new Wn("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!Bh.test(e[r]))throw new Wn("JWT not in base64url format");return{header:JSON.parse(bo(e[0])),payload:JSON.parse(bo(e[1])),signature:Wh(e[2]),raw:{header:e[0],payload:e[1]}}}async function Yh(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Xh(t,e){return new Promise((r,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){n(o);return}}})()})}function Zh(t){return("0"+t.toString(16)).substr(-2)}function ef(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let n="";for(let i=0;i<56;i++)n+=s.charAt(Math.floor(Math.random()*r));return n}return crypto.getRandomValues(e),Array.from(e,Zh).join("")}async function tf(t){const s=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",s),n=new Uint8Array(r);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}async function sf(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const s=await tf(t);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Qt(t,e,s=!1){const r=ef();let n=r;s&&(n+="/PASSWORD_RECOVERY"),await ss(t,`${e}-code-verifier`,n);const i=await sf(r);return[i,r===i?"plain":"s256"]}const rf=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function nf(t){const e=t.headers.get(qn);if(!e||!e.match(rf))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function of(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function af(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const lf=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Yt(t){if(!lf.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function bn(){const t={};return new Proxy(t,{get:(e,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const r=s.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function _o(t){return JSON.parse(JSON.stringify(t))}var cf=function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};const $t=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),uf=[502,503,504];async function yo(t){var e;if(!Qh(t))throw new Hn($t(t),0);if(uf.includes(t.status))throw new Hn($t(t),t.status);let s;try{s=await t.json()}catch(i){throw new cl($t(i),i)}let r;const n=nf(t);if(n&&n.getTime()>=ll["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new po($t(s),t.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Et}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new po($t(s),t.status,s.weak_password.reasons);throw new Dh($t(s),t.status||500,r)}const df=(t,e,s,r)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),n.body=JSON.stringify(r),Object.assign(Object.assign({},n),s))};async function J(t,e,s,r){var n;const i=Object.assign({},r==null?void 0:r.headers);i[qn]||(i[qn]=ll["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(n=r==null?void 0:r.query)!==null&&n!==void 0?n:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await hf(t,e,s+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function hf(t,e,s,r,n,i){const o=df(e,r,n,i);let a;try{a=await t(s,Object.assign({},o))}catch(l){throw console.error(l),new Hn($t(l),0)}if(a.ok||await yo(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await yo(l)}}function st(t){var e;let s=null;mf(t)&&(s=Object.assign({},t),t.expires_at||(s.expires_at=Jh(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:s,user:r},error:null}}function wo(t){const e=st(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ot(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function ff(t){return{data:t,error:null}}function pf(t){const{action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i}=t,o=cf(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function gf(t){return t}function mf(t){return t.access_token&&t.refresh_token&&t.expires_in}const _n=["global","local","others"];var bf=function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};class _f{constructor({url:e="",headers:s={},fetch:r}){this.url=e,this.headers=s,this.fetch=hl(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,s=_n[0]){if(_n.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${_n.join(", ")}`);try{return await J(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(W(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,s={}){try{return await J(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Ot})}catch(r){if(W(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:s}=e,r=bf(e,["options"]),n=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(n.new_email=r==null?void 0:r.newEmail,delete n.newEmail),await J(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:pf,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(W(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await J(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ot})}catch(s){if(W(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,r,n,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await J(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(i=(n=e==null?void 0:e.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:gf});if(c.error)throw c.error;const h=await c.json(),g=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,b=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return b.length>0&&(b.forEach(m=>{const w=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(m.split(";")[1].split("=")[1]);u[`${y}Page`]=w}),u.total=parseInt(g)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(W(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Yt(e);try{return await J(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ot})}catch(s){if(W(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){Yt(e);try{return await J(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:Ot})}catch(r){if(W(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,s=!1){Yt(e);try{return await J(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:Ot})}catch(r){if(W(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Yt(e.userId);try{const{data:s,error:r}=await J(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:s,error:r}}catch(s){if(W(s))return{data:null,error:s};throw s}}async _deleteFactor(e){Yt(e.userId),Yt(e.id);try{return{data:await J(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(W(s))return{data:null,error:s};throw s}}}function vo(t={}){return{getItem:e=>t[e]||null,setItem:(e,s)=>{t[e]=s},removeItem:e=>{delete t[e]}}}function yf(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Xt={debug:!!(globalThis&&dl()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class fl extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class wf extends fl{}async function vf(t,e,s){Xt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Xt.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async n=>{if(n){Xt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,n.name);try{return await s()}finally{Xt.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,n.name)}}else{if(e===0)throw Xt.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new wf(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Xt.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function pl(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Sf(t){return parseInt(t,16)}function Ef(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function kf(t){var e;const{chainId:s,domain:r,expirationTime:n,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:u,scheme:c,uri:h,version:g}=t;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(g!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${g}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const b=pl(t.address),m=c?`${c}://${r}`:r,w=t.statement?`${t.statement}
`:"",y=`${m} wants you to sign in with your Ethereum account:
${b}

${w}`;let P=`URI: ${h}
Version: ${g}
Chain ID: ${s}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(n&&(P+=`
Expiration Time: ${n.toISOString()}`),a&&(P+=`
Not Before: ${a.toISOString()}`),l&&(P+=`
Request ID: ${l}`),u){let C=`
Resources:`;for(const S of u){if(!S||typeof S!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${S}`);C+=`
- ${S}`}P+=C}return`${y}
${P}`}yf();const Tf={url:Rh,storageKey:jh,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ih,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function So(t,e,s){return await s()}const Zt={};class Ks{constructor(e){var s,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ks.nextInstanceID,Ks.nextInstanceID+=1,this.instanceID>0&&Ne()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},Tf),e);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new _f({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=hl(n.fetch),this.lock=n.lock||So,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:Ne()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=vf:this.lock=So,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(n.storage?this.storage=n.storage:dl()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=vo(this.memoryStorage)),n.userStorage&&(this.userStorage=n.userStorage)):(this.memoryStorage={},this.storage=vo(this.memoryStorage)),Ne()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,s;return(s=(e=Zt[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(e){Zt[this.storageKey]=Object.assign(Object.assign({},Zt[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,s;return(s=(e=Zt[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Zt[this.storageKey]=Object.assign(Object.assign({},Zt[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${al}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const s=Gh(window.location.href);let r="none";if(this._isImplicitGrantCallback(s)?r="implicit":await this._isPKCECallback(s)&&(r="pkce"),Ne()&&this.detectSessionInUrl&&r!=="none"){const{data:n,error:i}=await this._getSessionFromURL(s,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Nh(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return W(s)?{error:s}:{error:new cl("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,r,n;try{const i=await J(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.captchaToken}},xform:st}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(W(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var s,r,n;try{let i;if("email"in e){const{email:c,password:h,options:g}=e;let b=null,m=null;this.flowType==="pkce"&&([b,m]=await Qt(this.storage,this.storageKey)),i=await J(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:c,password:h,data:(s=g==null?void 0:g.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:b,code_challenge_method:m},xform:st})}else if("phone"in e){const{phone:c,password:h,options:g}=e;i=await J(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:h,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},channel:(n=g==null?void 0:g.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:st})}else throw new ur("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(W(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let s;if("email"in e){const{email:i,password:o,options:a}=e;s=await J(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:wo})}else if("phone"in e){const{phone:i,password:o,options:a}=e;s=await J(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:wo})}else throw new ur("You must provide either an email or phone number and a password");const{data:r,error:n}=s;return n?{data:{user:null,session:null},error:n}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Ts}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n})}catch(s){if(W(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(e){var s,r,n,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:s}=e;switch(s){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(e){var s,r,n,i,o,a,l,u,c,h,g;let b,m;if("message"in e)b=e.message,m=e.signature;else{const{chain:w,wallet:y,statement:P,options:C}=e;let S;if(Ne())if(typeof y=="object")S=y;else{const pe=window;if("ethereum"in pe&&typeof pe.ethereum=="object"&&"request"in pe.ethereum&&typeof pe.ethereum.request=="function")S=pe.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(C!=null&&C.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=y}const O=new URL((s=C==null?void 0:C.url)!==null&&s!==void 0?s:window.location.href),M=await S.request({method:"eth_requestAccounts"}).then(pe=>pe).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!M||M.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const q=pl(M[0]);let H=(r=C==null?void 0:C.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!H){const pe=await S.request({method:"eth_chainId"});H=Sf(pe)}const ce={domain:O.host,address:q,statement:P,uri:O.href,version:"1",chainId:H,nonce:(n=C==null?void 0:C.signInWithEthereum)===null||n===void 0?void 0:n.nonce,issuedAt:(o=(i=C==null?void 0:C.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=C==null?void 0:C.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=C==null?void 0:C.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=C==null?void 0:C.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=C==null?void 0:C.signInWithEthereum)===null||c===void 0?void 0:c.resources};b=kf(ce),m=await S.request({method:"personal_sign",params:[Ef(b),q]})}try{const{data:w,error:y}=await J(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:m},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:st});if(y)throw y;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new Ts}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:y})}catch(w){if(W(w))return{data:{user:null,session:null},error:w};throw w}}async signInWithSolana(e){var s,r,n,i,o,a,l,u,c,h,g,b;let m,w;if("message"in e)m=e.message,w=e.signature;else{const{chain:y,wallet:P,statement:C,options:S}=e;let O;if(Ne())if(typeof P=="object")O=P;else{const q=window;if("solana"in q&&typeof q.solana=="object"&&("signIn"in q.solana&&typeof q.solana.signIn=="function"||"signMessage"in q.solana&&typeof q.solana.signMessage=="function"))O=q.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof P!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=P}const M=new URL((s=S==null?void 0:S.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in O&&O.signIn){const q=await O.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S==null?void 0:S.signInWithSolana),{version:"1",domain:M.host,uri:M.href}),C?{statement:C}:null));let H;if(Array.isArray(q)&&q[0]&&typeof q[0]=="object")H=q[0];else if(q&&typeof q=="object"&&"signedMessage"in q&&"signature"in q)H=q;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in H&&"signature"in H&&(typeof H.signedMessage=="string"||H.signedMessage instanceof Uint8Array)&&H.signature instanceof Uint8Array)m=typeof H.signedMessage=="string"?H.signedMessage:new TextDecoder().decode(H.signedMessage),w=H.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in O)||typeof O.signMessage!="function"||!("publicKey"in O)||typeof O!="object"||!O.publicKey||!("toBase58"in O.publicKey)||typeof O.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${M.host} wants you to sign in with your Solana account:`,O.publicKey.toBase58(),...C?["",C,""]:[""],"Version: 1",`URI: ${M.href}`,`Issued At: ${(n=(r=S==null?void 0:S.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&n!==void 0?n:new Date().toISOString()}`,...!((i=S==null?void 0:S.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((o=S==null?void 0:S.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((a=S==null?void 0:S.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((l=S==null?void 0:S.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((u=S==null?void 0:S.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((h=(c=S==null?void 0:S.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||h===void 0)&&h.length?["Resources",...S.signInWithSolana.resources.map(H=>`- ${H}`)]:[]].join(`
`);const q=await O.signMessage(new TextEncoder().encode(m),"utf8");if(!q||!(q instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=q}}try{const{data:y,error:P}=await J(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:Kh(w)},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:st});if(P)throw P;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new Ts}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:P})}catch(y){if(W(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(e){const s=await It(this.storage,`${this.storageKey}-code-verifier`),[r,n]=(s??"").split("/");try{const{data:i,error:o}=await J(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:st});if(await St(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Ts}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:o})}catch(i){if(W(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:s,provider:r,token:n,access_token:i,nonce:o}=e,a=await J(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:st}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Ts}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(s){if(W(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(e){var s,r,n,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Qt(this.storage,this.storageKey));const{error:h}=await J(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await J(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new ur("You must provide either an email or phone number.")}catch(a){if(W(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var s,r;try{let n,i;"options"in e&&(n=(s=e.options)===null||s===void 0?void 0:s.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await J(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:st});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(n){if(W(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(e){var s,r,n;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Qt(this.storage,this.storageKey)),await J(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((n=e==null?void 0:e.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:ff})}catch(i){if(W(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:r}=e;if(r)throw r;if(!s)throw new Et;const{error:n}=await J(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:n}})}catch(e){if(W(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:r,type:n,options:i}=e,{error:o}=await J(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:n,options:i}=e,{data:o,error:a}=await J(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new ur("You must provide either an email or phone number and a type")}catch(s){if(W(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await It(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<pn:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await It(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=bn()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:e},error:null}}const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await J(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ot}):await this._useSession(async s=>{var r,n,i;const{data:o,error:a}=s;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Et}:await J(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:Ot})})}catch(s){if(W(s))return Lh(s)&&(await this._removeSession(),await St(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async r=>{const{data:n,error:i}=r;if(i)throw i;if(!n.session)throw new Et;const o=n.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Qt(this.storage,this.storageKey));const{data:u,error:c}=await J(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Ot});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(W(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Et;const s=Date.now()/1e3;let r=s,n=!0,i=null;const{payload:o}=mn(e.access_token);if(o.exp&&(r=o.exp,n=r<=s),n){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(s){if(W(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var r;if(!e){const{data:o,error:a}=s;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Et;const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(W(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(e,s){try{if(!Ne())throw new dr("No browser detected.");if(e.error||e.error_description||e.error_code)throw new dr(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new fo("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new dr("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new fo("No code detected.");const{data:C,error:S}=await this._exchangeCodeForSession(e.code);if(S)throw S;const O=new URL(window.location.href);return O.searchParams.delete("code"),window.history.replaceState(window.history.state,"",O.toString()),{data:{session:C.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!i||!a||!o||!u)throw new dr("No session defined in URL");const c=Math.round(Date.now()/1e3),h=parseInt(a);let g=c+h;l&&(g=parseInt(l));const b=g-c;b*1e3<=ts&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${h}s`);const m=g-h;c-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,g,c):c-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,g,c);const{data:w,error:y}=await this._getUser(i);if(y)throw y;const P={provider_token:r,provider_refresh_token:n,access_token:i,expires_in:h,expires_at:g,refresh_token:o,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:P,redirectType:e.type},error:null}}catch(r){if(W(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await It(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{error:i};const o=(r=n.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Uh(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await St(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const s=zh(),r={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async s=>{var r,n;try{const{data:{session:i},error:o}=s;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,s={}){let r=null,n=null;this.flowType==="pkce"&&([r,n]=await Qt(this.storage,this.storageKey,!0));try{return await J(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(W(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(s){if(W(s))return{data:null,error:s};throw s}}async linkIdentity(e){var s;try{const{data:r,error:n}=await this._useSession(async i=>{var o,a,l,u,c;const{data:h,error:g}=i;if(g)throw g;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await J(this.fetch,"GET",b,{headers:this.headers,jwt:(c=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(n)throw n;return Ne()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(W(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)throw o;return await J(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:void 0})})}catch(s){if(W(s))return{data:null,error:s};throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await Xh(async n=>(n>0&&await Yh(200*Math.pow(2,n-1)),this._debug(s,"refreshing attempt",n),await J(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:st})),(n,i)=>{const o=200*Math.pow(2,n);return i&&gn(i)&&Date.now()+o-r<ts})}catch(r){if(this._debug(s,"error",r),W(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",r),Ne()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,s;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await It(this.storage,this.storageKey);if(n&&this.userStorage){let o=await It(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:n.user},await ss(this.userStorage,this.storageKey+"-user",o)),n.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:bn()}else if(n&&!n.user&&!n.user){const o=await It(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(n.user=o.user,await St(this.storage,this.storageKey+"-user"),await ss(this.storage,this.storageKey,n)):n.user=bn()}if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const i=((s=n.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<pn;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${pn}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),gn(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(n.user&&n.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(n.access_token);!a&&(o!=null&&o.user)?(n.user=o.user,await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var s,r;if(!e)throw new Et;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new Kr;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Et;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(n,"error",i),W(i)){const o={session:null,error:i};return gn(i)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,s,r=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:s});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,s)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const s=Object.assign({},e),r=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&s.user&&await ss(this.userStorage,this.storageKey+"-user",{user:s.user});const n=Object.assign({},s);delete n.user;const i=_o(n);await ss(this.storage,this.storageKey,i)}else{const n=_o(s);await ss(this.storage,this.storageKey,n)}}async _removeSession(){this._debug("#_removeSession()"),await St(this.storage,this.storageKey),await St(this.storage,this.storageKey+"-code-verifier"),await St(this.storage,this.storageKey+"-user"),this.userStorage&&await St(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ne()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ts);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((r.expires_at*1e3-e)/ts);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${ts}ms, refresh threshold is ${Fn} ticks`),n<=Fn&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof fl)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ne()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,r){const n=[`provider=${encodeURIComponent(s)}`];if(r!=null&&r.redirectTo&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Qt(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);n.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&n.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await J(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(W(s))return{data:null,error:s};throw s}}async _enroll(e){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await J(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((n=l==null?void 0:l.totp)===null||n===void 0)&&n.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(s){if(W(s))return{data:null,error:s};throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{data:null,error:i};const{data:o,error:a}=await J(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(s){if(W(s))return{data:null,error:s};throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await J(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(W(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(e){const{data:s,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){const{data:{user:e},error:s}=await this.getUser();if(s)return{data:null,error:s};const r=(e==null?void 0:e.factors)||[],n=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:n,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var s,r;const{data:{session:n},error:i}=e;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=mn(n.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(s=n.user.factors)===null||s===void 0?void 0:s.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(e,s={keys:[]}){let r=s.keys.find(a=>a.kid===e);if(r)return r;const n=Date.now();if(r=this.jwks.keys.find(a=>a.kid===e),r&&this.jwks_cached_at+$h>n)return r;const{data:i,error:o}=await J(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=n,r=i.keys.find(a=>a.kid===e),!r)?null:r}async getClaims(e,s={}){try{let r=e;if(!r){const{data:b,error:m}=await this.getSession();if(m||!b.session)return{data:null,error:m};r=b.session.access_token}const{header:n,payload:i,signature:o,raw:{header:a,payload:l}}=mn(r);s!=null&&s.allowExpired||of(i.exp);const u=!n.alg||n.alg.startsWith("HS")||!n.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(n.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!u){const{error:b}=await this.getUser(r);if(b)throw b;return{data:{claims:i,header:n,signature:o},error:null}}const c=af(n.alg),h=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,h,o,Vh(`${a}.${l}`)))throw new Wn("Invalid JWT signature");return{data:{claims:i,header:n,signature:o},error:null}}catch(r){if(W(r))return{data:null,error:r};throw r}}}Ks.nextInstanceID=0;const xf=Ks;class Of extends xf{constructor(e){super(e)}}var Cf=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};class Af{constructor(e,s,r){var n,i,o;this.supabaseUrl=e,this.supabaseKey=s;const a=Ph(e);if(!s)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,u={db:wh,realtime:Sh,auth:Object.assign(Object.assign({},vh),{storageKey:l}),global:yh},c=Ah(r??{},u);this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(h,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=xh(s,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new Dd(new URL("rest/v1",a).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new mh(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new fd(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},r={}){return this.rest.rpc(e,s,r)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,s;return Cf(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(s=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,userStorage:i,storageKey:o,flowType:a,lock:l,debug:u},c,h){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Of({url:this.authUrl.href,headers:Object.assign(Object.assign({},g),c),storageKey:o,autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,userStorage:i,flowType:a,lock:l,debug:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Zd(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,s,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Pf=(t,e,s)=>new Af(t,e,s);function Rf(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Rf()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const jf="https://ebmkmuonozapdzabtgjv.supabase.co",If="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVibWttdW9ub3phcGR6YWJ0Z2p2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY0NzM5NDksImV4cCI6MjA3MjA0OTk0OX0.Mng3s3ngE72GKYCFBLgs2JthbTRzgtjOOUrtLdTfevU",Ae=Pf(jf,If);function gl(t,e){return function(){return t.apply(e,arguments)}}const{toString:Bf}=Object.prototype,{getPrototypeOf:yi}=Object,{iterator:Jr,toStringTag:ml}=Symbol,zr=(t=>e=>{const s=Bf.call(e);return t[s]||(t[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),Je=t=>(t=t.toLowerCase(),e=>zr(e)===t),Gr=t=>e=>typeof e===t,{isArray:gs}=Array,ds=Gr("undefined");function er(t){return t!==null&&!ds(t)&&t.constructor!==null&&!ds(t.constructor)&&je(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const bl=Je("ArrayBuffer");function $f(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&bl(t.buffer),e}const Df=Gr("string"),je=Gr("function"),_l=Gr("number"),tr=t=>t!==null&&typeof t=="object",Uf=t=>t===!0||t===!1,_r=t=>{if(zr(t)!=="object")return!1;const e=yi(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(ml in t)&&!(Jr in t)},Lf=t=>{if(!tr(t)||er(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},Nf=Je("Date"),Mf=Je("File"),Ff=Je("Blob"),qf=Je("FileList"),Hf=t=>tr(t)&&je(t.pipe),Wf=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||je(t.append)&&((e=zr(t))==="formdata"||e==="object"&&je(t.toString)&&t.toString()==="[object FormData]"))},Vf=Je("URLSearchParams"),[Kf,Jf,zf,Gf]=["ReadableStream","Request","Response","Headers"].map(Je),Qf=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function sr(t,e,{allOwnKeys:s=!1}={}){if(t===null||typeof t>"u")return;let r,n;if(typeof t!="object"&&(t=[t]),gs(t))for(r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else{if(er(t))return;const i=s?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let a;for(r=0;r<o;r++)a=i[r],e.call(null,t[a],a,t)}}function yl(t,e){if(er(t))return null;e=e.toLowerCase();const s=Object.keys(t);let r=s.length,n;for(;r-- >0;)if(n=s[r],e===n.toLowerCase())return n;return null}const Ut=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,wl=t=>!ds(t)&&t!==Ut;function Vn(){const{caseless:t,skipUndefined:e}=wl(this)&&this||{},s={},r=(n,i)=>{const o=t&&yl(s,i)||i;_r(s[o])&&_r(n)?s[o]=Vn(s[o],n):_r(n)?s[o]=Vn({},n):gs(n)?s[o]=n.slice():(!e||!ds(n))&&(s[o]=n)};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&sr(arguments[n],r);return s}const Yf=(t,e,s,{allOwnKeys:r}={})=>(sr(e,(n,i)=>{s&&je(n)?t[i]=gl(n,s):t[i]=n},{allOwnKeys:r}),t),Xf=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Zf=(t,e,s,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),s&&Object.assign(t.prototype,s)},ep=(t,e,s,r)=>{let n,i,o;const a={};if(e=e||{},t==null)return e;do{for(n=Object.getOwnPropertyNames(t),i=n.length;i-- >0;)o=n[i],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=s!==!1&&yi(t)}while(t&&(!s||s(t,e))&&t!==Object.prototype);return e},tp=(t,e,s)=>{t=String(t),(s===void 0||s>t.length)&&(s=t.length),s-=e.length;const r=t.indexOf(e,s);return r!==-1&&r===s},sp=t=>{if(!t)return null;if(gs(t))return t;let e=t.length;if(!_l(e))return null;const s=new Array(e);for(;e-- >0;)s[e]=t[e];return s},rp=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&yi(Uint8Array)),np=(t,e)=>{const r=(t&&t[Jr]).call(t);let n;for(;(n=r.next())&&!n.done;){const i=n.value;e.call(t,i[0],i[1])}},ip=(t,e)=>{let s;const r=[];for(;(s=t.exec(e))!==null;)r.push(s);return r},op=Je("HTMLFormElement"),ap=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,r,n){return r.toUpperCase()+n}),Eo=(({hasOwnProperty:t})=>(e,s)=>t.call(e,s))(Object.prototype),lp=Je("RegExp"),vl=(t,e)=>{const s=Object.getOwnPropertyDescriptors(t),r={};sr(s,(n,i)=>{let o;(o=e(n,i,t))!==!1&&(r[i]=o||n)}),Object.defineProperties(t,r)},cp=t=>{vl(t,(e,s)=>{if(je(t)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const r=t[s];if(je(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},up=(t,e)=>{const s={},r=n=>{n.forEach(i=>{s[i]=!0})};return gs(t)?r(t):r(String(t).split(e)),s},dp=()=>{},hp=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function fp(t){return!!(t&&je(t.append)&&t[ml]==="FormData"&&t[Jr])}const pp=t=>{const e=new Array(10),s=(r,n)=>{if(tr(r)){if(e.indexOf(r)>=0)return;if(er(r))return r;if(!("toJSON"in r)){e[n]=r;const i=gs(r)?[]:{};return sr(r,(o,a)=>{const l=s(o,n+1);!ds(l)&&(i[a]=l)}),e[n]=void 0,i}}return r};return s(t,0)},gp=Je("AsyncFunction"),mp=t=>t&&(tr(t)||je(t))&&je(t.then)&&je(t.catch),Sl=((t,e)=>t?setImmediate:e?((s,r)=>(Ut.addEventListener("message",({source:n,data:i})=>{n===Ut&&i===s&&r.length&&r.shift()()},!1),n=>{r.push(n),Ut.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",je(Ut.postMessage)),bp=typeof queueMicrotask<"u"?queueMicrotask.bind(Ut):typeof process<"u"&&process.nextTick||Sl,_p=t=>t!=null&&je(t[Jr]),_={isArray:gs,isArrayBuffer:bl,isBuffer:er,isFormData:Wf,isArrayBufferView:$f,isString:Df,isNumber:_l,isBoolean:Uf,isObject:tr,isPlainObject:_r,isEmptyObject:Lf,isReadableStream:Kf,isRequest:Jf,isResponse:zf,isHeaders:Gf,isUndefined:ds,isDate:Nf,isFile:Mf,isBlob:Ff,isRegExp:lp,isFunction:je,isStream:Hf,isURLSearchParams:Vf,isTypedArray:rp,isFileList:qf,forEach:sr,merge:Vn,extend:Yf,trim:Qf,stripBOM:Xf,inherits:Zf,toFlatObject:ep,kindOf:zr,kindOfTest:Je,endsWith:tp,toArray:sp,forEachEntry:np,matchAll:ip,isHTMLForm:op,hasOwnProperty:Eo,hasOwnProp:Eo,reduceDescriptors:vl,freezeMethods:cp,toObjectSet:up,toCamelCase:ap,noop:dp,toFiniteNumber:hp,findKey:yl,global:Ut,isContextDefined:wl,isSpecCompliantForm:fp,toJSONObject:pp,isAsyncFn:gp,isThenable:mp,setImmediate:Sl,asap:bp,isIterable:_p};function V(t,e,s,r,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),s&&(this.config=s),r&&(this.request=r),n&&(this.response=n,this.status=n.status?n.status:null)}_.inherits(V,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:_.toJSONObject(this.config),code:this.code,status:this.status}}});const El=V.prototype,kl={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{kl[t]={value:t}});Object.defineProperties(V,kl);Object.defineProperty(El,"isAxiosError",{value:!0});V.from=(t,e,s,r,n,i)=>{const o=Object.create(El);_.toFlatObject(t,o,function(c){return c!==Error.prototype},u=>u!=="isAxiosError");const a=t&&t.message?t.message:"Error",l=e==null&&t?t.code:e;return V.call(o,a,l,s,r,n),t&&o.cause==null&&Object.defineProperty(o,"cause",{value:t,configurable:!0}),o.name=t&&t.name||"Error",i&&Object.assign(o,i),o};const yp=null;function Kn(t){return _.isPlainObject(t)||_.isArray(t)}function Tl(t){return _.endsWith(t,"[]")?t.slice(0,-2):t}function ko(t,e,s){return t?t.concat(e).map(function(n,i){return n=Tl(n),!s&&i?"["+n+"]":n}).join(s?".":""):e}function wp(t){return _.isArray(t)&&!t.some(Kn)}const vp=_.toFlatObject(_,{},null,function(e){return/^is[A-Z]/.test(e)});function Qr(t,e,s){if(!_.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,s=_.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,y){return!_.isUndefined(y[w])});const r=s.metaTokens,n=s.visitor||c,i=s.dots,o=s.indexes,l=(s.Blob||typeof Blob<"u"&&Blob)&&_.isSpecCompliantForm(e);if(!_.isFunction(n))throw new TypeError("visitor must be a function");function u(m){if(m===null)return"";if(_.isDate(m))return m.toISOString();if(_.isBoolean(m))return m.toString();if(!l&&_.isBlob(m))throw new V("Blob is not supported. Use a Buffer instead.");return _.isArrayBuffer(m)||_.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function c(m,w,y){let P=m;if(m&&!y&&typeof m=="object"){if(_.endsWith(w,"{}"))w=r?w:w.slice(0,-2),m=JSON.stringify(m);else if(_.isArray(m)&&wp(m)||(_.isFileList(m)||_.endsWith(w,"[]"))&&(P=_.toArray(m)))return w=Tl(w),P.forEach(function(S,O){!(_.isUndefined(S)||S===null)&&e.append(o===!0?ko([w],O,i):o===null?w:w+"[]",u(S))}),!1}return Kn(m)?!0:(e.append(ko(y,w,i),u(m)),!1)}const h=[],g=Object.assign(vp,{defaultVisitor:c,convertValue:u,isVisitable:Kn});function b(m,w){if(!_.isUndefined(m)){if(h.indexOf(m)!==-1)throw Error("Circular reference detected in "+w.join("."));h.push(m),_.forEach(m,function(P,C){(!(_.isUndefined(P)||P===null)&&n.call(e,P,_.isString(C)?C.trim():C,w,g))===!0&&b(P,w?w.concat(C):[C])}),h.pop()}}if(!_.isObject(t))throw new TypeError("data must be an object");return b(t),e}function To(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function wi(t,e){this._pairs=[],t&&Qr(t,this,e)}const xl=wi.prototype;xl.append=function(e,s){this._pairs.push([e,s])};xl.toString=function(e){const s=e?function(r){return e.call(this,r,To)}:To;return this._pairs.map(function(n){return s(n[0])+"="+s(n[1])},"").join("&")};function Sp(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Ol(t,e,s){if(!e)return t;const r=s&&s.encode||Sp;_.isFunction(s)&&(s={serialize:s});const n=s&&s.serialize;let i;if(n?i=n(e,s):i=_.isURLSearchParams(e)?e.toString():new wi(e,s).toString(r),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class xo{constructor(){this.handlers=[]}use(e,s,r){return this.handlers.push({fulfilled:e,rejected:s,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){_.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Cl={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ep=typeof URLSearchParams<"u"?URLSearchParams:wi,kp=typeof FormData<"u"?FormData:null,Tp=typeof Blob<"u"?Blob:null,xp={isBrowser:!0,classes:{URLSearchParams:Ep,FormData:kp,Blob:Tp},protocols:["http","https","file","blob","url","data"]},vi=typeof window<"u"&&typeof document<"u",Jn=typeof navigator=="object"&&navigator||void 0,Op=vi&&(!Jn||["ReactNative","NativeScript","NS"].indexOf(Jn.product)<0),Cp=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Ap=vi&&window.location.href||"http://localhost",Pp=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:vi,hasStandardBrowserEnv:Op,hasStandardBrowserWebWorkerEnv:Cp,navigator:Jn,origin:Ap},Symbol.toStringTag,{value:"Module"})),we={...Pp,...xp};function Rp(t,e){return Qr(t,new we.classes.URLSearchParams,{visitor:function(s,r,n,i){return we.isNode&&_.isBuffer(s)?(this.append(r,s.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...e})}function jp(t){return _.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Ip(t){const e={},s=Object.keys(t);let r;const n=s.length;let i;for(r=0;r<n;r++)i=s[r],e[i]=t[i];return e}function Al(t){function e(s,r,n,i){let o=s[i++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=i>=s.length;return o=!o&&_.isArray(n)?n.length:o,l?(_.hasOwnProp(n,o)?n[o]=[n[o],r]:n[o]=r,!a):((!n[o]||!_.isObject(n[o]))&&(n[o]=[]),e(s,r,n[o],i)&&_.isArray(n[o])&&(n[o]=Ip(n[o])),!a)}if(_.isFormData(t)&&_.isFunction(t.entries)){const s={};return _.forEachEntry(t,(r,n)=>{e(jp(r),n,s,0)}),s}return null}function Bp(t,e,s){if(_.isString(t))try{return(e||JSON.parse)(t),_.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(s||JSON.stringify)(t)}const rr={transitional:Cl,adapter:["xhr","http","fetch"],transformRequest:[function(e,s){const r=s.getContentType()||"",n=r.indexOf("application/json")>-1,i=_.isObject(e);if(i&&_.isHTMLForm(e)&&(e=new FormData(e)),_.isFormData(e))return n?JSON.stringify(Al(e)):e;if(_.isArrayBuffer(e)||_.isBuffer(e)||_.isStream(e)||_.isFile(e)||_.isBlob(e)||_.isReadableStream(e))return e;if(_.isArrayBufferView(e))return e.buffer;if(_.isURLSearchParams(e))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Rp(e,this.formSerializer).toString();if((a=_.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Qr(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return i||n?(s.setContentType("application/json",!1),Bp(e)):e}],transformResponse:[function(e){const s=this.transitional||rr.transitional,r=s&&s.forcedJSONParsing,n=this.responseType==="json";if(_.isResponse(e)||_.isReadableStream(e))return e;if(e&&_.isString(e)&&(r&&!this.responseType||n)){const o=!(s&&s.silentJSONParsing)&&n;try{return JSON.parse(e,this.parseReviver)}catch(a){if(o)throw a.name==="SyntaxError"?V.from(a,V.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:we.classes.FormData,Blob:we.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};_.forEach(["delete","get","head","post","put","patch"],t=>{rr.headers[t]={}});const $p=_.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Dp=t=>{const e={};let s,r,n;return t&&t.split(`
`).forEach(function(o){n=o.indexOf(":"),s=o.substring(0,n).trim().toLowerCase(),r=o.substring(n+1).trim(),!(!s||e[s]&&$p[s])&&(s==="set-cookie"?e[s]?e[s].push(r):e[s]=[r]:e[s]=e[s]?e[s]+", "+r:r)}),e},Oo=Symbol("internals");function xs(t){return t&&String(t).trim().toLowerCase()}function yr(t){return t===!1||t==null?t:_.isArray(t)?t.map(yr):String(t)}function Up(t){const e=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=s.exec(t);)e[r[1]]=r[2];return e}const Lp=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function yn(t,e,s,r,n){if(_.isFunction(r))return r.call(this,e,s);if(n&&(e=s),!!_.isString(e)){if(_.isString(r))return e.indexOf(r)!==-1;if(_.isRegExp(r))return r.test(e)}}function Np(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,s,r)=>s.toUpperCase()+r)}function Mp(t,e){const s=_.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+s,{value:function(n,i,o){return this[r].call(this,e,n,i,o)},configurable:!0})})}let Ie=class{constructor(e){e&&this.set(e)}set(e,s,r){const n=this;function i(a,l,u){const c=xs(l);if(!c)throw new Error("header name must be a non-empty string");const h=_.findKey(n,c);(!h||n[h]===void 0||u===!0||u===void 0&&n[h]!==!1)&&(n[h||l]=yr(a))}const o=(a,l)=>_.forEach(a,(u,c)=>i(u,c,l));if(_.isPlainObject(e)||e instanceof this.constructor)o(e,s);else if(_.isString(e)&&(e=e.trim())&&!Lp(e))o(Dp(e),s);else if(_.isObject(e)&&_.isIterable(e)){let a={},l,u;for(const c of e){if(!_.isArray(c))throw TypeError("Object iterator must return a key-value pair");a[u=c[0]]=(l=a[u])?_.isArray(l)?[...l,c[1]]:[l,c[1]]:c[1]}o(a,s)}else e!=null&&i(s,e,r);return this}get(e,s){if(e=xs(e),e){const r=_.findKey(this,e);if(r){const n=this[r];if(!s)return n;if(s===!0)return Up(n);if(_.isFunction(s))return s.call(this,n,r);if(_.isRegExp(s))return s.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,s){if(e=xs(e),e){const r=_.findKey(this,e);return!!(r&&this[r]!==void 0&&(!s||yn(this,this[r],r,s)))}return!1}delete(e,s){const r=this;let n=!1;function i(o){if(o=xs(o),o){const a=_.findKey(r,o);a&&(!s||yn(r,r[a],a,s))&&(delete r[a],n=!0)}}return _.isArray(e)?e.forEach(i):i(e),n}clear(e){const s=Object.keys(this);let r=s.length,n=!1;for(;r--;){const i=s[r];(!e||yn(this,this[i],i,e,!0))&&(delete this[i],n=!0)}return n}normalize(e){const s=this,r={};return _.forEach(this,(n,i)=>{const o=_.findKey(r,i);if(o){s[o]=yr(n),delete s[i];return}const a=e?Np(i):String(i).trim();a!==i&&delete s[i],s[a]=yr(n),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const s=Object.create(null);return _.forEach(this,(r,n)=>{r!=null&&r!==!1&&(s[n]=e&&_.isArray(r)?r.join(", "):r)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,s])=>e+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...s){const r=new this(e);return s.forEach(n=>r.set(n)),r}static accessor(e){const r=(this[Oo]=this[Oo]={accessors:{}}).accessors,n=this.prototype;function i(o){const a=xs(o);r[a]||(Mp(n,o),r[a]=!0)}return _.isArray(e)?e.forEach(i):i(e),this}};Ie.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);_.reduceDescriptors(Ie.prototype,({value:t},e)=>{let s=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[s]=r}}});_.freezeMethods(Ie);function wn(t,e){const s=this||rr,r=e||s,n=Ie.from(r.headers);let i=r.data;return _.forEach(t,function(a){i=a.call(s,i,n.normalize(),e?e.status:void 0)}),n.normalize(),i}function Pl(t){return!!(t&&t.__CANCEL__)}function ms(t,e,s){V.call(this,t??"canceled",V.ERR_CANCELED,e,s),this.name="CanceledError"}_.inherits(ms,V,{__CANCEL__:!0});function Rl(t,e,s){const r=s.config.validateStatus;!s.status||!r||r(s.status)?t(s):e(new V("Request failed with status code "+s.status,[V.ERR_BAD_REQUEST,V.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function Fp(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function qp(t,e){t=t||10;const s=new Array(t),r=new Array(t);let n=0,i=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),c=r[i];o||(o=u),s[n]=l,r[n]=u;let h=i,g=0;for(;h!==n;)g+=s[h++],h=h%t;if(n=(n+1)%t,n===i&&(i=(i+1)%t),u-o<e)return;const b=c&&u-c;return b?Math.round(g*1e3/b):void 0}}function Hp(t,e){let s=0,r=1e3/e,n,i;const o=(u,c=Date.now())=>{s=c,n=null,i&&(clearTimeout(i),i=null),t(...u)};return[(...u)=>{const c=Date.now(),h=c-s;h>=r?o(u,c):(n=u,i||(i=setTimeout(()=>{i=null,o(n)},r-h)))},()=>n&&o(n)]}const Rr=(t,e,s=3)=>{let r=0;const n=qp(50,250);return Hp(i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,l=o-r,u=n(l),c=o<=a;r=o;const h={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&c?(a-o)/u:void 0,event:i,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(h)},s)},Co=(t,e)=>{const s=t!=null;return[r=>e[0]({lengthComputable:s,total:t,loaded:r}),e[1]]},Ao=t=>(...e)=>_.asap(()=>t(...e)),Wp=we.hasStandardBrowserEnv?((t,e)=>s=>(s=new URL(s,we.origin),t.protocol===s.protocol&&t.host===s.host&&(e||t.port===s.port)))(new URL(we.origin),we.navigator&&/(msie|trident)/i.test(we.navigator.userAgent)):()=>!0,Vp=we.hasStandardBrowserEnv?{write(t,e,s,r,n,i){const o=[t+"="+encodeURIComponent(e)];_.isNumber(s)&&o.push("expires="+new Date(s).toGMTString()),_.isString(r)&&o.push("path="+r),_.isString(n)&&o.push("domain="+n),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Kp(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Jp(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function jl(t,e,s){let r=!Kp(e);return t&&(r||s==!1)?Jp(t,e):e}const Po=t=>t instanceof Ie?{...t}:t;function qt(t,e){e=e||{};const s={};function r(u,c,h,g){return _.isPlainObject(u)&&_.isPlainObject(c)?_.merge.call({caseless:g},u,c):_.isPlainObject(c)?_.merge({},c):_.isArray(c)?c.slice():c}function n(u,c,h,g){if(_.isUndefined(c)){if(!_.isUndefined(u))return r(void 0,u,h,g)}else return r(u,c,h,g)}function i(u,c){if(!_.isUndefined(c))return r(void 0,c)}function o(u,c){if(_.isUndefined(c)){if(!_.isUndefined(u))return r(void 0,u)}else return r(void 0,c)}function a(u,c,h){if(h in e)return r(u,c);if(h in t)return r(void 0,u)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,c,h)=>n(Po(u),Po(c),h,!0)};return _.forEach(Object.keys({...t,...e}),function(c){const h=l[c]||n,g=h(t[c],e[c],c);_.isUndefined(g)&&h!==a||(s[c]=g)}),s}const Il=t=>{const e=qt({},t);let{data:s,withXSRFToken:r,xsrfHeaderName:n,xsrfCookieName:i,headers:o,auth:a}=e;if(e.headers=o=Ie.from(o),e.url=Ol(jl(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),_.isFormData(s)){if(we.hasStandardBrowserEnv||we.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(_.isFunction(s.getHeaders)){const l=s.getHeaders(),u=["content-type","content-length"];Object.entries(l).forEach(([c,h])=>{u.includes(c.toLowerCase())&&o.set(c,h)})}}if(we.hasStandardBrowserEnv&&(r&&_.isFunction(r)&&(r=r(e)),r||r!==!1&&Wp(e.url))){const l=n&&i&&Vp.read(i);l&&o.set(n,l)}return e},zp=typeof XMLHttpRequest<"u",Gp=zp&&function(t){return new Promise(function(s,r){const n=Il(t);let i=n.data;const o=Ie.from(n.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:u}=n,c,h,g,b,m;function w(){b&&b(),m&&m(),n.cancelToken&&n.cancelToken.unsubscribe(c),n.signal&&n.signal.removeEventListener("abort",c)}let y=new XMLHttpRequest;y.open(n.method.toUpperCase(),n.url,!0),y.timeout=n.timeout;function P(){if(!y)return;const S=Ie.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),M={data:!a||a==="text"||a==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:S,config:t,request:y};Rl(function(H){s(H),w()},function(H){r(H),w()},M),y=null}"onloadend"in y?y.onloadend=P:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(P)},y.onabort=function(){y&&(r(new V("Request aborted",V.ECONNABORTED,t,y)),y=null)},y.onerror=function(O){const M=O&&O.message?O.message:"Network Error",q=new V(M,V.ERR_NETWORK,t,y);q.event=O||null,r(q),y=null},y.ontimeout=function(){let O=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const M=n.transitional||Cl;n.timeoutErrorMessage&&(O=n.timeoutErrorMessage),r(new V(O,M.clarifyTimeoutError?V.ETIMEDOUT:V.ECONNABORTED,t,y)),y=null},i===void 0&&o.setContentType(null),"setRequestHeader"in y&&_.forEach(o.toJSON(),function(O,M){y.setRequestHeader(M,O)}),_.isUndefined(n.withCredentials)||(y.withCredentials=!!n.withCredentials),a&&a!=="json"&&(y.responseType=n.responseType),u&&([g,m]=Rr(u,!0),y.addEventListener("progress",g)),l&&y.upload&&([h,b]=Rr(l),y.upload.addEventListener("progress",h),y.upload.addEventListener("loadend",b)),(n.cancelToken||n.signal)&&(c=S=>{y&&(r(!S||S.type?new ms(null,t,y):S),y.abort(),y=null)},n.cancelToken&&n.cancelToken.subscribe(c),n.signal&&(n.signal.aborted?c():n.signal.addEventListener("abort",c)));const C=Fp(n.url);if(C&&we.protocols.indexOf(C)===-1){r(new V("Unsupported protocol "+C+":",V.ERR_BAD_REQUEST,t));return}y.send(i||null)})},Qp=(t,e)=>{const{length:s}=t=t?t.filter(Boolean):[];if(e||s){let r=new AbortController,n;const i=function(u){if(!n){n=!0,a();const c=u instanceof Error?u:this.reason;r.abort(c instanceof V?c:new ms(c instanceof Error?c.message:c))}};let o=e&&setTimeout(()=>{o=null,i(new V(`timeout ${e} of ms exceeded`,V.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),t=null)};t.forEach(u=>u.addEventListener("abort",i));const{signal:l}=r;return l.unsubscribe=()=>_.asap(a),l}},Yp=function*(t,e){let s=t.byteLength;if(s<e){yield t;return}let r=0,n;for(;r<s;)n=r+e,yield t.slice(r,n),r=n},Xp=async function*(t,e){for await(const s of Zp(t))yield*Yp(s,e)},Zp=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:s,value:r}=await e.read();if(s)break;yield r}}finally{await e.cancel()}},Ro=(t,e,s,r)=>{const n=Xp(t,e);let i=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:u,value:c}=await n.next();if(u){a(),l.close();return}let h=c.byteLength;if(s){let g=i+=h;s(g)}l.enqueue(new Uint8Array(c))}catch(u){throw a(u),u}},cancel(l){return a(l),n.return()}},{highWaterMark:2})},jo=64*1024,{isFunction:hr}=_,eg=(({Request:t,Response:e})=>({Request:t,Response:e}))(_.global),{ReadableStream:Io,TextEncoder:Bo}=_.global,$o=(t,...e)=>{try{return!!t(...e)}catch{return!1}},tg=t=>{t=_.merge.call({skipUndefined:!0},eg,t);const{fetch:e,Request:s,Response:r}=t,n=e?hr(e):typeof fetch=="function",i=hr(s),o=hr(r);if(!n)return!1;const a=n&&hr(Io),l=n&&(typeof Bo=="function"?(m=>w=>m.encode(w))(new Bo):async m=>new Uint8Array(await new s(m).arrayBuffer())),u=i&&a&&$o(()=>{let m=!1;const w=new s(we.origin,{body:new Io,method:"POST",get duplex(){return m=!0,"half"}}).headers.has("Content-Type");return m&&!w}),c=o&&a&&$o(()=>_.isReadableStream(new r("").body)),h={stream:c&&(m=>m.body)};n&&["text","arrayBuffer","blob","formData","stream"].forEach(m=>{!h[m]&&(h[m]=(w,y)=>{let P=w&&w[m];if(P)return P.call(w);throw new V(`Response type '${m}' is not supported`,V.ERR_NOT_SUPPORT,y)})});const g=async m=>{if(m==null)return 0;if(_.isBlob(m))return m.size;if(_.isSpecCompliantForm(m))return(await new s(we.origin,{method:"POST",body:m}).arrayBuffer()).byteLength;if(_.isArrayBufferView(m)||_.isArrayBuffer(m))return m.byteLength;if(_.isURLSearchParams(m)&&(m=m+""),_.isString(m))return(await l(m)).byteLength},b=async(m,w)=>{const y=_.toFiniteNumber(m.getContentLength());return y??g(w)};return async m=>{let{url:w,method:y,data:P,signal:C,cancelToken:S,timeout:O,onDownloadProgress:M,onUploadProgress:q,responseType:H,headers:ce,withCredentials:pe="same-origin",fetchOptions:ze}=Il(m),vt=e||fetch;H=H?(H+"").toLowerCase():"text";let ct=Qp([C,S&&S.toAbortSignal()],O),Ge=null;const qe=ct&&ct.unsubscribe&&(()=>{ct.unsubscribe()});let _s;try{if(q&&u&&y!=="get"&&y!=="head"&&(_s=await b(ce,P))!==0){let be=new s(w,{method:"POST",body:P,duplex:"half"}),me;if(_.isFormData(P)&&(me=be.headers.get("content-type"))&&ce.setContentType(me),be.body){const[Kt,Jt]=Co(_s,Rr(Ao(q)));P=Ro(be.body,jo,Kt,Jt)}}_.isString(pe)||(pe=pe?"include":"omit");const se=i&&"credentials"in s.prototype,re={...ze,signal:ct,method:y.toUpperCase(),headers:ce.normalize().toJSON(),body:P,duplex:"half",credentials:se?pe:void 0};Ge=i&&new s(w,re);let G=await(i?vt(Ge,ze):vt(w,re));const Qe=c&&(H==="stream"||H==="response");if(c&&(M||Qe&&qe)){const be={};["status","statusText","headers"].forEach(nr=>{be[nr]=G[nr]});const me=_.toFiniteNumber(G.headers.get("content-length")),[Kt,Jt]=M&&Co(me,Rr(Ao(M),!0))||[];G=new r(Ro(G.body,jo,Kt,()=>{Jt&&Jt(),qe&&qe()}),be)}H=H||"text";let Vt=await h[_.findKey(h,H)||"text"](G,m);return!Qe&&qe&&qe(),await new Promise((be,me)=>{Rl(be,me,{data:Vt,headers:Ie.from(G.headers),status:G.status,statusText:G.statusText,config:m,request:Ge})})}catch(se){throw qe&&qe(),se&&se.name==="TypeError"&&/Load failed|fetch/i.test(se.message)?Object.assign(new V("Network Error",V.ERR_NETWORK,m,Ge),{cause:se.cause||se}):V.from(se,se&&se.code,m,Ge)}}},sg=new Map,Bl=t=>{let e=t?t.env:{};const{fetch:s,Request:r,Response:n}=e,i=[r,n,s];let o=i.length,a=o,l,u,c=sg;for(;a--;)l=i[a],u=c.get(l),u===void 0&&c.set(l,u=a?new Map:tg(e)),c=u;return u};Bl();const zn={http:yp,xhr:Gp,fetch:{get:Bl}};_.forEach(zn,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Do=t=>`- ${t}`,rg=t=>_.isFunction(t)||t===null||t===!1,$l={getAdapter:(t,e)=>{t=_.isArray(t)?t:[t];const{length:s}=t;let r,n;const i={};for(let o=0;o<s;o++){r=t[o];let a;if(n=r,!rg(r)&&(n=zn[(a=String(r)).toLowerCase()],n===void 0))throw new V(`Unknown adapter '${a}'`);if(n&&(_.isFunction(n)||(n=n.get(e))))break;i[a||"#"+o]=n}if(!n){const o=Object.entries(i).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let a=s?o.length>1?`since :
`+o.map(Do).join(`
`):" "+Do(o[0]):"as no adapter specified";throw new V("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return n},adapters:zn};function vn(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ms(null,t)}function Uo(t){return vn(t),t.headers=Ie.from(t.headers),t.data=wn.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),$l.getAdapter(t.adapter||rr.adapter,t)(t).then(function(r){return vn(t),r.data=wn.call(t,t.transformResponse,r),r.headers=Ie.from(r.headers),r},function(r){return Pl(r)||(vn(t),r&&r.response&&(r.response.data=wn.call(t,t.transformResponse,r.response),r.response.headers=Ie.from(r.response.headers))),Promise.reject(r)})}const Dl="1.12.2",Yr={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Yr[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const Lo={};Yr.transitional=function(e,s,r){function n(i,o){return"[Axios v"+Dl+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,a)=>{if(e===!1)throw new V(n(o," has been removed"+(s?" in "+s:"")),V.ERR_DEPRECATED);return s&&!Lo[o]&&(Lo[o]=!0,console.warn(n(o," has been deprecated since v"+s+" and will be removed in the near future"))),e?e(i,o,a):!0}};Yr.spelling=function(e){return(s,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function ng(t,e,s){if(typeof t!="object")throw new V("options must be an object",V.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let n=r.length;for(;n-- >0;){const i=r[n],o=e[i];if(o){const a=t[i],l=a===void 0||o(a,i,t);if(l!==!0)throw new V("option "+i+" must be "+l,V.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new V("Unknown option "+i,V.ERR_BAD_OPTION)}}const wr={assertOptions:ng,validators:Yr},tt=wr.validators;let Mt=class{constructor(e){this.defaults=e||{},this.interceptors={request:new xo,response:new xo}}async request(e,s){try{return await this._request(e,s)}catch(r){if(r instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const i=n.stack?n.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(e,s){typeof e=="string"?(s=s||{},s.url=e):s=e||{},s=qt(this.defaults,s);const{transitional:r,paramsSerializer:n,headers:i}=s;r!==void 0&&wr.assertOptions(r,{silentJSONParsing:tt.transitional(tt.boolean),forcedJSONParsing:tt.transitional(tt.boolean),clarifyTimeoutError:tt.transitional(tt.boolean)},!1),n!=null&&(_.isFunction(n)?s.paramsSerializer={serialize:n}:wr.assertOptions(n,{encode:tt.function,serialize:tt.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),wr.assertOptions(s,{baseUrl:tt.spelling("baseURL"),withXsrfToken:tt.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let o=i&&_.merge(i.common,i[s.method]);i&&_.forEach(["delete","get","head","post","put","patch","common"],m=>{delete i[m]}),s.headers=Ie.concat(o,i);const a=[];let l=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(s)===!1||(l=l&&w.synchronous,a.unshift(w.fulfilled,w.rejected))});const u=[];this.interceptors.response.forEach(function(w){u.push(w.fulfilled,w.rejected)});let c,h=0,g;if(!l){const m=[Uo.bind(this),void 0];for(m.unshift(...a),m.push(...u),g=m.length,c=Promise.resolve(s);h<g;)c=c.then(m[h++],m[h++]);return c}g=a.length;let b=s;for(;h<g;){const m=a[h++],w=a[h++];try{b=m(b)}catch(y){w.call(this,y);break}}try{c=Uo.call(this,b)}catch(m){return Promise.reject(m)}for(h=0,g=u.length;h<g;)c=c.then(u[h++],u[h++]);return c}getUri(e){e=qt(this.defaults,e);const s=jl(e.baseURL,e.url,e.allowAbsoluteUrls);return Ol(s,e.params,e.paramsSerializer)}};_.forEach(["delete","get","head","options"],function(e){Mt.prototype[e]=function(s,r){return this.request(qt(r||{},{method:e,url:s,data:(r||{}).data}))}});_.forEach(["post","put","patch"],function(e){function s(r){return function(i,o,a){return this.request(qt(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Mt.prototype[e]=s(),Mt.prototype[e+"Form"]=s(!0)});let ig=class Ul{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(i){s=i});const r=this;this.promise.then(n=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](n);r._listeners=null}),this.promise.then=n=>{let i;const o=new Promise(a=>{r.subscribe(a),i=a}).then(n);return o.cancel=function(){r.unsubscribe(i)},o},e(function(i,o,a){r.reason||(r.reason=new ms(i,o,a),s(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const s=this._listeners.indexOf(e);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const e=new AbortController,s=r=>{e.abort(r)};return this.subscribe(s),e.signal.unsubscribe=()=>this.unsubscribe(s),e.signal}static source(){let e;return{token:new Ul(function(n){e=n}),cancel:e}}};function og(t){return function(s){return t.apply(null,s)}}function ag(t){return _.isObject(t)&&t.isAxiosError===!0}const Gn={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Gn).forEach(([t,e])=>{Gn[e]=t});function Ll(t){const e=new Mt(t),s=gl(Mt.prototype.request,e);return _.extend(s,Mt.prototype,e,{allOwnKeys:!0}),_.extend(s,e,null,{allOwnKeys:!0}),s.create=function(n){return Ll(qt(t,n))},s}const de=Ll(rr);de.Axios=Mt;de.CanceledError=ms;de.CancelToken=ig;de.isCancel=Pl;de.VERSION=Dl;de.toFormData=Qr;de.AxiosError=V;de.Cancel=de.CanceledError;de.all=function(e){return Promise.all(e)};de.spread=og;de.isAxiosError=ag;de.mergeConfig=qt;de.AxiosHeaders=Ie;de.formToJSON=t=>Al(_.isHTMLForm(t)?new FormData(t):t);de.getAdapter=$l.getAdapter;de.HttpStatusCode=Gn;de.default=de;const{Axios:vy,AxiosError:Sy,CanceledError:Ey,isCancel:ky,CancelToken:Ty,VERSION:xy,all:Oy,Cancel:Cy,isAxiosError:Ay,spread:Py,toFormData:Ry,AxiosHeaders:jy,HttpStatusCode:Iy,formToJSON:By,getAdapter:$y,mergeConfig:Dy}=de,bs=(t,e)=>{const s=t.__vccOpts||t;for(const[r,n]of e)s[r]=n;return s},lg={props:{bills:Array,billers:Array,isMobile:Boolean},data(){return{fromDate:"",toDate:"",searchQuery:"",sortColumn:"due_date",sortDirection:"asc",showPaid:!1,showUnpaid:!0}},computed:{filteredBills(){let t=this.bills;if(this.showPaid&&!this.showUnpaid?t=t.filter(e=>e.is_paid):this.showUnpaid&&!this.showPaid?t=t.filter(e=>!e.is_paid):!this.showPaid&&!this.showUnpaid&&(t=[]),this.searchQuery){const e=this.searchQuery.toLowerCase();t=t.filter(s=>Object.values(s).some(r=>r&&r.toString().toLowerCase().includes(e)))}return this.fromDate&&(t=t.filter(e=>new Date(e.billing_date)>=new Date(this.fromDate))),this.toDate&&(t=t.filter(e=>new Date(e.billing_date)<=new Date(this.toDate))),t.sort((e,s)=>{let r=e[this.sortColumn],n=s[this.sortColumn];return this.sortColumn==="amount"?(r=parseFloat(r),n=parseFloat(n)):(r=new Date(r),n=new Date(n)),this.sortDirection==="asc"?r-n:n-r})}},methods:{sortBy(t){this.sortColumn===t?this.sortDirection=this.sortDirection==="asc"?"desc":"asc":(this.sortColumn=t,this.sortDirection="asc")},formatIndianDate(t){if(!t)return"-";const e=new Date(t),s=e.getDate().toString().padStart(2,"0"),r=(e.getMonth()+1).toString().padStart(2,"0"),n=e.getFullYear();return`${s}/${r}/${n}`},formatIndianCurrency(t){return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(t)},getDueInDays(t){if(t.is_paid)return`Paid on ${this.formatIndianDate(t.paid_on)}`;const e=new Date(t.due_date),r=Math.ceil((e-new Date)/(1e3*60*60*24));return r>0?`${r} days left`:`${Math.abs(r)} days overdue`},getStatus(t){if(t.is_paid)return"Paid";const e=Math.ceil((new Date(t.due_date)-new Date)/(1e3*60*60*24));return e<0?"Overdue":e<=7?"Due Soon":"Pending"},getStatusBadgeClass(t){const e=this.getStatus(t);return e==="Paid"?"badge-success":e==="Overdue"?"badge-danger":e==="Due Soon"?"badge-warning":"badge-info"}}},cg={class:"tab-panel"},ug={class:"card mb-4"},dg={class:"card-body"},hg={class:"filter-row"},fg={class:"filter-group"},pg={class:"filter-group date-range"},gg={class:"filter-group checkboxes"},mg={class:"custom-checkbox"},bg={class:"custom-checkbox"},_g={class:"table-container hide-on-mobile"},yg={key:0},wg={key:0},vg={key:0},Sg={class:"font-medium"},Eg={class:"font-bold"},kg={class:"text-muted"},Tg={class:"text-right"},xg={class:"action-group"},Og=["onClick"],Cg=["onClick"],Ag=["onClick"],Pg=["onClick"],Rg={key:0},jg={class:"mobile-view"},Ig={class:"card-body"},Bg={class:"flex justify-between items-start mb-2"},$g={class:"text-lg font-bold"},Dg={class:"grid-details"},Ug={class:"detail-item"},Lg={class:"value font-bold"},Ng={class:"detail-item"},Mg={class:"value"},Fg={class:"text-sm text-muted mt-2"},qg={class:"mobile-actions mt-4 flex gap-2"},Hg=["onClick"],Wg=["onClick"],Vg=["onClick"],Kg=["onClick"];function Jg(t,e,s,r,n,i){return B(),D("div",cg,[d("div",ug,[d("div",dg,[d("div",hg,[d("div",fg,[Y(d("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=o=>n.searchQuery=o),placeholder:"Search bills...",class:"form-control"},null,512),[[ae,n.searchQuery]])]),d("div",pg,[Y(d("input",{type:"date","onUpdate:modelValue":e[1]||(e[1]=o=>n.fromDate=o),class:"form-control",placeholder:"From"},null,512),[[ae,n.fromDate]]),e[8]||(e[8]=d("span",{class:"text-muted"},"to",-1)),Y(d("input",{type:"date","onUpdate:modelValue":e[2]||(e[2]=o=>n.toDate=o),class:"form-control",placeholder:"To"},null,512),[[ae,n.toDate]])]),d("div",gg,[d("label",mg,[Y(d("input",{type:"checkbox","onUpdate:modelValue":e[3]||(e[3]=o=>n.showUnpaid=o)},null,512),[[Cr,n.showUnpaid]]),e[9]||(e[9]=gt()),e[10]||(e[10]=d("span",null,"Unpaid",-1))]),d("label",bg,[Y(d("input",{type:"checkbox","onUpdate:modelValue":e[4]||(e[4]=o=>n.showPaid=o)},null,512),[[Cr,n.showPaid]]),e[11]||(e[11]=gt()),e[12]||(e[12]=d("span",null,"Paid",-1))])])])])]),d("div",_g,[d("table",null,[d("thead",null,[d("tr",null,[e[16]||(e[16]=d("th",null,"Biller",-1)),d("th",{onClick:e[5]||(e[5]=o=>i.sortBy("billing_date")),class:"sortable"},[e[13]||(e[13]=gt(" Billing Date ",-1)),n.sortColumn==="billing_date"?(B(),D("span",yg,$(n.sortDirection==="asc"?"":""),1)):z("",!0)]),d("th",{onClick:e[6]||(e[6]=o=>i.sortBy("amount")),class:"sortable"},[e[14]||(e[14]=gt(" Amount ",-1)),n.sortColumn==="amount"?(B(),D("span",wg,$(n.sortDirection==="asc"?"":""),1)):z("",!0)]),d("th",{onClick:e[7]||(e[7]=o=>i.sortBy("due_date")),class:"sortable"},[e[15]||(e[15]=gt(" Due Date ",-1)),n.sortColumn==="due_date"?(B(),D("span",vg,$(n.sortDirection==="asc"?"":""),1)):z("",!0)]),e[17]||(e[17]=d("th",null,"Status",-1)),e[18]||(e[18]=d("th",null,"Executive",-1)),e[19]||(e[19]=d("th",{class:"text-right"},"Actions",-1))])]),d("tbody",null,[(B(!0),D(fe,null,Ke(i.filteredBills,o=>(B(),D("tr",{key:o.id},[d("td",Sg,$(o.biller),1),d("td",null,$(i.formatIndianDate(o.billing_date)),1),d("td",Eg,$(i.formatIndianCurrency(o.amount)),1),d("td",null,[d("div",null,$(i.formatIndianDate(o.due_date)),1),d("small",kg,$(i.getDueInDays(o)),1)]),d("td",null,[d("span",{class:De(["badge",i.getStatusBadgeClass(o)])},$(i.getStatus(o)),3)]),d("td",null,$(o.executive),1),d("td",Tg,[d("div",xg,[d("button",{class:"btn btn-secondary btn-icon",onClick:a=>t.$emit("edit-bill",o),title:"Edit"},e[20]||(e[20]=[d("i",{class:"ph ph-pencil-simple"},null,-1)]),8,Og),o.is_paid?z("",!0):(B(),D("button",{key:0,class:"btn btn-primary btn-icon",onClick:a=>t.$emit("mark-paid",o),title:"Mark Paid"},e[21]||(e[21]=[d("i",{class:"ph ph-check"},null,-1)]),8,Cg)),o.is_paid?(B(),D("button",{key:1,class:"btn btn-secondary btn-icon",onClick:a=>t.$emit("mark-unpaid",o),title:"Mark Unpaid"},e[22]||(e[22]=[d("i",{class:"ph ph-arrow-u-up-left"},null,-1)]),8,Ag)):z("",!0),d("button",{class:"btn btn-secondary btn-icon",onClick:a=>t.$emit("show-bank-info",o),title:"Bank Info"},e[23]||(e[23]=[d("i",{class:"ph ph-bank"},null,-1)]),8,Pg)])])]))),128)),i.filteredBills.length===0?(B(),D("tr",Rg,e[24]||(e[24]=[d("td",{colspan:"7",class:"text-center py-4"},"No bills found matching your criteria.",-1)]))):z("",!0)])])]),d("div",jg,[e[27]||(e[27]=d("div",{class:"mobile-controls mb-4"},null,-1)),(B(!0),D(fe,null,Ke(i.filteredBills,o=>(B(),D("div",{key:o.id,class:"card mb-4"},[d("div",Ig,[d("div",Bg,[d("h3",$g,$(o.biller),1),d("span",{class:De(["badge",i.getStatusBadgeClass(o)])},$(i.getStatus(o)),3)]),d("div",Dg,[d("div",Ug,[e[25]||(e[25]=d("span",{class:"label"},"Amount",-1)),d("span",Lg,$(i.formatIndianCurrency(o.amount)),1)]),d("div",Ng,[e[26]||(e[26]=d("span",{class:"label"},"Due Date",-1)),d("span",Mg,$(i.formatIndianDate(o.due_date)),1)])]),d("p",Fg,"Executive: "+$(o.executive),1),d("div",qg,[d("button",{class:"btn btn-secondary flex-1",onClick:a=>t.$emit("edit-bill",o)},"Edit",8,Hg),o.is_paid?z("",!0):(B(),D("button",{key:0,class:"btn btn-primary flex-1",onClick:a=>t.$emit("mark-paid",o)},"Paid",8,Wg)),o.is_paid?(B(),D("button",{key:1,class:"btn btn-secondary flex-1",onClick:a=>t.$emit("mark-unpaid",o)},"Unpaid",8,Vg)):z("",!0),d("button",{class:"btn btn-secondary flex-1",onClick:a=>t.$emit("show-bank-info",o)},"Bank",8,Kg)])])]))),128))])])}const zg=bs(lg,[["render",Jg],["__scopeId","data-v-2caa84fd"]]),Gg={props:{orders:Array,isMobile:Boolean},methods:{formatIndianDate(t){if(!t)return"-";const e=new Date(t),s=e.getDate().toString().padStart(2,"0"),r=(e.getMonth()+1).toString().padStart(2,"0"),n=e.getFullYear();return`${s}/${r}/${n}`}}},Qg={class:"tab-panel"},Yg={class:"table-container hide-on-mobile"},Xg={class:"font-medium"},Zg=["title"],em={class:"flex gap-2"},tm=["href"],sm=["onClick"],rm={key:0},nm={class:"mobile-view"},im={class:"card-body"},om={class:"flex justify-between items-start mb-2"},am={class:"text-lg font-bold"},lm={class:"text-sm text-muted"},cm={class:"mb-2"},um={class:"text-sm"},dm={class:"grid-details mb-2"},hm={class:"detail-item"},fm={class:"value"},pm={class:"detail-item"},gm={class:"value"},mm={class:"mobile-actions mt-4 flex gap-2"},bm=["href"],_m=["onClick"];function ym(t,e,s,r,n,i){return B(),D("div",Qg,[d("div",Yg,[d("table",null,[e[3]||(e[3]=d("thead",null,[d("tr",null,[d("th",null,"Biller"),d("th",null,"Placed On"),d("th",null,"Items"),d("th",null,"Transport"),d("th",null,"Drive Link"),d("th",null,"Executive")])],-1)),d("tbody",null,[(B(!0),D(fe,null,Ke(s.orders,o=>(B(),D("tr",{key:o.id},[d("td",Xg,$(o.biller),1),d("td",null,$(i.formatIndianDate(o.order_placed_on)),1),d("td",{class:"truncate-text",title:o.order_items},$(o.order_items),9,Zg),d("td",null,$(o.transport),1),d("td",null,[d("div",em,[d("a",{href:o.drive_link,target:"_blank",class:"btn btn-secondary btn-icon",title:"Open Link"},e[0]||(e[0]=[d("i",{class:"ph ph-link"},null,-1)]),8,tm),d("button",{class:"btn btn-secondary btn-icon",onClick:a=>t.$emit("copy-link",o.drive_link),title:"Copy Link"},e[1]||(e[1]=[d("i",{class:"ph ph-copy"},null,-1)]),8,sm)])]),d("td",null,$(o.executive),1)]))),128)),s.orders.length===0?(B(),D("tr",rm,e[2]||(e[2]=[d("td",{colspan:"6",class:"text-center py-4"},"No recent orders found.",-1)]))):z("",!0)])])]),d("div",nm,[(B(!0),D(fe,null,Ke(s.orders,o=>(B(),D("div",{key:o.id,class:"card mb-4"},[d("div",im,[d("div",om,[d("h3",am,$(o.biller),1),d("span",lm,$(i.formatIndianDate(o.order_placed_on)),1)]),d("div",cm,[e[4]||(e[4]=d("span",{class:"label block text-sm text-muted"},"Items",-1)),d("p",um,$(o.order_items),1)]),d("div",dm,[d("div",hm,[e[5]||(e[5]=d("span",{class:"label"},"Transport",-1)),d("span",fm,$(o.transport),1)]),d("div",pm,[e[6]||(e[6]=d("span",{class:"label"},"Executive",-1)),d("span",gm,$(o.executive),1)])]),d("div",mm,[d("a",{href:o.drive_link,target:"_blank",class:"btn btn-secondary flex-1"},"Open Link",8,bm),d("button",{class:"btn btn-secondary flex-1",onClick:a=>t.$emit("copy-link",o.drive_link)},"Copy Link",8,_m)])])]))),128))])])}const wm=bs(Gg,[["render",ym],["__scopeId","data-v-f6b834a0"]]),vm={props:{billers:Array,isMobile:Boolean},data(){return{searchQuery:""}},computed:{filteredBillers(){if(!this.searchQuery)return this.billers;const t=this.searchQuery.toLowerCase();return this.billers.filter(e=>e.name.toLowerCase().includes(t)||e.executive.toLowerCase().includes(t))}}},Sm={class:"tab-panel"},Em={class:"card mb-4"},km={class:"card-body py-3"},Tm={class:"table-container hide-on-mobile"},xm={class:"font-bold"},Om={class:"text-sm"},Cm={class:"font-medium"},Am={class:"text-muted"},Pm={class:"text-muted text-xs"},Rm={class:"text-right"},jm=["onClick"],Im={key:0},Bm={class:"mobile-view"},$m={class:"card-body"},Dm={class:"flex justify-between items-start mb-2"},Um={class:"text-lg font-bold"},Lm=["onClick"],Nm={class:"grid-details mb-4"},Mm={class:"detail-item"},Fm={class:"value"},qm={class:"detail-item"},Hm={class:"value"},Wm={class:"bank-details-box p-3 bg-subtle rounded"},Vm={class:"font-medium text-sm mb-1"},Km={class:"flex justify-between items-center text-sm text-muted"},Jm={class:"text-xs text-muted mt-1"};function zm(t,e,s,r,n,i){return B(),D("div",Sm,[d("div",Em,[d("div",km,[Y(d("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=o=>n.searchQuery=o),placeholder:"Search billers...",class:"form-control",style:{"max-width":"300px"}},null,512),[[ae,n.searchQuery]])])]),d("div",Tm,[d("table",null,[e[3]||(e[3]=d("thead",null,[d("tr",null,[d("th",null,"Name"),d("th",null,"Credit Days"),d("th",null,"Account Details"),d("th",null,"Executive"),d("th",{class:"text-right"},"Actions")])],-1)),d("tbody",null,[(B(!0),D(fe,null,Ke(i.filteredBillers,o=>(B(),D("tr",{key:o.id},[d("td",xm,$(o.name),1),d("td",null,$(o.creditDuration)+" days",1),d("td",null,[d("div",Om,[d("div",Cm,$(o.bankName),1),d("div",Am,$(o.accountNo),1),d("div",Pm,$(o.ifsc),1)])]),d("td",null,$(o.executive),1),d("td",Rm,[d("button",{class:"btn btn-secondary btn-icon",onClick:a=>t.$emit("edit-biller",o),title:"Edit"},e[1]||(e[1]=[d("i",{class:"ph ph-pencil-simple"},null,-1)]),8,jm)])]))),128)),i.filteredBillers.length===0?(B(),D("tr",Im,e[2]||(e[2]=[d("td",{colspan:"5",class:"text-center py-4"},"No billers found.",-1)]))):z("",!0)])])]),d("div",Bm,[(B(!0),D(fe,null,Ke(i.filteredBillers,o=>(B(),D("div",{key:o.id,class:"card mb-4"},[d("div",$m,[d("div",Dm,[d("h3",Um,$(o.name),1),d("button",{class:"btn btn-secondary btn-icon",onClick:a=>t.$emit("edit-biller",o)},"",8,Lm)]),d("div",Nm,[d("div",Mm,[e[4]||(e[4]=d("span",{class:"label"},"Credit",-1)),d("span",Fm,$(o.creditDuration)+" days",1)]),d("div",qm,[e[5]||(e[5]=d("span",{class:"label"},"Executive",-1)),d("span",Hm,$(o.executive),1)])]),d("div",Wm,[d("p",Vm,$(o.bankName),1),d("div",Km,[d("span",null,$(o.accountNo),1),d("span",null,$(o.ifsc),1)]),d("div",Jm,$(o.branch),1)])])]))),128))])])}const Gm=bs(vm,[["render",zm],["__scopeId","data-v-85f83a4d"]]),Qm={props:{brands:Array,isLoading:Boolean},data(){return{selectedBrands:[],onlyWithPhotos:!0,minQtyEnabled:!1,minQty:6}},methods:{getPayload(){return{brands:this.selectedBrands,onlyWithPhotos:this.onlyWithPhotos,minQty:this.minQtyEnabled?this.minQty:-1}}}},Ym={class:"tab-panel"},Xm={class:"pdf-container",style:{"max-width":"600px",margin:"0 auto"}},Zm={key:0,class:"saving-overlay"},eb={class:"card mb-4"},tb={class:"card-body"},sb={class:"form-group"},rb=["value"],nb={class:"form-group"},ib={class:"custom-checkbox flex items-center gap-2 cursor-pointer"},ob={class:"form-group"},ab={class:"custom-checkbox flex items-center gap-2 cursor-pointer"},lb={key:0,class:"flex items-center mt-2 gap-2 pl-6"},cb=["disabled"],ub={key:0},db={key:1};function hb(t,e,s,r,n,i){return B(),D("div",Ym,[d("div",Xm,[s.isLoading?(B(),D("div",Zm,e[5]||(e[5]=[d("div",{class:"loader"},null,-1),gt(" Generating PDF... ",-1)]))):z("",!0),d("div",eb,[e[11]||(e[11]=d("div",{class:"card-header"},[d("h3",null,"Generator Options")],-1)),d("div",tb,[d("div",sb,[e[6]||(e[6]=d("label",null,"Select Brands",-1)),Y(d("select",{multiple:"","onUpdate:modelValue":e[0]||(e[0]=o=>n.selectedBrands=o),class:"form-control",style:{height:"200px"}},[(B(!0),D(fe,null,Ke(s.brands,o=>(B(),D("option",{key:o,value:o},$(o),9,rb))),128))],512),[[br,n.selectedBrands]]),e[7]||(e[7]=d("small",{class:"text-muted"},"Hold Ctrl/Cmd to select multiple",-1))]),d("div",nb,[d("label",ib,[Y(d("input",{type:"checkbox","onUpdate:modelValue":e[1]||(e[1]=o=>n.onlyWithPhotos=o),style:{width:"1.2em",height:"1.2em","accent-color":"var(--primary)"}},null,512),[[Cr,n.onlyWithPhotos]]),e[8]||(e[8]=d("span",null,"Only include products with photos",-1))])]),d("div",ob,[d("label",ab,[Y(d("input",{type:"checkbox","onUpdate:modelValue":e[2]||(e[2]=o=>n.minQtyEnabled=o),style:{width:"1.2em",height:"1.2em","accent-color":"var(--primary)"}},null,512),[[Cr,n.minQtyEnabled]]),e[9]||(e[9]=d("span",null,"Filter by Minimum Quantity",-1))]),n.minQtyEnabled?(B(),D("div",lb,[Y(d("input",{type:"number","onUpdate:modelValue":e[3]||(e[3]=o=>n.minQty=o),class:"form-control",style:{width:"100px"},min:"0"},null,512),[[ae,n.minQty]]),e[10]||(e[10]=d("span",{class:"text-sm"},"units minimum",-1))])):z("",!0)]),d("button",{onClick:e[4]||(e[4]=o=>t.$emit("generate-pdf")),class:"btn btn-primary w-full mt-4",disabled:s.isLoading},[s.isLoading?(B(),D("span",db,"Processing...")):(B(),D("span",ub," Generate PDF Catalog"))],8,cb)])])])])}const fb=bs(Qm,[["render",hb],["__scopeId","data-v-06c42a56"]]),pb={props:{companyName:String,initials:String,companies:Array,isLoading:Boolean},data(){return{isLoginMode:!0,email:"",password:"",confirmPassword:"",fullName:"",error:""}},computed:{passwordMismatch(){return!this.isLoginMode&&this.password&&this.confirmPassword&&this.password!==this.confirmPassword}},methods:{toggleMode(){this.isLoginMode=!this.isLoginMode,this.error="",this.password="",this.confirmPassword=""},handleSubmit(){if(this.error="",!this.isLoginMode&&this.passwordMismatch){this.error="Passwords do not match";return}this.isLoginMode?this.$emit("login-manual",{email:this.email,password:this.password}):this.$emit("signup-manual",{email:this.email,password:this.password,full_name:this.fullName})}}},gb={class:"login-overlay"},mb={class:"login-card"},bb={class:"logo-section"},_b={class:"logo-large"},yb={class:"company-name"},wb={class:"login-actions"},vb={key:0,class:"form-group"},Sb={class:"form-group"},Eb={class:"form-group"},kb={key:1,class:"form-group"},Tb={key:0,class:"text-danger"},xb={key:2,class:"error-msg"},Ob=["disabled"],Cb={key:0},Ab={key:1},Pb={class:"switch-mode mt-4"},Rb={class:"company-select-wrapper"},jb=["value"],Ib=["value"];function Bb(t,e,s,r,n,i){return B(),D("div",gb,[d("div",mb,[d("div",bb,[d("div",_b,$(s.initials),1),e[7]||(e[7]=d("h1",null,"Welcome Back",-1)),d("p",yb,$(s.companyName),1)]),d("div",wb,[d("form",{onSubmit:e[4]||(e[4]=Cs((...o)=>i.handleSubmit&&i.handleSubmit(...o),["prevent"]))},[n.isLoginMode?z("",!0):(B(),D("div",vb,[Y(d("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=o=>n.fullName=o),placeholder:"Full Name",class:"form-control",required:""},null,512),[[ae,n.fullName]])])),d("div",Sb,[Y(d("input",{type:"email","onUpdate:modelValue":e[1]||(e[1]=o=>n.email=o),placeholder:"Email Address",class:"form-control",required:""},null,512),[[ae,n.email]])]),d("div",Eb,[Y(d("input",{type:"password","onUpdate:modelValue":e[2]||(e[2]=o=>n.password=o),placeholder:"Password",class:"form-control",required:""},null,512),[[ae,n.password]])]),n.isLoginMode?z("",!0):(B(),D("div",kb,[Y(d("input",{type:"password","onUpdate:modelValue":e[3]||(e[3]=o=>n.confirmPassword=o),placeholder:"Confirm Password",class:"form-control",required:""},null,512),[[ae,n.confirmPassword]]),i.passwordMismatch?(B(),D("small",Tb,"Passwords do not match")):z("",!0)])),n.error?(B(),D("div",xb,$(n.error),1)):z("",!0),d("button",{type:"submit",class:"btn btn-primary w-full",disabled:s.isLoading},[s.isLoading?(B(),D("span",Cb,"Processing...")):(B(),D("span",Ab,$(n.isLoginMode?"Sign In":"Create Account"),1))],8,Ob)],32),d("div",Pb,[d("span",null,$(n.isLoginMode?"New user?":"Already have an account?"),1),d("button",{class:"btn-text link-btn",onClick:e[5]||(e[5]=(...o)=>i.toggleMode&&i.toggleMode(...o))},$(n.isLoginMode?"Create an account":"Sign In"),1)])]),e[8]||(e[8]=d("div",{class:"divider"},[d("span",null,"or switch workspace")],-1)),d("div",Rb,[d("select",{value:s.companyName,onChange:e[6]||(e[6]=o=>t.$emit("switch-company",o.target.value)),class:"company-select"},[(B(!0),D(fe,null,Ke(s.companies,o=>(B(),D("option",{key:o,value:o},$(o),9,Ib))),128))],40,jb)])])])}const $b=bs(pb,[["render",Bb],["__scopeId","data-v-e9bd545b"]]),Db={components:{Dues:zg,Orders:wm,Billers:Gm,PdfGenerator:fb,Login:$b},data(){return{activeTab:"dues",isSidebarOpen:!1,isSidebarCollapsed:!0,bills:[],orders:[],billers:[],brands:[],isLoading:!1,showBillPopup:!1,showOrderPopup:!1,showBillerPopup:!1,showBankPopup:!1,editBillMode:!1,editBillerMode:!1,saving:!1,newBill:{biller:"",billing_date:"",amount:"",due_date:"",remarks:""},newOrder:{biller:"",order_placed_on:"",order_items:"",transport:"",drive_link:"",executive:""},newBiller:{name:"",creditDuration:"",accountNo:"",ifsc:"",bankName:"",branch:"",executive:""},selectedBill:null,selectedBiller:null,isMobile:window.innerWidth<=900,errors:{},toast:{message:"",type:""},companies:["Shree Footwear","Sri Brundabana Enterprises"],selectedCompany:localStorage.getItem("selectedCompany")||"Shree Footwear",user:null,authLoading:!1}},computed:{tableSuffix(){return this.selectedCompany==="Shree Footwear"?"_sf":"_sb"},currentTabComponent(){return this.activeTab==="dues"?"Dues":this.activeTab==="orders"?"Orders":this.activeTab==="billers"?"Billers":this.activeTab==="pdf"?"PdfGenerator":"Dues"},pageTitle(){return this.activeTab==="dues"?"Dues Management":this.activeTab==="orders"?"Order History":this.activeTab==="billers"?"Biller Directory":this.activeTab==="pdf"?"PDF Catalog Generator":""},companyInitials(){return this.selectedCompany?this.selectedCompany.split(" ").map(t=>t[0]).join("").substring(0,2).toUpperCase():"AN"}},watch:{"newBill.biller"(t){const e=this.billers.find(s=>s.name===t);e&&(this.newBill.executive=e.executive,this.calculateDueDate())},"newBill.billing_date"(){this.calculateDueDate()},async selectedCompany(t){localStorage.setItem("selectedCompany",t),this.applyTheme(),await this.checkUser(),this.user&&this.fetchData(),this.showToast(`Switched to ${t}`,"info")}},async mounted(){this.applyTheme(),await this.checkUser(),this.user&&await this.fetchData(),window.addEventListener("resize",this.handleResize)},methods:{switchTab(t){this.activeTab=t,this.isSidebarOpen=!1},toggleSidebar(){this.isSidebarOpen=!this.isSidebarOpen},toggleSidebarCollapse(){this.isSidebarCollapsed=!this.isSidebarCollapsed},openAddPopup(){this.activeTab==="dues"&&this.openBillPopup(),this.activeTab==="orders"&&this.openOrderPopup(),this.activeTab==="billers"&&this.openBillerPopup()},handleResize(){this.isMobile=window.innerWidth<=900,this.isMobile||(this.isSidebarOpen=!1)},calculateDueDate(){if(this.newBill.billing_date&&this.newBill.biller){const t=this.billers.find(e=>e.name===this.newBill.biller);if(t&&t.creditDuration){const e=new Date(this.newBill.billing_date);e.setDate(e.getDate()+parseInt(t.creditDuration)),this.newBill.due_date=e.toISOString().split("T")[0]}}},async fetchData(){this.isLoading=!0,await Promise.all([this.fetchBills(),this.fetchOrders(),this.fetchBillers(),this.fetchBrands()]),this.isLoading=!1},async fetchBills(){const{data:t,error:e}=await Ae.from(`dues${this.tableSuffix}`).select("*");if(e){console.error("Error fetching bills:",e);return}this.bills=t||[]},async fetchOrders(){const{data:t,error:e}=await Ae.from(`orders${this.tableSuffix}`).select("*");if(e){console.error("Error fetching orders:",e);return}this.orders=t||[]},async fetchBillers(){const{data:t,error:e}=await Ae.from(`billers${this.tableSuffix}`).select("*");if(e){console.error("Error fetching billers:",e);return}this.billers=t||[]},async fetchBrands(){try{const e=await de.get("https://raw.githubusercontent.com/sahilsync07/sbe/main/frontend/public/assets/stock-data.json");this.brands=[...new Set(e.data.map(s=>s.groupName))]}catch(t){console.error("Error fetching brands:",t)}},async generatePdf(){},openBillPopup(){this.editBillMode=!1,this.newBill={biller:"",billing_date:"",amount:"",due_date:"",remarks:""},this.errors={},this.showBillPopup=!0},closeBillPopup(){this.showBillPopup=!1,this.errors={}},validateAndSaveBill(){this.errors={},this.newBill.biller||(this.errors.biller="Biller is required"),this.newBill.billing_date||(this.errors.billing_date="Billing date is required"),(!this.newBill.amount||this.newBill.amount<=0)&&(this.errors.amount="Valid amount is required"),this.newBill.due_date||(this.errors.due_date="Due date is required"),Object.keys(this.errors).length===0&&this.saveBill()},async saveBill(){this.saving=!0;let t;if(this.editBillMode?{error:t}=await Ae.from(`dues${this.tableSuffix}`).update(this.newBill).eq("id",this.newBill.id):{error:t}=await Ae.from(`dues${this.tableSuffix}`).insert(this.newBill),this.saving=!1,t){this.showToast("Error saving bill","error"),console.error("Error saving bill:",t);return}this.showToast("Bill saved successfully","success"),this.closeBillPopup(),await this.fetchBills()},editBill(t){this.editBillMode=!0,this.newBill={...t},this.errors={},this.showBillPopup=!0},async markPaid(t){const e=new Date().toISOString().split("T")[0],{error:s}=await Ae.from(`dues${this.tableSuffix}`).update({is_paid:!0,paid_on:e}).eq("id",t.id);if(s){this.showToast("Error marking as paid","error");return}this.showToast("Marked as paid","success"),await this.fetchBills()},async markUnpaid(t){const{error:e}=await Ae.from(`dues${this.tableSuffix}`).update({is_paid:!1,paid_on:null}).eq("id",t.id);if(e){this.showToast("Error marking as unpaid","error");return}this.showToast("Marked as unpaid","success"),await this.fetchBills()},showBankInfo(t){this.selectedBill=t,this.selectedBiller=this.billers.find(e=>e.name===t.biller),this.showBankPopup=!0},closeBankPopup(){this.showBankPopup=!1},copyText(t){navigator.clipboard.writeText(t),this.showToast("Copied to clipboard","success")},openOrderPopup(){this.newOrder={biller:"",order_placed_on:"",order_items:"",transport:"",drive_link:"",executive:""},this.errors={},this.showOrderPopup=!0},closeOrderPopup(){this.showOrderPopup=!1,this.errors={}},validateAndSaveOrder(){this.errors={},this.newOrder.biller||(this.errors.biller="Biller is required"),this.newOrder.order_placed_on||(this.errors.order_placed_on="Date is required"),this.newOrder.order_items||(this.errors.order_items="Items are required"),Object.keys(this.errors).length===0&&this.saveOrder()},async saveOrder(){this.saving=!0;const{error:t}=await Ae.from(`orders${this.tableSuffix}`).insert(this.newOrder);if(this.saving=!1,t){this.showToast("Error saving order","error");return}this.showToast("Order saved successfully","success"),this.closeOrderPopup(),await this.fetchOrders()},copyLink(t){navigator.clipboard.writeText(t),this.showToast("Link copied","success")},openBillerPopup(){this.editBillerMode=!1,this.newBiller={name:"",creditDuration:"",accountNo:"",ifsc:"",bankName:"",branch:"",executive:""},this.errors={},this.showBillerPopup=!0},closeBillerPopup(){this.showBillerPopup=!1,this.errors={}},validateAndSaveBiller(){this.errors={},this.newBiller.name||(this.errors.name="Name is required"),Object.keys(this.errors).length===0&&this.saveBiller()},async saveBiller(){this.saving=!0;let t;if(this.editBillerMode?{error:t}=await Ae.from(`billers${this.tableSuffix}`).update(this.newBiller).eq("id",this.newBiller.id):{error:t}=await Ae.from(`billers${this.tableSuffix}`).insert(this.newBiller),this.saving=!1,t){this.showToast("Error saving biller","error");return}this.showToast("Biller saved successfully","success"),this.closeBillerPopup(),await this.fetchBillers()},editBiller(t){this.editBillerMode=!0,this.newBiller={...t},this.showBillerPopup=!0},showToast(t,e="success"){this.toast={message:t,type:e},setTimeout(()=>{this.toast={message:"",type:""}},3e3)},applyTheme(){const t={"Shree Footwear":{primary:"#0f766e",hover:"#0d9488",light:"#ccfbf1"},"Sri Brundabana Enterprises":{primary:"#4f46e5",hover:"#4338ca",light:"#e0e7ff"}},e=t[this.selectedCompany]||t["Shree Footwear"],s=document.documentElement;s.style.setProperty("--primary",e.primary),s.style.setProperty("--primary-hover",e.hover),s.style.setProperty("--primary-light",e.light),s.style.setProperty("--border-focus",e.primary)},async checkUser(){this.authLoading=!0;const t=localStorage.getItem("nexus_user");t?(this.user=JSON.parse(t),await this.verifyUserAccess()):this.user=null,this.authLoading=!1},async verifyUserAccess(){if(!this.user)return;const{data:t,error:e}=await Ae.from("app_users").select("*").eq("id",this.user.id).single();if(e||!t){this.handleLogout();return}this.checkApproval(t)?(this.user=t,localStorage.setItem("nexus_user",JSON.stringify(t))):this.handleLogout(!0)},checkApproval(t){return this.selectedCompany==="Shree Footwear"?t.sf_approved:this.selectedCompany==="Sri Brundabana Enterprises"?t.sb_approved:!1},async handleLoginManual({email:t,password:e}){this.authLoading=!0;try{const{data:s,error:r}=await Ae.from("app_users").select("*").eq("email",t).eq("password",e).single();if(r||!s){this.showToast("Invalid credentials","error"),this.authLoading=!1;return}if(!this.checkApproval(s)){this.showToast("Account not approved for "+this.selectedCompany,"error"),this.authLoading=!1;return}this.user=s,localStorage.setItem("nexus_user",JSON.stringify(s)),this.fetchData(),this.showToast("Welcome back, "+s.full_name,"success")}catch(s){console.error("Login Error",s),this.showToast("Login error occurred","error")}this.authLoading=!1},async handleSignupManual({email:t,password:e,full_name:s}){this.authLoading=!0;const{data:r}=await Ae.from("app_users").select("id").eq("email",t).single();if(r){this.showToast("Email already exists","error"),this.authLoading=!1;return}const n={email:t,password:e,full_name:s,role:"Executive",sf_approved:!1,sb_approved:!1},{error:i}=await Ae.from("app_users").insert(n);i?(console.error("Signup Error",i),this.showToast("Error creating account","error")):(this.showToast("Account created! Please ask admin for approval.","success"),this.toggleMode()),this.authLoading=!1},async handleLogout(t=!1){localStorage.removeItem("nexus_user"),this.user=null,t?this.showToast("Access denied for this company. Please login again.","warning"):this.showToast("Logged out","info")},handleCompanySwitchFromLogin(t){this.selectedCompany=t}}},Ub={class:"app-layout"},Lb={key:1,class:"app-layout-inner"},Nb={class:"sidebar-header"},Mb={class:"brand"},Fb={class:"logo-icon"},qb={class:"brand-text"},Hb=["value"],Wb={class:"sidebar-nav"},Vb={class:"user-info"},Kb={class:"user-details"},Jb={class:"name"},zb={class:"mobile-header"},Gb={class:"top-bar"},Qb={class:"page-title"},Yb={class:"actions"},Xb={class:"content-area"},Zb={key:1,class:"modal-backdrop"},e_={class:"modal-content"},t_={class:"modal-header"},s_={class:"modal-body"},r_={key:0,class:"saving-overlay"},n_={class:"form-group"},i_=["value"],o_={key:0,class:"text-danger text-sm"},a_={class:"flex gap-4"},l_={class:"form-group w-full"},c_={key:0,class:"text-danger text-sm"},u_={class:"form-group w-full"},d_={key:0,class:"text-danger text-sm"},h_={class:"form-group"},f_={key:0,class:"text-danger text-sm"},p_={class:"form-group"},g_={class:"modal-footer"},m_={key:2,class:"modal-backdrop"},b_={class:"modal-content"},__={class:"modal-header"},y_={class:"modal-body"},w_={key:0,class:"saving-overlay"},v_={class:"form-group"},S_=["value"],E_={key:0,class:"text-danger text-sm"},k_={class:"form-group"},T_={key:0,class:"text-danger text-sm"},x_={class:"form-group"},O_={key:0,class:"text-danger text-sm"},C_={class:"form-group"},A_={class:"form-group"},P_={class:"form-group"},R_={class:"modal-footer"},j_={key:3,class:"modal-backdrop"},I_={class:"modal-content"},B_={class:"modal-header"},$_={class:"modal-body"},D_={key:0,class:"saving-overlay"},U_={class:"form-group"},L_={key:0,class:"text-danger text-sm"},N_={class:"flex gap-4"},M_={class:"form-group w-full"},F_={class:"form-group w-full"},q_={class:"form-group"},H_={class:"form-group"},W_={class:"form-group"},V_={class:"form-group"},K_={class:"modal-footer"},J_={key:4,class:"modal-backdrop"},z_={class:"modal-content"},G_={class:"modal-header"},Q_={class:"modal-body"},Y_={key:0,class:"bank-details-card"},X_={class:"detail-row"},Z_={class:"value"},ey={class:"detail-row"},ty={class:"value"},sy={class:"detail-row"},ry={class:"value"},ny={class:"detail-row"},iy={class:"value"};function oy(t,e,s,r,n,i){const o=Hc("Login");return B(),D("div",Ub,[n.user?(B(),D("div",Lb,[d("aside",{class:De(["sidebar",{open:n.isSidebarOpen,collapsed:n.isSidebarCollapsed&&!n.isMobile}])},[d("div",Nb,[d("div",Mb,[d("div",Fb,$(i.companyInitials),1),d("div",qb,[e[42]||(e[42]=d("h1",null,"Admin Nexus",-1)),Y(d("select",{"onUpdate:modelValue":e[0]||(e[0]=a=>n.selectedCompany=a),class:"brand-select"},[(B(!0),D(fe,null,Ke(n.companies,a=>(B(),D("option",{key:a,value:a},$(a),9,Hb))),128))],512),[[br,n.selectedCompany]])])]),n.isMobile?z("",!0):(B(),D("button",{key:0,class:"collapse-btn",onClick:e[1]||(e[1]=(...a)=>i.toggleSidebarCollapse&&i.toggleSidebarCollapse(...a)),title:"Toggle Sidebar"},[d("i",{class:De(["ph",n.isSidebarCollapsed?"ph-caret-right":"ph-caret-left"])},null,2)]))]),d("nav",Wb,[d("a",{href:"#",class:De(["nav-item",{active:n.activeTab==="dues"}]),onClick:e[2]||(e[2]=Cs(a=>i.switchTab("dues"),["prevent"])),title:"Dues"},e[43]||(e[43]=[d("span",{class:"icon"},[d("i",{class:"ph ph-currency-inr"})],-1),d("span",{class:"label"},"Dues",-1)]),2),d("a",{href:"#",class:De(["nav-item",{active:n.activeTab==="orders"}]),onClick:e[3]||(e[3]=Cs(a=>i.switchTab("orders"),["prevent"])),title:"Orders"},e[44]||(e[44]=[d("span",{class:"icon"},[d("i",{class:"ph ph-package"})],-1),d("span",{class:"label"},"Orders",-1)]),2),d("a",{href:"#",class:De(["nav-item",{active:n.activeTab==="billers"}]),onClick:e[4]||(e[4]=Cs(a=>i.switchTab("billers"),["prevent"])),title:"Billers"},e[45]||(e[45]=[d("span",{class:"icon"},[d("i",{class:"ph ph-users"})],-1),d("span",{class:"label"},"Billers",-1)]),2),d("a",{href:"#",class:De(["nav-item",{active:n.activeTab==="pdf"}]),onClick:e[5]||(e[5]=Cs(a=>i.switchTab("pdf"),["prevent"])),title:"PDF Generator"},e[46]||(e[46]=[d("span",{class:"icon"},[d("i",{class:"ph ph-file-pdf"})],-1),d("span",{class:"label"},"PDF Generator",-1)]),2)]),d("div",{class:"sidebar-footer",onClick:e[6]||(e[6]=(...a)=>i.handleLogout&&i.handleLogout(...a)),title:"Click to Logout"},[d("div",Vb,[e[48]||(e[48]=d("div",{class:"avatar"},"S",-1)),d("div",Kb,[d("span",Jb,$(n.user?n.user.full_name:"User"),1),e[47]||(e[47]=d("span",{class:"role"},"Sign Out",-1))])])])],2),d("header",zb,[d("button",{class:"menu-btn",onClick:e[7]||(e[7]=(...a)=>i.toggleSidebar&&i.toggleSidebar(...a))},e[49]||(e[49]=[d("i",{class:"ph ph-list"},null,-1)])),e[50]||(e[50]=d("div",{class:"mobile-brand"},"Admin Nexus",-1))]),d("main",{class:De(["main-content",{expanded:n.isSidebarCollapsed&&!n.isMobile}])},[d("div",Gb,[d("h2",Qb,$(i.pageTitle),1),d("div",Yb,[n.activeTab!=="pdf"?(B(),D("button",{key:0,class:"btn btn-primary",onClick:e[8]||(e[8]=(...a)=>i.openAddPopup&&i.openAddPopup(...a))},e[51]||(e[51]=[d("i",{class:"ph ph-plus"},null,-1),gt(" Add New ",-1)]))):z("",!0)])]),d("div",Xb,[(B(),Rn(Wc(i.currentTabComponent),{bills:n.bills,orders:n.orders,billers:n.billers,brands:n.brands,"is-loading":n.isLoading,"is-mobile":n.isMobile,onEditBill:i.editBill,onMarkPaid:i.markPaid,onMarkUnpaid:i.markUnpaid,onShowBankInfo:i.showBankInfo,onCopyLink:i.copyLink,onEditBiller:i.editBiller,onGeneratePdf:i.generatePdf},null,40,["bills","orders","billers","brands","is-loading","is-mobile","onEditBill","onMarkPaid","onMarkUnpaid","onShowBankInfo","onCopyLink","onEditBiller","onGeneratePdf"]))])],2),n.isSidebarOpen?(B(),D("div",{key:0,class:"sidebar-overlay",onClick:e[9]||(e[9]=a=>n.isSidebarOpen=!1)})):z("",!0),n.showBillPopup?(B(),D("div",Zb,[d("div",e_,[d("div",t_,[d("h3",null,$(n.editBillMode?"Edit Bill":"New Bill"),1),d("button",{class:"btn-icon",onClick:e[10]||(e[10]=(...a)=>i.closeBillPopup&&i.closeBillPopup(...a))},"")]),d("div",s_,[n.saving?(B(),D("div",r_,e[52]||(e[52]=[d("div",{class:"loader"},null,-1),gt(" Saving... ",-1)]))):z("",!0),d("div",n_,[e[54]||(e[54]=d("label",null,"Biller",-1)),Y(d("select",{"onUpdate:modelValue":e[11]||(e[11]=a=>n.newBill.biller=a),class:"form-control"},[e[53]||(e[53]=d("option",{value:"",disabled:""},"Select a biller",-1)),(B(!0),D(fe,null,Ke(n.billers,a=>(B(),D("option",{key:a.id,value:a.name},$(a.name),9,i_))),128))],512),[[br,n.newBill.biller]]),n.errors.biller?(B(),D("span",o_,$(n.errors.biller),1)):z("",!0)]),d("div",a_,[d("div",l_,[e[55]||(e[55]=d("label",null,"Billing Date",-1)),Y(d("input",{type:"date","onUpdate:modelValue":e[12]||(e[12]=a=>n.newBill.billing_date=a),class:"form-control"},null,512),[[ae,n.newBill.billing_date]]),n.errors.billing_date?(B(),D("span",c_,$(n.errors.billing_date),1)):z("",!0)]),d("div",u_,[e[56]||(e[56]=d("label",null,"Due Date",-1)),Y(d("input",{type:"date","onUpdate:modelValue":e[13]||(e[13]=a=>n.newBill.due_date=a),class:"form-control"},null,512),[[ae,n.newBill.due_date]]),n.errors.due_date?(B(),D("span",d_,$(n.errors.due_date),1)):z("",!0)])]),d("div",h_,[e[57]||(e[57]=d("label",null,"Amount ()",-1)),Y(d("input",{type:"number","onUpdate:modelValue":e[14]||(e[14]=a=>n.newBill.amount=a),class:"form-control",placeholder:"0.00"},null,512),[[ae,n.newBill.amount]]),n.errors.amount?(B(),D("span",f_,$(n.errors.amount),1)):z("",!0)]),d("div",p_,[e[58]||(e[58]=d("label",null,"Remarks",-1)),Y(d("input",{type:"text","onUpdate:modelValue":e[15]||(e[15]=a=>n.newBill.remarks=a),class:"form-control",placeholder:"Optional remarks"},null,512),[[ae,n.newBill.remarks]])])]),d("div",g_,[d("button",{class:"btn btn-secondary",onClick:e[16]||(e[16]=(...a)=>i.closeBillPopup&&i.closeBillPopup(...a))},"Cancel"),d("button",{class:"btn btn-primary",onClick:e[17]||(e[17]=(...a)=>i.validateAndSaveBill&&i.validateAndSaveBill(...a))},$(n.editBillMode?"Update Bill":"Safe Bill"),1)])])])):z("",!0),n.showOrderPopup?(B(),D("div",m_,[d("div",b_,[d("div",__,[e[59]||(e[59]=d("h3",null,"New Order",-1)),d("button",{class:"btn-icon",onClick:e[18]||(e[18]=(...a)=>i.closeOrderPopup&&i.closeOrderPopup(...a))},"")]),d("div",y_,[n.saving?(B(),D("div",w_,e[60]||(e[60]=[d("div",{class:"loader"},null,-1)]))):z("",!0),d("div",v_,[e[61]||(e[61]=d("label",null,"Biller",-1)),Y(d("select",{"onUpdate:modelValue":e[19]||(e[19]=a=>n.newOrder.biller=a),class:"form-control"},[(B(!0),D(fe,null,Ke(n.billers,a=>(B(),D("option",{key:a.id,value:a.name},$(a.name),9,S_))),128))],512),[[br,n.newOrder.biller]]),n.errors.biller?(B(),D("span",E_,$(n.errors.biller),1)):z("",!0)]),d("div",k_,[e[62]||(e[62]=d("label",null,"Order Date",-1)),Y(d("input",{type:"date","onUpdate:modelValue":e[20]||(e[20]=a=>n.newOrder.order_placed_on=a),class:"form-control"},null,512),[[ae,n.newOrder.order_placed_on]]),n.errors.order_placed_on?(B(),D("span",T_,$(n.errors.order_placed_on),1)):z("",!0)]),d("div",x_,[e[63]||(e[63]=d("label",null,"Items",-1)),Y(d("textarea",{"onUpdate:modelValue":e[21]||(e[21]=a=>n.newOrder.order_items=a),class:"form-control",rows:"3",placeholder:"List items here..."},null,512),[[ae,n.newOrder.order_items]]),n.errors.order_items?(B(),D("span",O_,$(n.errors.order_items),1)):z("",!0)]),d("div",C_,[e[64]||(e[64]=d("label",null,"Transport",-1)),Y(d("input",{type:"text","onUpdate:modelValue":e[22]||(e[22]=a=>n.newOrder.transport=a),class:"form-control"},null,512),[[ae,n.newOrder.transport]])]),d("div",A_,[e[65]||(e[65]=d("label",null,"Drive Link",-1)),Y(d("input",{type:"text","onUpdate:modelValue":e[23]||(e[23]=a=>n.newOrder.drive_link=a),class:"form-control",placeholder:"https://..."},null,512),[[ae,n.newOrder.drive_link]])]),d("div",P_,[e[66]||(e[66]=d("label",null,"Executive",-1)),Y(d("input",{type:"text","onUpdate:modelValue":e[24]||(e[24]=a=>n.newOrder.executive=a),class:"form-control"},null,512),[[ae,n.newOrder.executive]])])]),d("div",R_,[d("button",{class:"btn btn-secondary",onClick:e[25]||(e[25]=(...a)=>i.closeOrderPopup&&i.closeOrderPopup(...a))},"Cancel"),d("button",{class:"btn btn-primary",onClick:e[26]||(e[26]=(...a)=>i.validateAndSaveOrder&&i.validateAndSaveOrder(...a))},"Save Order")])])])):z("",!0),n.showBillerPopup?(B(),D("div",j_,[d("div",I_,[d("div",B_,[d("h3",null,$(n.editBillerMode?"Edit Biller":"Add Biller"),1),d("button",{class:"btn-icon",onClick:e[27]||(e[27]=(...a)=>i.closeBillerPopup&&i.closeBillerPopup(...a))},"")]),d("div",$_,[n.saving?(B(),D("div",D_,e[67]||(e[67]=[d("div",{class:"loader"},null,-1)]))):z("",!0),d("div",U_,[e[68]||(e[68]=d("label",null,"Name",-1)),Y(d("input",{type:"text","onUpdate:modelValue":e[28]||(e[28]=a=>n.newBiller.name=a),class:"form-control"},null,512),[[ae,n.newBiller.name]]),n.errors.name?(B(),D("span",L_,$(n.errors.name),1)):z("",!0)]),d("div",N_,[d("div",M_,[e[69]||(e[69]=d("label",null,"Credit Days",-1)),Y(d("input",{type:"number","onUpdate:modelValue":e[29]||(e[29]=a=>n.newBiller.creditDuration=a),class:"form-control"},null,512),[[ae,n.newBiller.creditDuration]])]),d("div",F_,[e[70]||(e[70]=d("label",null,"Executive",-1)),Y(d("input",{type:"text","onUpdate:modelValue":e[30]||(e[30]=a=>n.newBiller.executive=a),class:"form-control"},null,512),[[ae,n.newBiller.executive]])])]),d("div",q_,[e[71]||(e[71]=d("label",null,"Bank Name",-1)),Y(d("input",{type:"text","onUpdate:modelValue":e[31]||(e[31]=a=>n.newBiller.bankName=a),class:"form-control"},null,512),[[ae,n.newBiller.bankName]])]),d("div",H_,[e[72]||(e[72]=d("label",null,"Account Number",-1)),Y(d("input",{type:"text","onUpdate:modelValue":e[32]||(e[32]=a=>n.newBiller.accountNo=a),class:"form-control"},null,512),[[ae,n.newBiller.accountNo]])]),d("div",W_,[e[73]||(e[73]=d("label",null,"IFSC",-1)),Y(d("input",{type:"text","onUpdate:modelValue":e[33]||(e[33]=a=>n.newBiller.ifsc=a),class:"form-control"},null,512),[[ae,n.newBiller.ifsc]])]),d("div",V_,[e[74]||(e[74]=d("label",null,"Branch",-1)),Y(d("input",{type:"text","onUpdate:modelValue":e[34]||(e[34]=a=>n.newBiller.branch=a),class:"form-control"},null,512),[[ae,n.newBiller.branch]])])]),d("div",K_,[d("button",{class:"btn btn-secondary",onClick:e[35]||(e[35]=(...a)=>i.closeBillerPopup&&i.closeBillerPopup(...a))},"Cancel"),d("button",{class:"btn btn-primary",onClick:e[36]||(e[36]=(...a)=>i.validateAndSaveBiller&&i.validateAndSaveBiller(...a))},$(n.editBillerMode?"Update":"Save"),1)])])])):z("",!0),n.showBankPopup?(B(),D("div",J_,[d("div",z_,[d("div",G_,[e[75]||(e[75]=d("h3",null,"Bank Details",-1)),d("button",{class:"btn-icon",onClick:e[37]||(e[37]=(...a)=>i.closeBankPopup&&i.closeBankPopup(...a))},"")]),d("div",Q_,[n.selectedBiller?(B(),D("div",Y_,[d("div",X_,[e[76]||(e[76]=d("span",{class:"label"},"Bank",-1)),d("span",Z_,$(n.selectedBiller.bankName),1),d("button",{class:"btn-icon-sm",onClick:e[38]||(e[38]=a=>i.copyText(n.selectedBiller.bankName))},"")]),d("div",ey,[e[77]||(e[77]=d("span",{class:"label"},"Account",-1)),d("span",ty,$(n.selectedBiller.accountNo),1),d("button",{class:"btn-icon-sm",onClick:e[39]||(e[39]=a=>i.copyText(n.selectedBiller.accountNo))},"")]),d("div",sy,[e[78]||(e[78]=d("span",{class:"label"},"IFSC",-1)),d("span",ry,$(n.selectedBiller.ifsc),1),d("button",{class:"btn-icon-sm",onClick:e[40]||(e[40]=a=>i.copyText(n.selectedBiller.ifsc))},"")]),d("div",ny,[e[79]||(e[79]=d("span",{class:"label"},"Branch",-1)),d("span",iy,$(n.selectedBiller.branch),1),d("button",{class:"btn-icon-sm",onClick:e[41]||(e[41]=a=>i.copyText(n.selectedBiller.branch))},"")])])):z("",!0)])])])):z("",!0),n.toast.message?(B(),D("div",{key:5,class:De(["toast",n.toast.type])},$(n.toast.message),3)):z("",!0)])):(B(),Rn(o,{key:0,companyName:n.selectedCompany,initials:i.companyInitials,companies:n.companies,isLoading:n.authLoading,onLoginManual:i.handleLoginManual,onSignupManual:i.handleSignupManual,onSwitchCompany:i.handleCompanySwitchFromLogin},null,8,["companyName","initials","companies","isLoading","onLoginManual","onSignupManual","onSwitchCompany"]))])}const ay=bs(Db,[["render",oy],["__scopeId","data-v-1935b0c9"]]);od(ay).mount("#app");
